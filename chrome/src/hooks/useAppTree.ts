import { createState } from "reactivity-store";

import { isServer } from "@/utils/isServer";

import type { PlainNode } from "@my-react-devtool/core";

type AppTreeType = { nodes: PlainNode[]; current: PlainNode | null };

const str =
  '{"id":"0","uuid":"0--fiber","deep":0,"name":"Root","content":"function Root(param) {\\n    _s2();\\n    let { callbacks, children } = param;\\n    // We use `useLayoutEffect` to guarantee the callbacks are executed\\n    // as soon as React flushes the update\\n    _react.default.useLayoutEffect(()=>callbacks.forEach((callback)=>callback()), [\\n        callbacks\\n    ]);\\n    // TODO: remove in the next major version\\n    // We should ask to measure the Web Vitals after rendering completes so we\\n    // don\'t cause any hydration delay:\\n    _react.default.useEffect(()=>{\\n        (0, _performancerelayer.default)(onPerfEntry);\\n    }, []);\\n    if (false) {}\\n    return children;\\n}","key":null,"type":2,"children":[{"id":"1","uuid":"1--fiber","deep":1,"name":"Strict","content":"Symbol(react.strict_mode)","key":null,"type":4096,"children":[{"id":"2","uuid":"2--fiber","deep":2,"name":"Fragment","content":"Symbol(react.fragment)","key":null,"type":16384,"children":[{"id":"3","uuid":"3--fiber","deep":3,"name":"Head","content":"function Head(param) {\\n    _s1();\\n    let { callback } = param;\\n    // We use `useLayoutEffect` to guarantee the callback is executed\\n    // as soon as React flushes the update.\\n    _react.default.useLayoutEffect(()=>callback(), [\\n        callback\\n    ]);\\n    return null;\\n}","key":null,"type":2,"children":[{"id":"4","uuid":"4--fiber","deep":4,"name":"Null","key":null,"type":256}]},{"id":"5","uuid":"5--fiber","deep":3,"name":"AppContainer","content":"function AppContainer(param) {\\n    _s();\\n    let { children } = param;\\n    // Create a memoized value for next/navigation router context.\\n    const adaptedForAppRouter = _react.default.useMemo(()=>{\\n        return (0, _adapters.adaptForAppRouterInstance)(router);\\n    }, []);\\n    var _self___NEXT_DATA___autoExport;\\n    return /*#__PURE__*/ (0, _jsxruntime.jsx)(Container, {\\n        fn: (error)=>// eslint-disable-next-line @typescript-eslint/no-use-before-define\\n            renderError({\\n                App: CachedApp,\\n                err: error\\n            }).catch((err)=>console.error(\\"Error rendering page: \\", err)),\\n        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_approutercontextsharedruntime.AppRouterContext.Provider, {\\n            value: adaptedForAppRouter,\\n            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_hooksclientcontextsharedruntime.SearchParamsContext.Provider, {\\n                value: (0, _adapters.adaptForSearchParams)(router),\\n                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_adapters.PathnameContextProviderAdapter, {\\n                    router: router,\\n                    isAutoExport: (_self___NEXT_DATA___autoExport = self.__NEXT_DATA__.autoExport) != null ? _self___NEXT_DATA___autoExport : false,\\n                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_hooksclientcontextsharedruntime.PathParamsContext.Provider, {\\n                        value: (0, _adapters.adaptForPathParams)(router),\\n                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_routercontextsharedruntime.RouterContext.Provider, {\\n                            value: (0, _router.makePublicRouterInstance)(router),\\n                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_headmanagercontextsharedruntime.HeadManagerContext.Provider, {\\n                                value: headManager,\\n                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_imageconfigcontextsharedruntime.ImageConfigContext.Provider, {\\n                                    value: {\\"deviceSizes\\":[640,750,828,1080,1200,1920,2048,3840],\\"imageSizes\\":[16,32,48,64,96,128,256,384],\\"path\\":\\"/_next/image\\",\\"loader\\":\\"default\\",\\"dangerouslyAllowSVG\\":false,\\"unoptimized\\":false,\\"domains\\":[],\\"remotePatterns\\":[]},\\n                                    children: children\\n                                })\\n                            })\\n                        })\\n                    })\\n                })\\n            })\\n        })\\n    });\\n}","key":null,"type":2,"children":[{"id":"6","uuid":"6--fiber","deep":4,"name":"Container","content":"class Container extends _react.default.Component {\\n    componentDidCatch(componentErr, info) {\\n        this.props.fn(componentErr, info);\\n    }\\n    componentDidMount() {\\n        this.scrollToHash();\\n        // We need to replace the router state if:\\n        // - the page was (auto) exported and has a query string or search (hash)\\n        // - it was auto exported and is a dynamic route (to provide params)\\n        // - if it is a client-side skeleton (fallback render)\\n        // - if middleware matches the current page (may have rewrite params)\\n        // - if rewrites in next.config.js match (may have rewrite params)\\n        if (router.isSsr && (initialData.isFallback || initialData.nextExport && ((0, _isdynamic.isDynamicRoute)(router.pathname) || location.search || false || initialMatchesMiddleware) || initialData.props && initialData.props.__N_SSG && (location.search || false || initialMatchesMiddleware))) {\\n            // update query on mount for exported pages\\n            router.replace(router.pathname + \\"?\\" + String((0, _querystring.assign)((0, _querystring.urlQueryToSearchParams)(router.query), new URLSearchParams(location.search))), asPath, {\\n                // @ts-ignore\\n                // WARNING: `_h` is an internal option for handing Next.js\\n                // client-side hydration. Your app should _never_ use this property.\\n                // It may change at any time without notice.\\n                _h: 1,\\n                // Fallback pages must trigger the data fetch, so the transition is\\n                // not shallow.\\n                // Other pages (strictly updating query) happens shallowly, as data\\n                // requirements would already be present.\\n                shallow: !initialData.isFallback && !initialMatchesMiddleware\\n            }).catch((err)=>{\\n                if (!err.cancelled) throw err;\\n            });\\n        }\\n    }\\n    componentDidUpdate() {\\n        this.scrollToHash();\\n    }\\n    scrollToHash() {\\n        let { hash } = location;\\n        hash = hash && hash.substring(1);\\n        if (!hash) return;\\n        const el = document.getElementById(hash);\\n        if (!el) return;\\n        // If we call scrollIntoView() in here without a setTimeout\\n        // it won\'t scroll properly.\\n        setTimeout(()=>el.scrollIntoView(), 0);\\n    }\\n    render() {\\n        if (false) {} else {\\n            const ReactDevOverlay = (__webpack_require__(/*! ./components/react-dev-overlay/pages/client */ \\"../../node_modules/.pnpm/next@14.2.3_@babel+core@7.23.9_react-dom@18.2.0_react@18.2.0/node_modules/next/dist/client/components/react-dev-overlay/pages/client.js\\").ReactDevOverlay);\\n            return /*#__PURE__*/ (0, _jsxruntime.jsx)(ReactDevOverlay, {\\n                children: this.props.children\\n            });\\n        }\\n    }\\n}","key":null,"type":1,"children":[{"id":"7","uuid":"7--fiber","deep":5,"name":"ReactDevOverlay","content":"function ReactDevOverlay(param) {\\n    _s();\\n    let { children, preventDisplay, globalOverlay } = param;\\n    const [state, dispatch] = (0, _shared.useErrorOverlayReducer)();\\n    _react.useEffect(()=>{\\n        _bus.on(dispatch);\\n        return function() {\\n            _bus.off(dispatch);\\n        };\\n    }, [\\n        dispatch\\n    ]);\\n    const onComponentError = _react.useCallback((_error, _componentStack)=>{\\n    // TODO: special handling\\n    }, []);\\n    const hasBuildError = state.buildError != null;\\n    const hasRuntimeErrors = Boolean(state.errors.length);\\n    const errorType = hasBuildError ? \\"build\\" : hasRuntimeErrors ? \\"runtime\\" : null;\\n    const isMounted = errorType !== null;\\n    const displayPrevented = shouldPreventDisplay(errorType, preventDisplay);\\n    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {\\n        children: [\\n            /*#__PURE__*/ (0, _jsxruntime.jsx)(_ErrorBoundary.ErrorBoundary, {\\n                globalOverlay: globalOverlay,\\n                isMounted: isMounted,\\n                onError: onComponentError,\\n                children: children != null ? children : null\\n            }),\\n            isMounted ? /*#__PURE__*/ (0, _jsxruntime.jsxs)(_ShadowPortal.ShadowPortal, {\\n                children: [\\n                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_CssReset.CssReset, {}),\\n                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_Base.Base, {}),\\n                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_ComponentStyles.ComponentStyles, {}),\\n                    displayPrevented ? null : hasBuildError ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_BuildError.BuildError, {\\n                        message: state.buildError,\\n                        versionInfo: state.versionInfo\\n                    }) : hasRuntimeErrors ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_Errors.Errors, {\\n                        isAppDir: false,\\n                        errors: state.errors,\\n                        versionInfo: state.versionInfo,\\n                        initialDisplayState: \\"fullscreen\\"\\n                    }) : undefined\\n                ]\\n            }) : undefined\\n        ]\\n    });\\n}","key":null,"type":2,"children":[{"id":"8","uuid":"8--fiber","deep":6,"name":"Fragment","content":"Symbol(react.fragment)","key":null,"type":16384,"children":[{"id":"9","uuid":"9--fiber","deep":7,"name":"ErrorBoundary","content":"class ErrorBoundary extends _react.PureComponent {\\n    static getDerivedStateFromError(error) {\\n        return {\\n            error\\n        };\\n    }\\n    componentDidCatch(error, // accidentally excluded in some versions.\\n    errorInfo) {\\n        this.props.onError(error, (errorInfo == null ? void 0 : errorInfo.componentStack) || null);\\n        if (!this.props.globalOverlay) {\\n            this.setState({\\n                error\\n            });\\n        }\\n    }\\n    // Explicit type is needed to avoid the generated `.d.ts` having a wide return type that could be specific the the `@types/react` version.\\n    render() {\\n        // The component has to be unmounted or else it would continue to error\\n        return this.state.error || this.props.globalOverlay && this.props.isMounted ? // we have to render the html shell otherwise the shadow root will not be able to attach\\n        this.props.globalOverlay ? /*#__PURE__*/ (0, _jsxruntime.jsxs)(\\"html\\", {\\n            children: [\\n                /*#__PURE__*/ (0, _jsxruntime.jsx)(\\"head\\", {}),\\n                /*#__PURE__*/ (0, _jsxruntime.jsx)(\\"body\\", {})\\n            ]\\n        }) : null : this.props.children;\\n    }\\n    constructor(...args){\\n        super(...args);\\n        this.state = {\\n            error: null\\n        };\\n    }\\n}","key":null,"type":1,"children":[{"id":"10","uuid":"10--fiber","deep":8,"name":"AppRouterContext - (provider)","content":"[object Object]","key":null,"type":32,"children":[{"id":"11","uuid":"11--fiber","deep":9,"name":"SearchParamsContext - (provider)","content":"[object Object]","key":null,"type":32,"children":[{"id":"12","uuid":"12--fiber","deep":10,"name":"PathnameContextProviderAdapter","content":"function PathnameContextProviderAdapter(param) {\\n    let { children, router, ...props } = param;\\n    const ref = (0, _react.useRef)(props.isAutoExport);\\n    const value = (0, _react.useMemo)(()=>{\\n        // isAutoExport is only ever `true` on the first render from the server,\\n        // so reset it to `false` after we read it for the first time as `true`. If\\n        // we don\'t use the value, then we don\'t need it.\\n        const isAutoExport = ref.current;\\n        if (isAutoExport) {\\n            ref.current = false;\\n        }\\n        // When the route is a dynamic route, we need to do more processing to\\n        // determine if we need to stop showing the pathname.\\n        if ((0, _utils.isDynamicRoute)(router.pathname)) {\\n            // When the router is rendering the fallback page, it can\'t possibly know\\n            // the path, so return `null` here. Read more about fallback pages over\\n            // at:\\n            // https://nextjs.org/docs/api-reference/data-fetching/get-static-paths#fallback-pages\\n            if (router.isFallback) {\\n                return null;\\n            }\\n            // When `isAutoExport` is true, meaning this is a page page has been\\n            // automatically statically optimized, and the router is not ready, then\\n            // we can\'t know the pathname yet. Read more about automatic static\\n            // optimization at:\\n            // https://nextjs.org/docs/advanced-features/automatic-static-optimization\\n            if (isAutoExport && !router.isReady) {\\n                return null;\\n            }\\n        }\\n        // The `router.asPath` contains the pathname seen by the browser (including\\n        // any query strings), so it should have that stripped. Read more about the\\n        // `asPath` option over at:\\n        // https://nextjs.org/docs/api-reference/next/router#router-object\\n        let url;\\n        try {\\n            url = new URL(router.asPath, \\"http://f\\");\\n        } catch (_) {\\n            // fallback to / for invalid asPath values e.g. //\\n            return \\"/\\";\\n        }\\n        return url.pathname;\\n    }, [\\n        router.asPath,\\n        router.isFallback,\\n        router.isReady,\\n        router.pathname\\n    ]);\\n    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_hooksclientcontextsharedruntime.PathnameContext.Provider, {\\n        value: value,\\n        children: children\\n    });\\n}","key":null,"type":2,"children":[{"id":"13","uuid":"13--fiber","deep":11,"name":"PathnameContext - (provider)","content":"[object Object]","key":null,"type":32,"children":[{"id":"14","uuid":"14--fiber","deep":12,"name":"PathParamsContext - (provider)","content":"[object Object]","key":null,"type":32,"children":[{"id":"15","uuid":"15--fiber","deep":13,"name":"RouterContext - (provider)","content":"[object Object]","key":null,"type":32,"children":[{"id":"16","uuid":"16--fiber","deep":14,"name":"HeadManagerContext - (provider)","content":"[object Object]","key":null,"type":32,"children":[{"id":"17","uuid":"17--fiber","deep":15,"name":"ImageConfigContext - (provider)","content":"[object Object]","key":null,"type":32,"children":[{"id":"18","uuid":"18--fiber","deep":16,"name":"App","content":"function App(param) {\\n    let { Component, pageProps } = param;\\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\\n        ...pageProps\\n    }, void 0, false, {\\n        fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/_app.tsx\\",\\n        lineNumber: 5,\\n        columnNumber: 10\\n    }, this);\\n}","key":null,"type":2,"children":[{"id":"19","uuid":"19--fiber","deep":17,"name":"Home","content":"function Home() {\\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"main\\", {\\n        className: \\"flex min-h-screen flex-col items-center justify-between p-24\\",\\n        children: [\\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"div\\", {\\n                className: \\"z-10 w-full max-w-5xl items-center justify-between font-mono text-sm lg:flex\\",\\n                children: [\\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"p\\", {\\n                        className: \\"fixed left-0 top-0 flex w-full justify-center border-b border-gray-300 bg-gradient-to-b from-zinc-200 pb-6 pt-8 backdrop-blur-2xl dark:border-neutral-800 dark:bg-zinc-800/30 dark:from-inherit lg:static lg:w-auto  lg:rounded-xl lg:border lg:bg-gray-200 lg:p-4 lg:dark:bg-zinc-800/30\\",\\n                        children: [\\n                            \\"Get started by editing\\\\xa0\\",\\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"code\\", {\\n                                className: \\"font-mono font-bold\\",\\n                                children: \\"pages/index.tsx\\"\\n                            }, void 0, false, {\\n                                fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                                lineNumber: 16,\\n                                columnNumber: 11\\n                            }, this)\\n                        ]\\n                    }, void 0, true, {\\n                        fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                        lineNumber: 14,\\n                        columnNumber: 9\\n                    }, this),\\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"div\\", {\\n                        className: \\"fixed bottom-0 left-0 flex h-48 w-full items-end justify-center bg-gradient-to-t from-white via-white dark:from-black dark:via-black lg:static lg:h-auto lg:w-auto lg:bg-none\\",\\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"a\\", {\\n                            className: \\"pointer-events-none flex place-items-center gap-2 p-8 lg:pointer-events-auto lg:p-0\\",\\n                            href: \\"https://vercel.com?utm_source=create-next-app&utm_medium=default-template-tw&utm_campaign=create-next-app\\",\\n                            target: \\"_blank\\",\\n                            rel: \\"noopener noreferrer\\",\\n                            children: [\\n                                \\"By \\",\\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_1___default()), {\\n                                    src: \\"/vercel.svg\\",\\n                                    alt: \\"Vercel Logo\\",\\n                                    className: \\"dark:invert\\",\\n                                    width: 100,\\n                                    height: 24,\\n                                    priority: true\\n                                }, void 0, false, {\\n                                    fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                                    lineNumber: 25,\\n                                    columnNumber: 16\\n                                }, this),\\n                                \\" \\",\\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"span\\", {\\n                                    className: \\"text-[purple] font-semibold\\",\\n                                    children: [\\n                                        \\"power by\\",\\n                                        \\" \\",\\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"a\\", {\\n                                            className: \\"underline underline-offset-4\\",\\n                                            href: \\"https://github.com/MrWangJustToDo/MyReact\\",\\n                                            target: \\"_blank\\",\\n                                            children: \\"@my-react\\"\\n                                        }, void 0, false, {\\n                                            fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                                            lineNumber: 28,\\n                                            columnNumber: 15\\n                                        }, this)\\n                                    ]\\n                                }, void 0, true, {\\n                                    fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                                    lineNumber: 26,\\n                                    columnNumber: 13\\n                                }, this)\\n                            ]\\n                        }, void 0, true, {\\n                            fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                            lineNumber: 19,\\n                            columnNumber: 11\\n                        }, this)\\n                    }, void 0, false, {\\n                        fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                        lineNumber: 18,\\n                        columnNumber: 9\\n                    }, this)\\n                ]\\n            }, void 0, true, {\\n                fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                lineNumber: 13,\\n                columnNumber: 7\\n            }, this),\\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"div\\", {\\n                className: \\"relative flex place-items-center before:absolute before:h-[300px] before:w-[480px] before:-translate-x-1/2 before:rounded-full before:bg-gradient-radial before:from-white before:to-transparent before:blur-2xl before:content-[\'\'] after:absolute after:-z-20 after:h-[180px] after:w-[240px] after:translate-x-1/3 after:bg-gradient-conic after:from-sky-200 after:via-blue-200 after:blur-2xl after:content-[\'\'] before:dark:bg-gradient-to-br before:dark:from-transparent before:dark:to-blue-700/10 after:dark:from-sky-900 after:dark:via-[#0141ff]/40 before:lg:h-[360px]\\",\\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_1___default()), {\\n                    className: \\"relative dark:drop-shadow-[0_0_0.3rem_#ffffff70] dark:invert\\",\\n                    src: \\"/next.svg\\",\\n                    alt: \\"Next.js Logo\\",\\n                    width: 180,\\n                    height: 37,\\n                    priority: true\\n                }, void 0, false, {\\n                    fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                    lineNumber: 37,\\n                    columnNumber: 9\\n                }, this)\\n            }, void 0, false, {\\n                fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                lineNumber: 36,\\n                columnNumber: 7\\n            }, this),\\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"div\\", {\\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_2__.Suspense, {\\n                    fallback: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"div\\", {\\n                        className: \\"text-lg font-mono text-red-700\\",\\n                        children: \\"loading...\\"\\n                    }, void 0, false, {\\n                        fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                        lineNumber: 40,\\n                        columnNumber: 29\\n                    }, void 0),\\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Bar, {}, void 0, false, {\\n                        fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                        lineNumber: 41,\\n                        columnNumber: 11\\n                    }, this)\\n                }, void 0, false, {\\n                    fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                    lineNumber: 40,\\n                    columnNumber: 9\\n                }, this)\\n            }, void 0, false, {\\n                fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                lineNumber: 39,\\n                columnNumber: 7\\n            }, this),\\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"div\\", {\\n                className: \\"mb-32 grid text-center lg:mb-0 lg:grid-cols-4 lg:text-left\\",\\n                children: [\\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"a\\", {\\n                        href: \\"https://nextjs.org/docs?utm_source=create-next-app&utm_medium=default-template-tw&utm_campaign=create-next-app\\",\\n                        className: \\"group rounded-lg border border-transparent px-5 py-4 transition-colors hover:border-gray-300 hover:bg-gray-100 hover:dark:border-neutral-700 hover:dark:bg-neutral-800/30\\",\\n                        target: \\"_blank\\",\\n                        rel: \\"noopener noreferrer\\",\\n                        children: [\\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"h2\\", {\\n                                className: \\"mb-3 text-2xl font-semibold\\",\\n                                children: [\\n                                    \\"Docs \\",\\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"span\\", {\\n                                        className: \\"inline-block transition-transform group-hover:translate-x-1 motion-reduce:transform-none\\",\\n                                        children: \\"->\\"\\n                                    }, void 0, false, {\\n                                        fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                                        lineNumber: 53,\\n                                        columnNumber: 18\\n                                    }, this)\\n                                ]\\n                            }, void 0, true, {\\n                                fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                                lineNumber: 52,\\n                                columnNumber: 11\\n                            }, this),\\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"p\\", {\\n                                className: \\"m-0 max-w-[30ch] text-sm opacity-50\\",\\n                                children: \\"Find in-depth information about Next.js features and API.\\"\\n                            }, void 0, false, {\\n                                fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                                lineNumber: 55,\\n                                columnNumber: 11\\n                            }, this)\\n                        ]\\n                    }, void 0, true, {\\n                        fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                        lineNumber: 46,\\n                        columnNumber: 9\\n                    }, this),\\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"a\\", {\\n                        href: \\"https://nextjs.org/learn?utm_source=create-next-app&utm_medium=default-template-tw&utm_campaign=create-next-app\\",\\n                        className: \\"group rounded-lg border border-transparent px-5 py-4 transition-colors hover:border-gray-300 hover:bg-gray-100 hover:dark:border-neutral-700 hover:dark:bg-neutral-800/30\\",\\n                        target: \\"_blank\\",\\n                        rel: \\"noopener noreferrer\\",\\n                        children: [\\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"h2\\", {\\n                                className: \\"mb-3 text-2xl font-semibold\\",\\n                                children: [\\n                                    \\"Learn \\",\\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"span\\", {\\n                                        className: \\"inline-block transition-transform group-hover:translate-x-1 motion-reduce:transform-none\\",\\n                                        children: \\"->\\"\\n                                    }, void 0, false, {\\n                                        fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                                        lineNumber: 65,\\n                                        columnNumber: 19\\n                                    }, this)\\n                                ]\\n                            }, void 0, true, {\\n                                fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                                lineNumber: 64,\\n                                columnNumber: 11\\n                            }, this),\\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"p\\", {\\n                                className: \\"m-0 max-w-[30ch] text-sm opacity-50\\",\\n                                children: \\"Learn about Next.js in an interactive course with\\\\xa0quizzes!\\"\\n                            }, void 0, false, {\\n                                fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                                lineNumber: 67,\\n                                columnNumber: 11\\n                            }, this)\\n                        ]\\n                    }, void 0, true, {\\n                        fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                        lineNumber: 58,\\n                        columnNumber: 9\\n                    }, this),\\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"a\\", {\\n                        href: \\"https://vercel.com/templates?framework=next.js&utm_source=create-next-app&utm_medium=default-template-tw&utm_campaign=create-next-app\\",\\n                        className: \\"group rounded-lg border border-transparent px-5 py-4 transition-colors hover:border-gray-300 hover:bg-gray-100 hover:dark:border-neutral-700 hover:dark:bg-neutral-800/30\\",\\n                        target: \\"_blank\\",\\n                        rel: \\"noopener noreferrer\\",\\n                        children: [\\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"h2\\", {\\n                                className: \\"mb-3 text-2xl font-semibold\\",\\n                                children: [\\n                                    \\"Templates \\",\\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"span\\", {\\n                                        className: \\"inline-block transition-transform group-hover:translate-x-1 motion-reduce:transform-none\\",\\n                                        children: \\"->\\"\\n                                    }, void 0, false, {\\n                                        fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                                        lineNumber: 77,\\n                                        columnNumber: 23\\n                                    }, this)\\n                                ]\\n                            }, void 0, true, {\\n                                fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                                lineNumber: 76,\\n                                columnNumber: 11\\n                            }, this),\\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"p\\", {\\n                                className: \\"m-0 max-w-[30ch] text-sm opacity-50\\",\\n                                children: \\"Discover and deploy boilerplate example Next.js\\\\xa0projects.\\"\\n                            }, void 0, false, {\\n                                fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                                lineNumber: 79,\\n                                columnNumber: 11\\n                            }, this)\\n                        ]\\n                    }, void 0, true, {\\n                        fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                        lineNumber: 70,\\n                        columnNumber: 9\\n                    }, this),\\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"a\\", {\\n                        href: \\"https://vercel.com/new?utm_source=create-next-app&utm_medium=default-template-tw&utm_campaign=create-next-app\\",\\n                        className: \\"group rounded-lg border border-transparent px-5 py-4 transition-colors hover:border-gray-300 hover:bg-gray-100 hover:dark:border-neutral-700 hover:dark:bg-neutral-800/30\\",\\n                        target: \\"_blank\\",\\n                        rel: \\"noopener noreferrer\\",\\n                        children: [\\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"h2\\", {\\n                                className: \\"mb-3 text-2xl font-semibold\\",\\n                                children: [\\n                                    \\"Deploy \\",\\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"span\\", {\\n                                        className: \\"inline-block transition-transform group-hover:translate-x-1 motion-reduce:transform-none\\",\\n                                        children: \\"->\\"\\n                                    }, void 0, false, {\\n                                        fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                                        lineNumber: 89,\\n                                        columnNumber: 20\\n                                    }, this)\\n                                ]\\n                            }, void 0, true, {\\n                                fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                                lineNumber: 88,\\n                                columnNumber: 11\\n                            }, this),\\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"p\\", {\\n                                className: \\"m-0 max-w-[30ch] text-sm opacity-50\\",\\n                                children: \\"Instantly deploy your Next.js site to a shareable URL with Vercel.\\"\\n                            }, void 0, false, {\\n                                fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                                lineNumber: 91,\\n                                columnNumber: 11\\n                            }, this)\\n                        ]\\n                    }, void 0, true, {\\n                        fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                        lineNumber: 82,\\n                        columnNumber: 9\\n                    }, this)\\n                ]\\n            }, void 0, true, {\\n                fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n                lineNumber: 45,\\n                columnNumber: 7\\n            }, this)\\n        ]\\n    }, void 0, true, {\\n        fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx\\",\\n        lineNumber: 12,\\n        columnNumber: 5\\n    }, this);\\n}","key":null,"type":2,"children":[{"id":"20","uuid":"20--fiber","deep":18,"name":"main","content":"main","key":null,"type":2048,"children":[{"id":"21","uuid":"21--fiber","deep":19,"name":"div","content":"div","key":null,"type":2048,"children":[{"id":"22","uuid":"22--fiber","deep":20,"name":"p","content":"p","key":null,"type":2048,"children":[{"id":"23","uuid":"23--fiber","deep":21,"name":"text - (native)","content":"Get started by editing ","key":null,"type":512},{"id":"24","uuid":"24--fiber","deep":21,"name":"code","content":"code","key":null,"type":2048,"children":[{"id":"25","uuid":"25--fiber","deep":22,"name":"text - (native)","content":"pages/index.tsx","key":null,"type":512}]}]},{"id":"26","uuid":"26--fiber","deep":20,"name":"div","content":"div","key":null,"type":2048,"children":[{"id":"27","uuid":"27--fiber","deep":21,"name":"a","content":"a","key":null,"type":2048,"children":[{"id":"28","uuid":"28--fiber","deep":22,"name":"text - (native)","content":"By ","key":null,"type":512},{"id":"29","uuid":"29--fiber","deep":22,"name":"anonymous - (forwardRef)","content":"(props, forwardedRef)=>{\\n    const pagesRouter = (0, _react.useContext)(_routercontextsharedruntime.RouterContext);\\n    // We\'re in the app directory if there is no pages router.\\n    const isAppRouter = !pagesRouter;\\n    const configContext = (0, _react.useContext)(_imageconfigcontextsharedruntime.ImageConfigContext);\\n    const config = (0, _react.useMemo)(()=>{\\n        const c = configEnv || configContext || _imageconfig.imageConfigDefault;\\n        const allSizes = [\\n            ...c.deviceSizes,\\n            ...c.imageSizes\\n        ].sort((a, b)=>a - b);\\n        const deviceSizes = c.deviceSizes.sort((a, b)=>a - b);\\n        return {\\n            ...c,\\n            allSizes,\\n            deviceSizes\\n        };\\n    }, [\\n        configContext\\n    ]);\\n    const { onLoad, onLoadingComplete } = props;\\n    const onLoadRef = (0, _react.useRef)(onLoad);\\n    (0, _react.useEffect)(()=>{\\n        onLoadRef.current = onLoad;\\n    }, [\\n        onLoad\\n    ]);\\n    const onLoadingCompleteRef = (0, _react.useRef)(onLoadingComplete);\\n    (0, _react.useEffect)(()=>{\\n        onLoadingCompleteRef.current = onLoadingComplete;\\n    }, [\\n        onLoadingComplete\\n    ]);\\n    const [blurComplete, setBlurComplete] = (0, _react.useState)(false);\\n    const [showAltText, setShowAltText] = (0, _react.useState)(false);\\n    const { props: imgAttributes, meta: imgMeta } = (0, _getimgprops.getImgProps)(props, {\\n        defaultLoader: _imageloader.default,\\n        imgConf: config,\\n        blurComplete,\\n        showAltText\\n    });\\n    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {\\n        children: [\\n            /*#__PURE__*/ (0, _jsxruntime.jsx)(ImageElement, {\\n                ...imgAttributes,\\n                unoptimized: imgMeta.unoptimized,\\n                placeholder: imgMeta.placeholder,\\n                fill: imgMeta.fill,\\n                onLoadRef: onLoadRef,\\n                onLoadingCompleteRef: onLoadingCompleteRef,\\n                setBlurComplete: setBlurComplete,\\n                setShowAltText: setShowAltText,\\n                sizesInput: props.sizes,\\n                ref: forwardedRef\\n            }),\\n            imgMeta.priority ? /*#__PURE__*/ (0, _jsxruntime.jsx)(ImagePreload, {\\n                isAppRouter: isAppRouter,\\n                imgAttributes: imgAttributes\\n            }) : null\\n        ]\\n    });\\n}","key":null,"type":18,"children":[{"id":"30","uuid":"30--fiber","deep":23,"name":"Fragment","content":"Symbol(react.fragment)","key":null,"type":16384,"children":[{"id":"31","uuid":"31--fiber","deep":24,"name":"anonymous - (forwardRef)","content":"(param, forwardedRef)=>{\\n    let { src, srcSet, sizes, height, width, decoding, className, style, fetchPriority, placeholder, loading, unoptimized, fill, onLoadRef, onLoadingCompleteRef, setBlurComplete, setShowAltText, sizesInput, onLoad, onError, ...rest } = param;\\n    return /*#__PURE__*/ (0, _jsxruntime.jsx)(\\"img\\", {\\n        ...rest,\\n        ...getDynamicProps(fetchPriority),\\n        // It\'s intended to keep `loading` before `src` because React updates\\n        // props in order which causes Safari/Firefox to not lazy load properly.\\n        // See https://github.com/facebook/react/issues/25883\\n        loading: loading,\\n        width: width,\\n        height: height,\\n        decoding: decoding,\\n        \\"data-nimg\\": fill ? \\"fill\\" : \\"1\\",\\n        className: className,\\n        style: style,\\n        // It\'s intended to keep `src` the last attribute because React updates\\n        // attributes in order. If we keep `src` the first one, Safari will\\n        // immediately start to fetch `src`, before `sizes` and `srcSet` are even\\n        // updated by React. That causes multiple unnecessary requests if `srcSet`\\n        // and `sizes` are defined.\\n        // This bug cannot be reproduced in Chrome or Firefox.\\n        sizes: sizes,\\n        srcSet: srcSet,\\n        src: src,\\n        ref: (0, _react.useCallback)((img)=>{\\n            if (forwardedRef) {\\n                if (typeof forwardedRef === \\"function\\") forwardedRef(img);\\n                else if (typeof forwardedRef === \\"object\\") {\\n                    // @ts-ignore - .current is read only it\'s usually assigned by react internally\\n                    forwardedRef.current = img;\\n                }\\n            }\\n            if (!img) {\\n                return;\\n            }\\n            if (onError) {\\n                // If the image has an error before react hydrates, then the error is lost.\\n                // The workaround is to wait until the image is mounted which is after hydration,\\n                // then we set the src again to trigger the error handler (if there was an error).\\n                // eslint-disable-next-line no-self-assign\\n                img.src = img.src;\\n            }\\n            if (true) {\\n                if (!src) {\\n                    console.error(\'Image is missing required \\"src\\" property:\', img);\\n                }\\n                if (img.getAttribute(\\"alt\\") === null) {\\n                    console.error(\'Image is missing required \\"alt\\" property. Please add Alternative Text to describe the image for screen readers and search engines.\');\\n                }\\n            }\\n            if (img.complete) {\\n                handleLoading(img, placeholder, onLoadRef, onLoadingCompleteRef, setBlurComplete, unoptimized, sizesInput);\\n            }\\n        }, [\\n            src,\\n            placeholder,\\n            onLoadRef,\\n            onLoadingCompleteRef,\\n            setBlurComplete,\\n            onError,\\n            unoptimized,\\n            sizesInput,\\n            forwardedRef\\n        ]),\\n        onLoad: (event)=>{\\n            const img = event.currentTarget;\\n            handleLoading(img, placeholder, onLoadRef, onLoadingCompleteRef, setBlurComplete, unoptimized, sizesInput);\\n        },\\n        onError: (event)=>{\\n            // if the real image fails to load, this will ensure \\"alt\\" is visible\\n            setShowAltText(true);\\n            if (placeholder !== \\"empty\\") {\\n                // If the real image fails to load, this will still remove the placeholder.\\n                setBlurComplete(true);\\n            }\\n            if (onError) {\\n                onError(event);\\n            }\\n        }\\n    });\\n}","key":null,"type":18,"children":[{"id":"32","uuid":"32--fiber","deep":25,"name":"img","content":"img","key":null,"type":2048}]},{"id":"33","uuid":"33--fiber","deep":24,"name":"ImagePreload","content":"function ImagePreload(param) {\\n    let { isAppRouter, imgAttributes } = param;\\n    const opts = {\\n        as: \\"image\\",\\n        imageSrcSet: imgAttributes.srcSet,\\n        imageSizes: imgAttributes.sizes,\\n        crossOrigin: imgAttributes.crossOrigin,\\n        referrerPolicy: imgAttributes.referrerPolicy,\\n        ...getDynamicProps(imgAttributes.fetchPriority)\\n    };\\n    if (isAppRouter && _reactdom.default.preload) {\\n        // See https://github.com/facebook/react/pull/26940\\n        _reactdom.default.preload(imgAttributes.src, opts);\\n        return null;\\n    }\\n    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_head.default, {\\n        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(\\"link\\", {\\n            rel: \\"preload\\",\\n            // Note how we omit the `href` attribute, as it would only be relevant\\n            // for browsers that do not support `imagesrcset`, and in those cases\\n            // it would cause the incorrect image to be preloaded.\\n            //\\n            // https://html.spec.whatwg.org/multipage/semantics.html#attr-link-imagesrcset\\n            href: imgAttributes.srcSet ? undefined : imgAttributes.src,\\n            ...opts\\n        }, \\"__nimg-\\" + imgAttributes.src + imgAttributes.srcSet + imgAttributes.sizes)\\n    });\\n}","key":null,"type":2,"children":[{"id":"34","uuid":"34--fiber","deep":25,"name":"Head","content":"function Head(param) {\\n    let { children } = param;\\n    const ampState = (0, _react.useContext)(_ampcontextsharedruntime.AmpStateContext);\\n    const headManager = (0, _react.useContext)(_headmanagercontextsharedruntime.HeadManagerContext);\\n    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_sideeffect.default, {\\n        reduceComponentsToState: reduceComponents,\\n        headManager: headManager,\\n        inAmpMode: (0, _ampmode.isInAmpMode)(ampState),\\n        children: children\\n    });\\n}","key":null,"type":2,"children":[{"id":"35","uuid":"35--fiber","deep":26,"name":"SideEffect","content":"function SideEffect(props) {\\n    _s();\\n    const { headManager, reduceComponentsToState } = props;\\n    function emitChange() {\\n        if (headManager && headManager.mountedInstances) {\\n            const headElements = _react.Children.toArray(Array.from(headManager.mountedInstances).filter(Boolean));\\n            headManager.updateHead(reduceComponentsToState(headElements, props));\\n        }\\n    }\\n    if (isServer) {\\n        var _headManager_mountedInstances;\\n        headManager == null ? void 0 : (_headManager_mountedInstances = headManager.mountedInstances) == null ? void 0 : _headManager_mountedInstances.add(props.children);\\n        emitChange();\\n    }\\n    useClientOnlyLayoutEffect(()=>{\\n        var _headManager_mountedInstances;\\n        headManager == null ? void 0 : (_headManager_mountedInstances = headManager.mountedInstances) == null ? void 0 : _headManager_mountedInstances.add(props.children);\\n        return ()=>{\\n            var _headManager_mountedInstances;\\n            headManager == null ? void 0 : (_headManager_mountedInstances = headManager.mountedInstances) == null ? void 0 : _headManager_mountedInstances.delete(props.children);\\n        };\\n    });\\n    // We need to call `updateHead` method whenever the `SideEffect` is trigger in all\\n    // life-cycles: mount, update, unmount. However, if there are multiple `SideEffect`s\\n    // being rendered, we only trigger the method from the last one.\\n    // This is ensured by keeping the last unflushed `updateHead` in the `_pendingUpdate`\\n    // singleton in the layout effect pass, and actually trigger it in the effect pass.\\n    useClientOnlyLayoutEffect(()=>{\\n        if (headManager) {\\n            headManager._pendingUpdate = emitChange;\\n        }\\n        return ()=>{\\n            if (headManager) {\\n                headManager._pendingUpdate = emitChange;\\n            }\\n        };\\n    });\\n    useClientOnlyEffect(()=>{\\n        if (headManager && headManager._pendingUpdate) {\\n            headManager._pendingUpdate();\\n            headManager._pendingUpdate = null;\\n        }\\n        return ()=>{\\n            if (headManager && headManager._pendingUpdate) {\\n                headManager._pendingUpdate();\\n                headManager._pendingUpdate = null;\\n            }\\n        };\\n    });\\n    return null;\\n}","key":null,"type":2,"children":[{"id":"36","uuid":"36--fiber","deep":27,"name":"Null","key":null,"type":256}]}]}]}]}]},{"id":"37","uuid":"37--fiber","deep":22,"name":"text - (native)","content":" ","key":null,"type":512},{"id":"38","uuid":"38--fiber","deep":22,"name":"span","content":"span","key":null,"type":2048,"children":[{"id":"39","uuid":"39--fiber","deep":23,"name":"text - (native)","content":"power by","key":null,"type":512},{"id":"40","uuid":"40--fiber","deep":23,"name":"text - (native)","content":" ","key":null,"type":512},{"id":"41","uuid":"41--fiber","deep":23,"name":"a","content":"a","key":null,"type":2048,"children":[{"id":"42","uuid":"42--fiber","deep":24,"name":"text - (native)","content":"@my-react","key":null,"type":512}]}]}]}]}]},{"id":"43","uuid":"43--fiber","deep":19,"name":"div","content":"div","key":null,"type":2048,"children":[{"id":"44","uuid":"44--fiber","deep":20,"name":"anonymous - (forwardRef)","content":"(props, forwardedRef)=>{\\n    const pagesRouter = (0, _react.useContext)(_routercontextsharedruntime.RouterContext);\\n    // We\'re in the app directory if there is no pages router.\\n    const isAppRouter = !pagesRouter;\\n    const configContext = (0, _react.useContext)(_imageconfigcontextsharedruntime.ImageConfigContext);\\n    const config = (0, _react.useMemo)(()=>{\\n        const c = configEnv || configContext || _imageconfig.imageConfigDefault;\\n        const allSizes = [\\n            ...c.deviceSizes,\\n            ...c.imageSizes\\n        ].sort((a, b)=>a - b);\\n        const deviceSizes = c.deviceSizes.sort((a, b)=>a - b);\\n        return {\\n            ...c,\\n            allSizes,\\n            deviceSizes\\n        };\\n    }, [\\n        configContext\\n    ]);\\n    const { onLoad, onLoadingComplete } = props;\\n    const onLoadRef = (0, _react.useRef)(onLoad);\\n    (0, _react.useEffect)(()=>{\\n        onLoadRef.current = onLoad;\\n    }, [\\n        onLoad\\n    ]);\\n    const onLoadingCompleteRef = (0, _react.useRef)(onLoadingComplete);\\n    (0, _react.useEffect)(()=>{\\n        onLoadingCompleteRef.current = onLoadingComplete;\\n    }, [\\n        onLoadingComplete\\n    ]);\\n    const [blurComplete, setBlurComplete] = (0, _react.useState)(false);\\n    const [showAltText, setShowAltText] = (0, _react.useState)(false);\\n    const { props: imgAttributes, meta: imgMeta } = (0, _getimgprops.getImgProps)(props, {\\n        defaultLoader: _imageloader.default,\\n        imgConf: config,\\n        blurComplete,\\n        showAltText\\n    });\\n    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {\\n        children: [\\n            /*#__PURE__*/ (0, _jsxruntime.jsx)(ImageElement, {\\n                ...imgAttributes,\\n                unoptimized: imgMeta.unoptimized,\\n                placeholder: imgMeta.placeholder,\\n                fill: imgMeta.fill,\\n                onLoadRef: onLoadRef,\\n                onLoadingCompleteRef: onLoadingCompleteRef,\\n                setBlurComplete: setBlurComplete,\\n                setShowAltText: setShowAltText,\\n                sizesInput: props.sizes,\\n                ref: forwardedRef\\n            }),\\n            imgMeta.priority ? /*#__PURE__*/ (0, _jsxruntime.jsx)(ImagePreload, {\\n                isAppRouter: isAppRouter,\\n                imgAttributes: imgAttributes\\n            }) : null\\n        ]\\n    });\\n}","key":null,"type":18,"children":[{"id":"45","uuid":"45--fiber","deep":21,"name":"Fragment","content":"Symbol(react.fragment)","key":null,"type":16384,"children":[{"id":"46","uuid":"46--fiber","deep":22,"name":"anonymous - (forwardRef)","content":"(param, forwardedRef)=>{\\n    let { src, srcSet, sizes, height, width, decoding, className, style, fetchPriority, placeholder, loading, unoptimized, fill, onLoadRef, onLoadingCompleteRef, setBlurComplete, setShowAltText, sizesInput, onLoad, onError, ...rest } = param;\\n    return /*#__PURE__*/ (0, _jsxruntime.jsx)(\\"img\\", {\\n        ...rest,\\n        ...getDynamicProps(fetchPriority),\\n        // It\'s intended to keep `loading` before `src` because React updates\\n        // props in order which causes Safari/Firefox to not lazy load properly.\\n        // See https://github.com/facebook/react/issues/25883\\n        loading: loading,\\n        width: width,\\n        height: height,\\n        decoding: decoding,\\n        \\"data-nimg\\": fill ? \\"fill\\" : \\"1\\",\\n        className: className,\\n        style: style,\\n        // It\'s intended to keep `src` the last attribute because React updates\\n        // attributes in order. If we keep `src` the first one, Safari will\\n        // immediately start to fetch `src`, before `sizes` and `srcSet` are even\\n        // updated by React. That causes multiple unnecessary requests if `srcSet`\\n        // and `sizes` are defined.\\n        // This bug cannot be reproduced in Chrome or Firefox.\\n        sizes: sizes,\\n        srcSet: srcSet,\\n        src: src,\\n        ref: (0, _react.useCallback)((img)=>{\\n            if (forwardedRef) {\\n                if (typeof forwardedRef === \\"function\\") forwardedRef(img);\\n                else if (typeof forwardedRef === \\"object\\") {\\n                    // @ts-ignore - .current is read only it\'s usually assigned by react internally\\n                    forwardedRef.current = img;\\n                }\\n            }\\n            if (!img) {\\n                return;\\n            }\\n            if (onError) {\\n                // If the image has an error before react hydrates, then the error is lost.\\n                // The workaround is to wait until the image is mounted which is after hydration,\\n                // then we set the src again to trigger the error handler (if there was an error).\\n                // eslint-disable-next-line no-self-assign\\n                img.src = img.src;\\n            }\\n            if (true) {\\n                if (!src) {\\n                    console.error(\'Image is missing required \\"src\\" property:\', img);\\n                }\\n                if (img.getAttribute(\\"alt\\") === null) {\\n                    console.error(\'Image is missing required \\"alt\\" property. Please add Alternative Text to describe the image for screen readers and search engines.\');\\n                }\\n            }\\n            if (img.complete) {\\n                handleLoading(img, placeholder, onLoadRef, onLoadingCompleteRef, setBlurComplete, unoptimized, sizesInput);\\n            }\\n        }, [\\n            src,\\n            placeholder,\\n            onLoadRef,\\n            onLoadingCompleteRef,\\n            setBlurComplete,\\n            onError,\\n            unoptimized,\\n            sizesInput,\\n            forwardedRef\\n        ]),\\n        onLoad: (event)=>{\\n            const img = event.currentTarget;\\n            handleLoading(img, placeholder, onLoadRef, onLoadingCompleteRef, setBlurComplete, unoptimized, sizesInput);\\n        },\\n        onError: (event)=>{\\n            // if the real image fails to load, this will ensure \\"alt\\" is visible\\n            setShowAltText(true);\\n            if (placeholder !== \\"empty\\") {\\n                // If the real image fails to load, this will still remove the placeholder.\\n                setBlurComplete(true);\\n            }\\n            if (onError) {\\n                onError(event);\\n            }\\n        }\\n    });\\n}","key":null,"type":18,"children":[{"id":"47","uuid":"47--fiber","deep":23,"name":"img","content":"img","key":null,"type":2048}]},{"id":"48","uuid":"48--fiber","deep":22,"name":"ImagePreload","content":"function ImagePreload(param) {\\n    let { isAppRouter, imgAttributes } = param;\\n    const opts = {\\n        as: \\"image\\",\\n        imageSrcSet: imgAttributes.srcSet,\\n        imageSizes: imgAttributes.sizes,\\n        crossOrigin: imgAttributes.crossOrigin,\\n        referrerPolicy: imgAttributes.referrerPolicy,\\n        ...getDynamicProps(imgAttributes.fetchPriority)\\n    };\\n    if (isAppRouter && _reactdom.default.preload) {\\n        // See https://github.com/facebook/react/pull/26940\\n        _reactdom.default.preload(imgAttributes.src, opts);\\n        return null;\\n    }\\n    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_head.default, {\\n        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(\\"link\\", {\\n            rel: \\"preload\\",\\n            // Note how we omit the `href` attribute, as it would only be relevant\\n            // for browsers that do not support `imagesrcset`, and in those cases\\n            // it would cause the incorrect image to be preloaded.\\n            //\\n            // https://html.spec.whatwg.org/multipage/semantics.html#attr-link-imagesrcset\\n            href: imgAttributes.srcSet ? undefined : imgAttributes.src,\\n            ...opts\\n        }, \\"__nimg-\\" + imgAttributes.src + imgAttributes.srcSet + imgAttributes.sizes)\\n    });\\n}","key":null,"type":2,"children":[{"id":"49","uuid":"49--fiber","deep":23,"name":"Head","content":"function Head(param) {\\n    let { children } = param;\\n    const ampState = (0, _react.useContext)(_ampcontextsharedruntime.AmpStateContext);\\n    const headManager = (0, _react.useContext)(_headmanagercontextsharedruntime.HeadManagerContext);\\n    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_sideeffect.default, {\\n        reduceComponentsToState: reduceComponents,\\n        headManager: headManager,\\n        inAmpMode: (0, _ampmode.isInAmpMode)(ampState),\\n        children: children\\n    });\\n}","key":null,"type":2,"children":[{"id":"50","uuid":"50--fiber","deep":24,"name":"SideEffect","content":"function SideEffect(props) {\\n    _s();\\n    const { headManager, reduceComponentsToState } = props;\\n    function emitChange() {\\n        if (headManager && headManager.mountedInstances) {\\n            const headElements = _react.Children.toArray(Array.from(headManager.mountedInstances).filter(Boolean));\\n            headManager.updateHead(reduceComponentsToState(headElements, props));\\n        }\\n    }\\n    if (isServer) {\\n        var _headManager_mountedInstances;\\n        headManager == null ? void 0 : (_headManager_mountedInstances = headManager.mountedInstances) == null ? void 0 : _headManager_mountedInstances.add(props.children);\\n        emitChange();\\n    }\\n    useClientOnlyLayoutEffect(()=>{\\n        var _headManager_mountedInstances;\\n        headManager == null ? void 0 : (_headManager_mountedInstances = headManager.mountedInstances) == null ? void 0 : _headManager_mountedInstances.add(props.children);\\n        return ()=>{\\n            var _headManager_mountedInstances;\\n            headManager == null ? void 0 : (_headManager_mountedInstances = headManager.mountedInstances) == null ? void 0 : _headManager_mountedInstances.delete(props.children);\\n        };\\n    });\\n    // We need to call `updateHead` method whenever the `SideEffect` is trigger in all\\n    // life-cycles: mount, update, unmount. However, if there are multiple `SideEffect`s\\n    // being rendered, we only trigger the method from the last one.\\n    // This is ensured by keeping the last unflushed `updateHead` in the `_pendingUpdate`\\n    // singleton in the layout effect pass, and actually trigger it in the effect pass.\\n    useClientOnlyLayoutEffect(()=>{\\n        if (headManager) {\\n            headManager._pendingUpdate = emitChange;\\n        }\\n        return ()=>{\\n            if (headManager) {\\n                headManager._pendingUpdate = emitChange;\\n            }\\n        };\\n    });\\n    useClientOnlyEffect(()=>{\\n        if (headManager && headManager._pendingUpdate) {\\n            headManager._pendingUpdate();\\n            headManager._pendingUpdate = null;\\n        }\\n        return ()=>{\\n            if (headManager && headManager._pendingUpdate) {\\n                headManager._pendingUpdate();\\n                headManager._pendingUpdate = null;\\n            }\\n        };\\n    });\\n    return null;\\n}","key":null,"type":2,"children":[{"id":"51","uuid":"51--fiber","deep":25,"name":"Null","key":null,"type":256}]}]}]}]}]}]},{"id":"52","uuid":"52--fiber","deep":19,"name":"div","content":"div","key":null,"type":2048,"children":[{"id":"53","uuid":"53--fiber","deep":20,"name":"Suspense","content":"Symbol(react.suspense)","key":null,"type":8192,"children":[{"id":"54","uuid":"54--fiber","deep":21,"name":"Bar - (lazy)","content":"[object Object]","key":null,"type":4,"children":[{"id":"55","uuid":"55--fiber","deep":22,"name":"Scope","content":"Symbol(react.scope)","key":null,"type":65536,"children":[{"id":"56","uuid":"56--fiber","deep":23,"name":"Comment","content":"Symbol(react.comment)","key":null,"type":131072},{"id":"57","uuid":"57--fiber","deep":23,"name":"Bar","content":"()=>{\\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\\"div\\", {\\n        className: \\"text-lg font-mono text-green-600\\",\\n        children: [\\n            \\"lazy load component: \\",\\n            \\"<\\",\\n            \\"Bar\\",\\n            \\" />\\"\\n        ]\\n    }, void 0, true, {\\n        fileName: \\"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/components/Bar.tsx\\",\\n        lineNumber: 2,\\n        columnNumber: 10\\n    }, undefined);\\n}","key":null,"type":2,"children":[{"id":"58","uuid":"58--fiber","deep":24,"name":"div","content":"div","key":null,"type":2048,"children":[{"id":"59","uuid":"59--fiber","deep":25,"name":"text - (native)","content":"lazy load component: ","key":null,"type":512},{"id":"60","uuid":"60--fiber","deep":25,"name":"text - (native)","content":"<","key":null,"type":512},{"id":"61","uuid":"61--fiber","deep":25,"name":"text - (native)","content":"Bar","key":null,"type":512},{"id":"62","uuid":"62--fiber","deep":25,"name":"text - (native)","content":" />","key":null,"type":512}]}]},{"id":"63","uuid":"63--fiber","deep":23,"name":"Comment","content":"Symbol(react.comment)","key":null,"type":131072}]}]}]}]},{"id":"64","uuid":"64--fiber","deep":19,"name":"div","content":"div","key":null,"type":2048,"children":[{"id":"65","uuid":"65--fiber","deep":20,"name":"a","content":"a","key":null,"type":2048,"children":[{"id":"66","uuid":"66--fiber","deep":21,"name":"h2","content":"h2","key":null,"type":2048,"children":[{"id":"67","uuid":"67--fiber","deep":22,"name":"text - (native)","content":"Docs ","key":null,"type":512},{"id":"68","uuid":"68--fiber","deep":22,"name":"span","content":"span","key":null,"type":2048,"children":[{"id":"69","uuid":"69--fiber","deep":23,"name":"text - (native)","content":"->","key":null,"type":512}]}]},{"id":"70","uuid":"70--fiber","deep":21,"name":"p","content":"p","key":null,"type":2048,"children":[{"id":"71","uuid":"71--fiber","deep":22,"name":"text - (native)","content":"Find in-depth information about Next.js features and API.","key":null,"type":512}]}]},{"id":"72","uuid":"72--fiber","deep":20,"name":"a","content":"a","key":null,"type":2048,"children":[{"id":"73","uuid":"73--fiber","deep":21,"name":"h2","content":"h2","key":null,"type":2048,"children":[{"id":"74","uuid":"74--fiber","deep":22,"name":"text - (native)","content":"Learn ","key":null,"type":512},{"id":"75","uuid":"75--fiber","deep":22,"name":"span","content":"span","key":null,"type":2048,"children":[{"id":"76","uuid":"76--fiber","deep":23,"name":"text - (native)","content":"->","key":null,"type":512}]}]},{"id":"77","uuid":"77--fiber","deep":21,"name":"p","content":"p","key":null,"type":2048,"children":[{"id":"78","uuid":"78--fiber","deep":22,"name":"text - (native)","content":"Learn about Next.js in an interactive course with quizzes!","key":null,"type":512}]}]},{"id":"79","uuid":"79--fiber","deep":20,"name":"a","content":"a","key":null,"type":2048,"children":[{"id":"80","uuid":"80--fiber","deep":21,"name":"h2","content":"h2","key":null,"type":2048,"children":[{"id":"81","uuid":"81--fiber","deep":22,"name":"text - (native)","content":"Templates ","key":null,"type":512},{"id":"82","uuid":"82--fiber","deep":22,"name":"span","content":"span","key":null,"type":2048,"children":[{"id":"83","uuid":"83--fiber","deep":23,"name":"text - (native)","content":"->","key":null,"type":512}]}]},{"id":"84","uuid":"84--fiber","deep":21,"name":"p","content":"p","key":null,"type":2048,"children":[{"id":"85","uuid":"85--fiber","deep":22,"name":"text - (native)","content":"Discover and deploy boilerplate example Next.js projects.","key":null,"type":512}]}]},{"id":"86","uuid":"86--fiber","deep":20,"name":"a","content":"a","key":null,"type":2048,"children":[{"id":"87","uuid":"87--fiber","deep":21,"name":"h2","content":"h2","key":null,"type":2048,"children":[{"id":"88","uuid":"88--fiber","deep":22,"name":"text - (native)","content":"Deploy ","key":null,"type":512},{"id":"89","uuid":"89--fiber","deep":22,"name":"span","content":"span","key":null,"type":2048,"children":[{"id":"90","uuid":"90--fiber","deep":23,"name":"text - (native)","content":"->","key":null,"type":512}]}]},{"id":"91","uuid":"91--fiber","deep":21,"name":"p","content":"p","key":null,"type":2048,"children":[{"id":"92","uuid":"92--fiber","deep":22,"name":"text - (native)","content":"Instantly deploy your Next.js site to a shareable URL with Vercel.","key":null,"type":512}]}]}]}]}]}]},{"id":"93","uuid":"93--fiber","deep":16,"name":"Portal","content":"(param)=>{\\n    let { children, type } = param;\\n    const [portalNode, setPortalNode] = (0, _react.useState)(null);\\n    (0, _react.useEffect)(()=>{\\n        const element = document.createElement(type);\\n        document.body.appendChild(element);\\n        setPortalNode(element);\\n        return ()=>{\\n            document.body.removeChild(element);\\n        };\\n    }, [\\n        type\\n    ]);\\n    return portalNode ? /*#__PURE__*/ (0, _reactdom.createPortal)(children, portalNode) : null;\\n}","key":null,"type":2,"children":[{"id":"94","uuid":"94--fiber","deep":17,"name":"Portal","content":"Symbol(react.portal)","key":null,"type":128,"children":[{"id":"95","uuid":"95--fiber","deep":18,"name":"RouteAnnouncer","content":"()=>{\\n    _s();\\n    const { asPath } = (0, _router.useRouter)();\\n    const [routeAnnouncement, setRouteAnnouncement] = _react.default.useState(\\"\\");\\n    // Only announce the path change, but not for the first load because screen\\n    // reader will do that automatically.\\n    const previouslyLoadedPath = _react.default.useRef(asPath);\\n    // Every time the path changes, announce the new page’s title following this\\n    // priority: first the document title (from head), otherwise the first h1, or\\n    // if none of these exist, then the pathname from the URL. This methodology is\\n    // inspired by Marcy Sutton’s accessible client routing user testing. More\\n    // information can be found here:\\n    // https://www.gatsbyjs.com/blog/2019-07-11-user-testing-accessible-client-routing/\\n    _react.default.useEffect(()=>{\\n        // If the path hasn\'t change, we do nothing.\\n        if (previouslyLoadedPath.current === asPath) return;\\n        previouslyLoadedPath.current = asPath;\\n        if (document.title) {\\n            setRouteAnnouncement(document.title);\\n        } else {\\n            const pageHeader = document.querySelector(\\"h1\\");\\n            var _pageHeader_innerText;\\n            const content = (_pageHeader_innerText = pageHeader == null ? void 0 : pageHeader.innerText) != null ? _pageHeader_innerText : pageHeader == null ? void 0 : pageHeader.textContent;\\n            setRouteAnnouncement(content || asPath);\\n        }\\n    }, [\\n        asPath\\n    ]);\\n    return /*#__PURE__*/ (0, _jsxruntime.jsx)(\\"p\\", {\\n        \\"aria-live\\": \\"assertive\\" // Make the announcement immediately.\\n        ,\\n        id: \\"__next-route-announcer__\\",\\n        role: \\"alert\\",\\n        style: nextjsRouteAnnouncerStyles,\\n        children: routeAnnouncement\\n    });\\n}","key":null,"type":2,"children":[{"id":"96","uuid":"96--fiber","deep":19,"name":"p","content":"p","key":null,"type":2048,"children":[{"id":"97","uuid":"97--fiber","deep":20,"name":"text - (native)","content":"","key":null,"type":512}]}]}]}]}]}]}]}]}]}]}]}]}]},{"id":"98","uuid":"98--fiber","deep":7,"name":"Null","key":null,"type":256}]}]}]}]}]}]}]}';

// eslint-disable-next-line @typescript-eslint/no-unused-vars
const _data = JSON.parse(str);

export const useAppTree = createState(
  () => {
    return { nodes: [], current: null } as AppTreeType;
  },
  {
    withDeepSelector: false,
    withActions: (state) => {
      return {
        addNode: (node: PlainNode) => {
          if (state.nodes.every((n) => n.uuid !== node.uuid)) {
            state.nodes = state.nodes.concat(node);
          }
        },
        delNode: (node: PlainNode) => {
          if (state.nodes.some((n) => n.uuid === node.uuid)) {
            state.nodes = state.nodes.filter((n) => n.uuid !== node.uuid);
          }
        },
        selectCurrent: (node: PlainNode | null) => {
          state.current = node;
        },
      };
    },
    withNamespace: "useAppTree",
  }
);

if (!isServer) {
  window.useAppTree = useAppTree;
}
