import { createState } from "reactivity-store";

import { isServer } from "@/utils/isServer";

import type { PlainNode } from "@my-react-devtool/core";

type AppTreeType = { nodes: PlainNode[]; current: PlainNode | null };

const str =
  '{"id":"0","uuid":"0--fiber","deep":0,"name":"Root","tag":[],"fiberTree":[],"fiberType":["Function"],"hookTree":["LayoutEffect","Effect"],"key":null,"type":2,"children":[{"id":"1","uuid":"1--fiber","deep":1,"name":"Strict","tag":[],"fiberTree":["Root"],"fiberType":["Strict"],"hookTree":[],"key":null,"type":4096,"children":[{"id":"2","uuid":"2--fiber","deep":2,"name":"Fragment","tag":[],"fiberTree":["Strict","Root"],"fiberType":["Fragment"],"hookTree":[],"key":null,"type":16384,"children":[{"id":"3","uuid":"3--fiber","deep":3,"name":"Head","tag":[],"fiberTree":["Fragment","Strict","Root"],"fiberType":["Function"],"hookTree":["LayoutEffect"],"key":null,"type":2,"children":[{"id":"4","uuid":"4--fiber","deep":4,"name":"Null","tag":[],"source":null,"fiberTree":["Head","Fragment","Strict","Root"],"fiberType":["Null"],"hookTree":[],"key":null,"type":256}]},{"id":"5","uuid":"5--fiber","deep":3,"name":"AppContainer","tag":[],"fiberTree":["Fragment","Strict","Root"],"fiberType":["Function"],"hookTree":["Memo"],"key":null,"type":2,"children":[{"id":"6","uuid":"6--fiber","deep":4,"name":"Container","tag":[],"fiberTree":["AppContainer","Fragment","Strict","Root"],"fiberType":["Class"],"hookTree":[],"key":null,"type":1,"children":[{"id":"7","uuid":"7--fiber","deep":5,"name":"ReactDevOverlay","tag":[],"fiberTree":["Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Function"],"hookTree":["Reducer","Effect","Callback"],"key":null,"type":2,"children":[{"id":"8","uuid":"8--fiber","deep":6,"name":"Fragment","tag":[],"fiberTree":["ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Fragment"],"hookTree":[],"key":null,"type":16384,"children":[{"id":"9","uuid":"9--fiber","deep":7,"name":"ErrorBoundary","tag":[],"fiberTree":["Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Class"],"hookTree":[],"key":null,"type":1,"children":[{"id":"10","uuid":"10--fiber","deep":8,"name":"AppRouterContext.Provider","tag":[],"fiberTree":["ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Provider"],"hookTree":[],"key":null,"type":32,"children":[{"id":"11","uuid":"11--fiber","deep":9,"name":"SearchParamsContext.Provider","tag":[],"fiberTree":["AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Provider"],"hookTree":[],"key":null,"type":32,"children":[{"id":"12","uuid":"12--fiber","deep":10,"name":"PathnameContextProviderAdapter","tag":[],"fiberTree":["SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Function"],"hookTree":["Ref","Memo"],"key":null,"type":2,"children":[{"id":"13","uuid":"13--fiber","deep":11,"name":"PathnameContext.Provider","tag":[],"fiberTree":["PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Provider"],"hookTree":[],"key":null,"type":32,"children":[{"id":"14","uuid":"14--fiber","deep":12,"name":"PathParamsContext.Provider","tag":[],"fiberTree":["PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Provider"],"hookTree":[],"key":null,"type":32,"children":[{"id":"15","uuid":"15--fiber","deep":13,"name":"RouterContext.Provider","tag":[],"fiberTree":["PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Provider"],"hookTree":[],"key":null,"type":32,"children":[{"id":"16","uuid":"16--fiber","deep":14,"name":"HeadManagerContext.Provider","tag":[],"fiberTree":["RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Provider"],"hookTree":[],"key":null,"type":32,"children":[{"id":"17","uuid":"17--fiber","deep":15,"name":"ImageConfigContext.Provider","tag":[],"fiberTree":["HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Provider"],"hookTree":[],"key":null,"type":32,"children":[{"id":"18","uuid":"18--fiber","deep":16,"name":"App","tag":[],"fiberTree":["ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Function"],"hookTree":[],"key":null,"type":2,"children":[{"id":"19","uuid":"19--fiber","deep":17,"name":"Home","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/_app.tsx","lineNumber":5,"columnNumber":10},"fiberTree":["App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Function"],"hookTree":[],"key":null,"type":2,"children":[{"id":"20","uuid":"20--fiber","deep":18,"name":"main","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":12,"columnNumber":5},"fiberTree":["Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"21","uuid":"21--fiber","deep":19,"name":"div","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":13,"columnNumber":7},"fiberTree":["main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"22","uuid":"22--fiber","deep":20,"name":"p","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":14,"columnNumber":9},"fiberTree":["div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"23","uuid":"23--fiber","deep":21,"name":"text","tag":[],"fiberTree":["p","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512},{"id":"24","uuid":"24--fiber","deep":21,"name":"code","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":16,"columnNumber":11},"fiberTree":["p","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"25","uuid":"25--fiber","deep":22,"name":"text","tag":[],"fiberTree":["code","p","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512}]}]},{"id":"26","uuid":"26--fiber","deep":20,"name":"div","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":18,"columnNumber":9},"fiberTree":["div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"27","uuid":"27--fiber","deep":21,"name":"a","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":19,"columnNumber":11},"fiberTree":["div","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"28","uuid":"28--fiber","deep":22,"name":"text","tag":[],"fiberTree":["a","div","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512},{"id":"29","uuid":"29--fiber","deep":22,"name":"anonymous","tag":["forwardRef"],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":25,"columnNumber":16},"fiberTree":["a","div","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Function","ForwardRef"],"hookTree":["Context","Context","Memo","Ref","Effect","Ref","Effect","State","State"],"key":null,"type":18,"children":[{"id":"30","uuid":"30--fiber","deep":23,"name":"Fragment","tag":[],"fiberTree":["anonymous","a","div","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Fragment"],"hookTree":[],"key":null,"type":16384,"children":[{"id":"31","uuid":"31--fiber","deep":24,"name":"anonymous","tag":["forwardRef"],"fiberTree":["Fragment","anonymous","a","div","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Function","ForwardRef"],"hookTree":["Callback"],"key":null,"type":18,"children":[{"id":"32","uuid":"32--fiber","deep":25,"name":"img","tag":[],"fiberTree":["anonymous","Fragment","anonymous","a","div","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048}]},{"id":"33","uuid":"33--fiber","deep":24,"name":"ImagePreload","tag":[],"fiberTree":["Fragment","anonymous","a","div","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Function"],"hookTree":[],"key":null,"type":2,"children":[{"id":"34","uuid":"34--fiber","deep":25,"name":"Head","tag":[],"fiberTree":["ImagePreload","Fragment","anonymous","a","div","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Function"],"hookTree":["Context","Context"],"key":null,"type":2,"children":[{"id":"35","uuid":"35--fiber","deep":26,"name":"SideEffect","tag":[],"fiberTree":["Head","ImagePreload","Fragment","anonymous","a","div","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Function"],"hookTree":["LayoutEffect","LayoutEffect","Effect"],"key":null,"type":2,"children":[{"id":"36","uuid":"36--fiber","deep":27,"name":"Null","tag":[],"source":null,"fiberTree":["SideEffect","Head","ImagePreload","Fragment","anonymous","a","div","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Null"],"hookTree":[],"key":null,"type":256}]}]}]}]}]},{"id":"37","uuid":"37--fiber","deep":22,"name":"text","tag":[],"fiberTree":["a","div","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512},{"id":"38","uuid":"38--fiber","deep":22,"name":"span","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":26,"columnNumber":13},"fiberTree":["a","div","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"39","uuid":"39--fiber","deep":23,"name":"text","tag":[],"fiberTree":["span","a","div","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512},{"id":"40","uuid":"40--fiber","deep":23,"name":"text","tag":[],"fiberTree":["span","a","div","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512},{"id":"41","uuid":"41--fiber","deep":23,"name":"a","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":28,"columnNumber":15},"fiberTree":["span","a","div","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"42","uuid":"42--fiber","deep":24,"name":"text","tag":[],"fiberTree":["a","span","a","div","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512}]}]}]}]}]},{"id":"43","uuid":"43--fiber","deep":19,"name":"div","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":36,"columnNumber":7},"fiberTree":["main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"44","uuid":"44--fiber","deep":20,"name":"anonymous","tag":["forwardRef"],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":37,"columnNumber":9},"fiberTree":["div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Function","ForwardRef"],"hookTree":["Context","Context","Memo","Ref","Effect","Ref","Effect","State","State"],"key":null,"type":18,"children":[{"id":"45","uuid":"45--fiber","deep":21,"name":"Fragment","tag":[],"fiberTree":["anonymous","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Fragment"],"hookTree":[],"key":null,"type":16384,"children":[{"id":"46","uuid":"46--fiber","deep":22,"name":"anonymous","tag":["forwardRef"],"fiberTree":["Fragment","anonymous","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Function","ForwardRef"],"hookTree":["Callback"],"key":null,"type":18,"children":[{"id":"47","uuid":"47--fiber","deep":23,"name":"img","tag":[],"fiberTree":["anonymous","Fragment","anonymous","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048}]},{"id":"48","uuid":"48--fiber","deep":22,"name":"ImagePreload","tag":[],"fiberTree":["Fragment","anonymous","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Function"],"hookTree":[],"key":null,"type":2,"children":[{"id":"49","uuid":"49--fiber","deep":23,"name":"Head","tag":[],"fiberTree":["ImagePreload","Fragment","anonymous","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Function"],"hookTree":["Context","Context"],"key":null,"type":2,"children":[{"id":"50","uuid":"50--fiber","deep":24,"name":"SideEffect","tag":[],"fiberTree":["Head","ImagePreload","Fragment","anonymous","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Function"],"hookTree":["LayoutEffect","LayoutEffect","Effect"],"key":null,"type":2,"children":[{"id":"51","uuid":"51--fiber","deep":25,"name":"Null","tag":[],"source":null,"fiberTree":["SideEffect","Head","ImagePreload","Fragment","anonymous","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Null"],"hookTree":[],"key":null,"type":256}]}]}]}]}]}]},{"id":"52","uuid":"52--fiber","deep":19,"name":"div","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":39,"columnNumber":7},"fiberTree":["main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"53","uuid":"53--fiber","deep":20,"name":"Suspense","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":40,"columnNumber":9},"fiberTree":["div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Suspense"],"hookTree":[],"key":null,"type":8192,"children":[{"id":"54","uuid":"54--fiber","deep":21,"name":"Bar","tag":["lazy"],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":41,"columnNumber":11},"fiberTree":["Suspense","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Lazy"],"hookTree":[],"key":null,"type":4,"children":[{"id":"55","uuid":"55--fiber","deep":22,"name":"Scope","tag":[],"source":null,"fiberTree":["Bar","Suspense","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Scope"],"hookTree":[],"key":null,"type":65536,"children":[{"id":"56","uuid":"56--fiber","deep":23,"name":"Comment","tag":[],"source":null,"fiberTree":["Scope","Bar","Suspense","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Comment"],"hookTree":[],"key":null,"type":131072},{"id":"57","uuid":"57--fiber","deep":23,"name":"Bar","tag":[],"source":null,"fiberTree":["Scope","Bar","Suspense","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Function"],"hookTree":[],"key":null,"type":2,"children":[{"id":"58","uuid":"58--fiber","deep":24,"name":"div","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/components/Bar.tsx","lineNumber":2,"columnNumber":10},"fiberTree":["Bar","Scope","Bar","Suspense","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"59","uuid":"59--fiber","deep":25,"name":"text","tag":[],"fiberTree":["div","Bar","Scope","Bar","Suspense","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512},{"id":"60","uuid":"60--fiber","deep":25,"name":"text","tag":[],"fiberTree":["div","Bar","Scope","Bar","Suspense","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512},{"id":"61","uuid":"61--fiber","deep":25,"name":"text","tag":[],"fiberTree":["div","Bar","Scope","Bar","Suspense","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512},{"id":"62","uuid":"62--fiber","deep":25,"name":"text","tag":[],"fiberTree":["div","Bar","Scope","Bar","Suspense","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512}]}]},{"id":"63","uuid":"63--fiber","deep":23,"name":"Comment","tag":[],"source":null,"fiberTree":["Scope","Bar","Suspense","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Comment"],"hookTree":[],"key":null,"type":131072}]}]}]}]},{"id":"64","uuid":"64--fiber","deep":19,"name":"div","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":45,"columnNumber":7},"fiberTree":["main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"65","uuid":"65--fiber","deep":20,"name":"a","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":46,"columnNumber":9},"fiberTree":["div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"66","uuid":"66--fiber","deep":21,"name":"h2","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":52,"columnNumber":11},"fiberTree":["a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"67","uuid":"67--fiber","deep":22,"name":"text","tag":[],"fiberTree":["h2","a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512},{"id":"68","uuid":"68--fiber","deep":22,"name":"span","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":53,"columnNumber":18},"fiberTree":["h2","a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"69","uuid":"69--fiber","deep":23,"name":"text","tag":[],"fiberTree":["span","h2","a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512}]}]},{"id":"70","uuid":"70--fiber","deep":21,"name":"p","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":55,"columnNumber":11},"fiberTree":["a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"71","uuid":"71--fiber","deep":22,"name":"text","tag":[],"fiberTree":["p","a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512}]}]},{"id":"72","uuid":"72--fiber","deep":20,"name":"a","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":58,"columnNumber":9},"fiberTree":["div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"73","uuid":"73--fiber","deep":21,"name":"h2","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":64,"columnNumber":11},"fiberTree":["a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"74","uuid":"74--fiber","deep":22,"name":"text","tag":[],"fiberTree":["h2","a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512},{"id":"75","uuid":"75--fiber","deep":22,"name":"span","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":65,"columnNumber":19},"fiberTree":["h2","a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"76","uuid":"76--fiber","deep":23,"name":"text","tag":[],"fiberTree":["span","h2","a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512}]}]},{"id":"77","uuid":"77--fiber","deep":21,"name":"p","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":67,"columnNumber":11},"fiberTree":["a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"78","uuid":"78--fiber","deep":22,"name":"text","tag":[],"fiberTree":["p","a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512}]}]},{"id":"79","uuid":"79--fiber","deep":20,"name":"a","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":70,"columnNumber":9},"fiberTree":["div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"80","uuid":"80--fiber","deep":21,"name":"h2","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":76,"columnNumber":11},"fiberTree":["a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"81","uuid":"81--fiber","deep":22,"name":"text","tag":[],"fiberTree":["h2","a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512},{"id":"82","uuid":"82--fiber","deep":22,"name":"span","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":77,"columnNumber":23},"fiberTree":["h2","a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"83","uuid":"83--fiber","deep":23,"name":"text","tag":[],"fiberTree":["span","h2","a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512}]}]},{"id":"84","uuid":"84--fiber","deep":21,"name":"p","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":79,"columnNumber":11},"fiberTree":["a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"85","uuid":"85--fiber","deep":22,"name":"text","tag":[],"fiberTree":["p","a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512}]}]},{"id":"86","uuid":"86--fiber","deep":20,"name":"a","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":82,"columnNumber":9},"fiberTree":["div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"87","uuid":"87--fiber","deep":21,"name":"h2","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":88,"columnNumber":11},"fiberTree":["a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"88","uuid":"88--fiber","deep":22,"name":"text","tag":[],"fiberTree":["h2","a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512},{"id":"89","uuid":"89--fiber","deep":22,"name":"span","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":89,"columnNumber":20},"fiberTree":["h2","a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"90","uuid":"90--fiber","deep":23,"name":"text","tag":[],"fiberTree":["span","h2","a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512}]}]},{"id":"91","uuid":"91--fiber","deep":21,"name":"p","tag":[],"source":{"fileName":"/Users/mrwang/Documents/GitHub/MyReact/ui/next-example/pages/index.tsx","lineNumber":91,"columnNumber":11},"fiberTree":["a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"92","uuid":"92--fiber","deep":22,"name":"text","tag":[],"fiberTree":["p","a","div","main","Home","App","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512}]}]}]}]}]}]},{"id":"93","uuid":"93--fiber","deep":16,"name":"Portal","tag":[],"fiberTree":["ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Function"],"hookTree":["State","Effect"],"key":null,"type":2,"children":[{"id":"94","uuid":"94--fiber","deep":17,"name":"Portal","tag":[],"source":null,"fiberTree":["Portal","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Portal"],"hookTree":[],"key":null,"type":128,"children":[{"id":"95","uuid":"95--fiber","deep":18,"name":"RouteAnnouncer","tag":[],"fiberTree":["Portal","Portal","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Function"],"hookTree":["Context","State","Ref","Effect"],"key":null,"type":2,"children":[{"id":"96","uuid":"96--fiber","deep":19,"name":"p","tag":[],"fiberTree":["RouteAnnouncer","Portal","Portal","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Plain"],"hookTree":[],"key":null,"type":2048,"children":[{"id":"97","uuid":"97--fiber","deep":20,"name":"text","tag":[],"source":null,"fiberTree":["p","RouteAnnouncer","Portal","Portal","ImageConfigContext.Provider","HeadManagerContext.Provider","RouterContext.Provider","PathParamsContext.Provider","PathnameContext.Provider","PathnameContextProviderAdapter","SearchParamsContext.Provider","AppRouterContext.Provider","ErrorBoundary","Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Text"],"hookTree":[],"key":null,"type":512}]}]}]}]}]}]}]}]}]}]}]}]}]},{"id":"98","uuid":"98--fiber","deep":7,"name":"Null","tag":[],"source":null,"fiberTree":["Fragment","ReactDevOverlay","Container","AppContainer","Fragment","Strict","Root"],"fiberType":["Null"],"hookTree":[],"key":null,"type":256}]}]}]}]}]}]}]}';

// eslint-disable-next-line @typescript-eslint/no-unused-vars
const _data = JSON.parse(str);

export const useAppTree = createState(
  () => {
    return { nodes: [_data], current: null } as AppTreeType;
  },
  {
    withDeepSelector: false,
    withActions: (state) => {
      return {
        addNode: (node: PlainNode) => {
          const currentNodes = Array.from(state.nodes);

          const index = currentNodes.findIndex((n) => n.uuid === node.uuid);

          if (index !== -1) {
            currentNodes.splice(index, 1, node);
          } else {
            currentNodes.push(node);
          }
          
          state.nodes = currentNodes;
        },
        delNode: (node: PlainNode) => {
          if (state.nodes.some((n) => n.uuid === node.uuid)) {
            state.nodes = state.nodes.filter((n) => n.uuid !== node.uuid);
          }
        },
        selectCurrent: (node: PlainNode | null) => {
          state.current = node;
        },
      };
    },
    withNamespace: "useAppTree",
  }
);

if (!isServer) {
  window.useAppTree = useAppTree;
}
