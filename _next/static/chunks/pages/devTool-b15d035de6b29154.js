(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2374],{48609:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/devTool",function(){return l(5897)}])},5897:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return lt}});var n=l(60699),s=l(8261),r=l(13805),a=l.n(r),i=l(52516),o=l(53791);let c=(0,o.eK)(()=>({mode:"node"}),{withActions:e=>({setMode:t=>{e.mode=t},toggleMode:()=>{e.mode="node"===e.mode?"flameGraph":"node"}}),withPersist:"useDetailMode",withDeepSelector:!1,withStableSelector:!0});var d=l(70757),u=l(67396),m=l(41904),x=l(45095),h=l(74865);let j=()=>{let[e,t]=(0,i.useState)(0),{isOpen:l,onOpen:n,onClose:s}=(0,h.q)();return(0,i.useEffect)(()=>{if(!l)return;let e=setInterval(()=>t(e=>e+1),1e3);return()=>clearInterval(e)},[l]),{count:e,onStart:n,onStop:(0,i.useCallback)(()=>{s(),t(0)},[s])}};var p=l(85795),v=l(49795),f=l(80829),g=l(72099),w=l(13122),y=l(1694),N=l(35292),b=l(54275),k=l(10715);let S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,[l,n]=(0,i.useState)(e);return[l,(0,i.useMemo)(()=>(0,k.debounce)(n,t),[t])]},A=[],C={width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0};function z(e){let{ref:t,cssSelector:l,getEle:n,deps:s}=e,r=(0,i.useRef)(n);r.current=n;let[a,o]=S(C,100);return(0,b.L)(()=>{var e;let n=t?t.current:l?document.querySelector(l):(null===(e=r.current)||void 0===e?void 0:e.call(r))||null;if(n){if(window.ResizeObserver){let e=new ResizeObserver(()=>{o(n.getBoundingClientRect())});return e.observe(n),()=>e.disconnect()}{let e=()=>o(n.getBoundingClientRect());return e(),window.addEventListener("resize",e,{passive:!0}),()=>window.removeEventListener("resize",e)}}},[t,l,o,...s||A]),a}var R=l(24137),F=l(95853),E=l(12763),I=l(22733),O=l(20040),Z=l(1950),M=l(46914),P=l(95642),_=l(38068),T=l(22447);let{setSelect:U,setClose:L,setHover:q}=F.U.getActions(),V=(0,i.memo)(e=>{let{node:t}=e,l=(0,k.getFiberTag)(t);return(null==l?void 0:l.length)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E.q,{x:1}),(0,n.jsx)("div",{className:"gap-x-[2px] flex items-center",children:l.map(e=>(0,n.jsx)(I.z,{size:"sm",color:e.includes("compiler")?"primary":void 0,radius:"none",className:"rounded-md capitalize text-[8px] h-[14px]",children:e},e))})]}):null});V.displayName="RenderTag";let D=(0,i.memo)(e=>{let{node:t}=e,l=(0,P.i)((0,i.useCallback)(e=>{var l;return null===(l=e.map)||void 0===l?void 0:l[t.k]},[t.k]));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E.q,{x:1}),(0,n.jsxs)("div",{"data-key":!0,className:"flex items-center gap-x-[1px] text-[11px]",children:[(0,n.jsx)("div",{className:" text-[#40af2c]",children:"key"}),(0,n.jsx)("div",{className:" text-gray-400",children:"="}),(0,n.jsxs)("div",{className:"flex",children:['"',(0,n.jsx)(v.e,{content:(0,n.jsx)("div",{className:"max-w-[300px] max-h-[400px] overflow-y-auto whitespace-pre-wrap break-words",children:l}),delay:800,showArrow:!0,color:"foreground",children:(0,n.jsx)("div",{className:"text-gray-600 max-w-[200px] text-ellipsis overflow-hidden whitespace-nowrap",children:l})}),'"']})]})]})});D.displayName="RenderKey";let K=(0,i.memo)(e=>{let{node:t}=e,l=(0,T.P)((0,i.useCallback)(e=>{var l;return null===(l=e.state)||void 0===l?void 0:l[t.i]},[t.i]));return l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E.q,{x:1}),(0,n.jsx)(v.e,{content:"trigger update",showArrow:!0,color:"primary",children:(0,n.jsx)(I.z,{size:"sm",radius:"none",color:"primary",className:"rounded-md capitalize text-[8px] h-[14px]",children:l})})]}):null});K.displayName="RenderTrigger";let G=(0,i.memo)(e=>{let{node:t}=e,l=(0,M.m)((0,i.useCallback)(e=>{var l;return null===(l=e.state)||void 0===l?void 0:l[t.i]},[t.i]));return l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E.q,{x:1}),(0,n.jsx)(v.e,{content:"hmr update",showArrow:!0,color:"success",children:(0,n.jsx)(I.z,{size:"sm",radius:"none",color:"success",className:"rounded-md capitalize text-[8px] h-[14px]",children:l})})]}):null});G.displayName="RenderHMR";let W=(0,i.memo)(e=>{let{node:t}=e,l=(0,_.L)((0,i.useCallback)(e=>{var l;return null===(l=e.state)||void 0===l?void 0:l[t.i]},[t.i]));return l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E.q,{x:1}),(0,n.jsx)(v.e,{content:"running count",showArrow:!0,color:"secondary",children:(0,n.jsx)(I.z,{size:"sm",radius:"none",color:"secondary",className:"rounded-md capitalize text-[8px] h-[14px]",children:l})})]}):null});W.displayName="RenderRunningCount";let H=(0,i.memo)(e=>{let{node:t}=e,l=(0,Z.R)((0,i.useCallback)(e=>{var l;return null===(l=e.state)||void 0===l?void 0:l[t.i]},[t.i]));return l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E.q,{x:1}),(0,n.jsx)(I.z,{size:"sm",radius:"none",color:"warning",className:"rounded-md capitalize text-[8px] h-[14px]",children:l})]}):null});H.displayName="RenderHighlightType";let B=e=>{let{node:t,className:l,withKey:s=!0,withTag:r=!0,withHMR:a=!0,withSelect:o=!0,withTrigger:c=!0,withCollapse:d=!0,withRunningCount:u=!1,withHighlightType:m=!0}=e,{error:x,warn:h}=Z.R.useShallowSelector(e=>{var l,n;return{error:null===(l=e.error)||void 0===l?void 0:l[t.i],warn:null===(n=e.warn)||void 0===n?void 0:n[t.i]}},(e,t)=>e.error===t.error&&e.warn===t.warn),j=(0,P.i)((0,i.useCallback)(e=>e.map[t.n],[t.n])),{select:p,closeList:f,selectList:g}=F.U.useShallowStableSelector(e=>({select:e.select,closeList:e.closeList,selectList:e.selectList})),w=o&&t.i===p,y=d&&(null==f?void 0:f[t.i]),N=(0,i.useMemo)(()=>o&&p&&!w&&(null==g?void 0:g[t.i]),[o,p,w,g,t.i]),b=Array.isArray(null==t?void 0:t.c),k=b?(0,n.jsx)(O.Z,{fill:"currentColor",className:"origin-center ".concat(y?"":"rotate-90"),width:"0.7em",height:"0.7em"}):null,S=t._d||0;return(0,n.jsx)("div",{id:"node-"+t.i.toString(),"data-depth":S,onClick:()=>{o&&U(t.i)},onMouseEnter:()=>{o&&q(t.i)},onMouseLeave:()=>{o&&q("")},className:"node-item w-full h-full cursor-pointer transition-transform-background rounded-sm select-none "+(l||"")+"".concat(o?N?" node-item-select-hover":" node-item-hover":"")+"".concat(N?" node-item-select":"")+"".concat(w?" node-item-selected":""),children:(0,n.jsxs)("div",{className:"flex items-center h-full w-full px-[2px] relative",children:[w&&(0,n.jsx)("div",{className:"absolute top-0 left-[1px] h-full border-l-2 border-blue-400 rounded-sm pointer-events-none"}),(0,n.jsx)("div",{className:"flex-grow",style:{transform:"translateX(calc(".concat(S," * var(--indentation-size))")},children:(0,n.jsxs)("div",{"data-content":!0,className:"flex items-center w-fit",children:[d&&(0,n.jsx)("span",{className:"text-gray-400 w-[1em]"+(b?" hover:text-gray-700":""),onClick:e=>{e.stopPropagation(),L(t.i)},children:b&&(0,n.jsx)(v.e,{content:y?"Toggle to open":"Toggle to close",delay:800,showArrow:!0,color:"foreground",children:k})}),(0,n.jsx)("p",{className:"node-name line-clamp-1",children:j}),r&&(0,n.jsx)(V,{node:t}),c&&(0,n.jsx)(K,{node:t}),a&&(0,n.jsx)(G,{node:t}),u&&(0,n.jsx)(W,{node:t}),m&&(0,n.jsx)(H,{node:t}),h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E.q,{x:1}),(0,n.jsx)(I.z,{size:"sm",radius:"none",color:"warning",className:"rounded-md capitalize text-[8px] h-[14px]",children:h})]}),x&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E.q,{x:1}),(0,n.jsx)(I.z,{size:"sm",radius:"none",color:"danger",className:"rounded-md capitalize text-[8px] h-[14px]",children:x})]}),s&&t.k&&(0,n.jsx)(D,{node:t})]})})]})})},$=e=>{let{i:t,n:l,className:s,withKey:r=!0,withTag:a=!0,withHMR:i=!0,withSelect:o=!0,withTrigger:c=!0,withCollapse:d=!0,withFallback:u=!1}=e,m=(0,R.K)(e=>e.nodes),x=(0,P.i)(e=>e.map),h=m.find(e=>e.i===t);return h?(0,n.jsx)(B,{node:h,className:s,withCollapse:d,withTrigger:c,withSelect:o,withHMR:i,withTag:a,withKey:r}):u?(0,n.jsx)("div",{className:"node-item w-full h-full cursor-pointer transition-transform-background rounded-sm select-none",children:(0,n.jsx)("div",{className:"node-name line-clamp-1",children:x[l]})}):null},J=(0,i.memo)(()=>{let e=(0,F.U)(e=>e.select),t=(0,R.K)(e=>e.nodes).find(t=>t.i===e);return t?(0,n.jsx)(B,{node:t,withCollapse:!1,withSelect:!1,withKey:!1}):(0,n.jsx)("div",{className:"opacity-0",children:"1"})});J.displayName="FlameGraphName";var X=l(71606),Y=l(2932);let Q=e=>{let{parent:t,previous:l,current:s,isRoot:r,isSelect:a,isLegacy:o,isConCurrent:c,rootStack:d}=e,{setHover:u,setSelect:m}=F.U.getActions(),{setSelect:h,setRoot:j}=x.C.getActions(),p=(0,i.useMemo)(()=>P.i.getReadonlyState().map[s.n],[s.n]),v=(0,i.useMemo)(()=>Y.J.getReadonlyState().state[s.i],[s.i]),f=Math.floor(s.e-s.s),g=Math.floor(l?s.s-l.e:t?s.s-t.s:0);return g=0===f?g-1:g,f=0===f?1:f,(0,n.jsxs)(n.Fragment,{children:[!!(l||t)&&(0,n.jsx)("div",{className:"flameGraph-gap",style:{width:r?"1px":"calc(calc(var(--flameGraph-width-step)*".concat(g,"))"),height:"var(--flameGraph-height-step)"}}),(0,n.jsxs)("div",{className:"flameGraph-node-container cursor-pointer ".concat(r&&a&&'relative after:content-[""] after:absolute after:top-0 after:left-0 after:w-full after:h-full after:border-2 after:border-blue-400 after:rounded-sm after:pointer-events-none'),style:{width:"calc(calc(var(--flameGraph-width-step)*".concat(f,"))")},onMouseEnter:()=>{u(s.i)},onMouseLeave:()=>{u("")},children:[(0,n.jsxs)("div",{"data-id":"flameGraph-node-".concat(s.i),onClick:()=>{m(s.i),j(d)},onDoubleClick:()=>{m(s.i),h(s),j(d)},title:"".concat(p).concat(s.r?" +".concat(s.r):"").concat(o?" | Legacy update":"").concat(c?" | Concurrent update":""," | Duration: ").concat(Math.ceil(s.e-s.s)/1e3," ms"),className:"flameGraph-node-view py-0.5 rounded-sm opacity-50 hover:opacity-100 shadow-[inset_0_0_0_1px_rgb(142,192,254)] dark:shadow-[inset_0_0_0_1px_rgb(52,80,164)] line-clamp-1 font-ssm bg-blue-200 dark:bg-blue-950 ".concat(v?"bg-red-200 dark:bg-red-950":""),children:[p,s.r?" +".concat(s.r):""]}),(0,n.jsx)("div",{className:"flex",children:s.c&&s.c.length>0&&s.c.map((e,t)=>{if(!e||!e.e)return;let l=t>0?s.c[t-1]:void 0;return(0,n.jsx)(Q,{parent:s,previous:l,current:e,rootStack:d},e.i)})})]})]})},ee=(0,i.memo)(e=>{let{list:t,item:l}=e,s=t.find(e=>e.stack===l),r=(0,X.IU)((0,x.C)(e=>e.root));return l?(0,n.jsx)(Q,{isRoot:!0,parent:void 0,previous:void 0,current:l,isLegacy:s&&"legacy"===s.mode,isConCurrent:s&&"concurrent"===s.mode}):(0,n.jsx)(n.Fragment,{children:t.map((e,l)=>{let s=l>0?t[l-1]:void 0,a=r&&r===(0,X.IU)(e);return(0,n.jsx)(Q,{isRoot:!0,parent:void 0,isSelect:a,isLegacy:"legacy"===e.mode,isConCurrent:"concurrent"===e.mode,previous:s?s.stack:void 0,current:e.stack,rootStack:e},l)})})});ee.displayName="FlameGraphNodeRender";var et=l(37440),el=l(32856),en=l(60538),es=l(82072),er=l(97082);let ea=()=>{let{isOpen:e,onOpen:t,onClose:l,onOpenChange:s}=(0,h.q)(),r=(0,x.C)(e=>e.root);return r&&r.list&&0!==r.list.length?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.A,{size:"sm",isIconOnly:!0,onPress:t,children:(0,n.jsx)(er.Z,{className:"w-[1.2em]"})}),(0,n.jsx)(et.R,{isOpen:e,backdrop:"blur",size:"2xl",onClose:l,onOpenChange:s,placement:"top",children:(0,n.jsxs)(el.A,{children:[(0,n.jsx)(en.k,{children:(0,n.jsx)("h3",{children:"Trigger fiber"})}),(0,n.jsx)(es.I,{className:"p-4",children:r.list.map(e=>(0,n.jsx)($,{i:e.i,n:e.n,withCollapse:!1,withSelect:!1,withFallback:!0},e.i))})]})})]}):null},ei=()=>{let{state:e,record:t}=(0,x.C)(e=>({state:e.state,record:e.select})),{clearSelect:l}=x.C.getActions(),[s,r]=(0,i.useState)(0),a=(0,i.useRef)(null),{width:o}=z({ref:a}),c=0===s?e.length>4:e.length-4*s>4,u=s>0,m=e.slice(4*s,4*s+4),h=Math.ceil((0,i.useMemo)(()=>t?t.e-t.s:m.reduce((e,t)=>e+t.stack.e-t.stack.s,0),[m,t]));return(0,n.jsxs)("div",{className:"w-full h-full overflow-auto",ref:a,style:{"--flameGraph-width-step":"calc(".concat(o-m.length,"px/").concat(h,")"),"--flameGraph-height-step":"20px"},children:[(0,n.jsxs)("div",{className:"sticky top-0 z-50",children:[(0,n.jsxs)("div",{className:"flex node-name p-2 pb-0 font-lg font-code bg-content1 transition-transform-background",children:[(0,n.jsx)(J,{}),(0,n.jsxs)("div",{className:"ml-auto flex gap-x-2 absolute right-4 top-0",children:[(u||c)&&(0,n.jsxs)(p.g,{size:"sm",children:[u&&(0,n.jsx)(d.A,{onPress:()=>{u&&(r(e=>e-1),l())},isIconOnly:!0,children:(0,n.jsx)(g.Z,{className:"w-[1.2em]"})}),c&&(0,n.jsx)(d.A,{onPress:()=>{c&&(r(e=>e+1),l())},isIconOnly:!0,children:(0,n.jsx)(w.Z,{className:"w-[1.2em]"})})]}),t&&(0,n.jsx)(d.A,{size:"sm",isIconOnly:!0,onPress:l,children:(0,n.jsx)(y.Z,{className:"w-[1.2em]"})}),(0,n.jsx)(ea,{}),(0,n.jsx)(v.e,{content:"Clear Recorded Data",showArrow:!0,placement:"bottom-end",children:(0,n.jsx)(d.A,{isIconOnly:!0,size:"sm",onPress:()=>{x.C.getActions().clearStack(),r(0)},children:(0,n.jsx)(N.Z,{className:"w-[1.2em]"})})})]})]}),(0,n.jsx)(f.j,{})]}),(0,n.jsx)("div",{className:"flex mt-1",children:(0,n.jsx)(ee,{item:t,list:m})})]})};var eo=l(80646),ec=l.n(eo);let ed=()=>{let e=(0,F.U)(e=>e.select);return(0,i.useEffect)(()=>{e&&F.U.getActions().scrollIntoView()},[e]),(0,n.jsx)(ec(),{id:"acdf72cf34e5424c",dynamic:[e],children:'[data-id="flameGraph-node-'.concat(e,'"]{opacity:1}')})},{startLoading:eu,stopLoading:em,startProcessing:ex,clearStack:eh}=x.C.getActions(),ej=()=>{let e=(0,m.Z)(e=>e.state.supportRecord),{loading:t,processing:l,state:s}=(0,x.C)(e=>({loading:e.loading,processing:e.processing,state:e.state})),{count:r,onStart:a,onStop:i}=j();return e?0===s.length?(0,n.jsxs)("div",{className:"flameGraph-view h-full flex flex-col items-center justify-center",children:[!t&&(0,n.jsx)(u.Z,{className:"mb-2"}),!t&&(0,n.jsx)("p",{className:"text-lg mb-2",children:"No recorded data. Please start recording to see the flameGraph."}),(0,n.jsx)(d.A,{onPress:()=>{t?(eh(),em(),i(),ex()):(eu(),a())},size:"sm",isLoading:l,children:l?"Processing":"".concat(t?"Stop":"Start"," Record ").concat(t?"(".concat(r,"s)"):"")})]}):(0,n.jsxs)("div",{className:"flameGraph-view h-full",children:[(0,n.jsx)(ed,{}),(0,n.jsx)(ei,{})]}):(0,n.jsx)("div",{className:"flameGraph-view h-full flex flex-col items-center justify-center",children:(0,n.jsx)("p",{className:"p-4",children:"FlameGraph recording is not supported in this environment."})})};var ep=l(6752),ev=l(83571),ef=l(9680),eg=l(57727),ew=l(30030),ey=l(84925),eN=l(22266),eb=l(79213);let ek=(0,o.eK)(()=>({state:{},open:!1,index:null}),{withActions:e=>({setHookValue:(t,l,n)=>{e.state[t]={old:l,new:n}},setOldValue:(t,l)=>{e.state[t]?e.state[t].old=l:e.state[t]={old:l,new:l}},setNewValue:(t,l)=>{e.state[t]?e.state[t].new=l:e.state[t]={old:l,new:l}},setIndex:t=>{e.index=t},toggleOpen:()=>{e.open=!e.open},clear:()=>{e.index=null,e.state={},e.open=!1}}),withDeepSelector:!1,withStableSelector:!0}),{close:eS,setStore:eA,setSource:eC}=eb.a.getActions(),ez=(0,i.memo)(()=>{let{state:e,position:t,type:l}=(0,eb.a)(e=>e),s=ek(e=>e.index),r=ek.getActions().toggleOpen;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{"data-context-cover":!0,className:"fixed w-screen h-screen top-0 left-0",onContextMenu:e=>{e.preventDefault(),eS()},style:{display:e?"block":"none"},onClick:eS}),(0,n.jsx)("div",{"data-context-content":!0,className:"fixed z-10 font-sans",style:{top:t.y+4,left:t.x+4},children:(0,n.jsx)(ev.M,{initial:!1,mode:"wait",children:e&&(0,n.jsxs)(ef.E.div,{className:"context-menu font-sm bg-content1 border rounded shadow-md py-1",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,n.jsxs)("div",{className:"context-menu-item px-2 cursor-pointer select-none flex justify-center items-center node-item-hover",onClick:async()=>{eA(),await new Promise(e=>setTimeout(e,100)),eS()},children:[(0,n.jsx)(eg.Z,{className:"mr-2 w-[1em]"}),(0,n.jsx)("span",{className:"flex-grow",children:"Store as global variable"})]}),("Function"===l||"AsyncFunction"===l||"GeneratorFunction"===l||"Element"===l)&&(0,n.jsxs)("div",{className:"context-menu-item px-2 cursor-pointer select-none flex justify-center items-center node-item-hover",onClick:async()=>{eC(),await new Promise(e=>setTimeout(e,100)),eS()},children:[("Function"===l||"AsyncFunction"===l||"GeneratorFunction"===l)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ew.Z,{className:"mr-2 w-[1em]"}),(0,n.jsx)("span",{className:"flex-grow",children:"Inspect Function source"})]}),"Element"===l&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ey.Z,{className:"mr-2 w-[1em]"}),(0,n.jsx)("span",{className:"flex-grow",children:"Inspect Element node"})]})]}),"number"==typeof s&&(0,n.jsxs)("div",{className:"context-menu-item px-2 cursor-pointer select-none flex justify-center items-center node-item-hover",onClick:()=>{r(),eS()},children:[(0,n.jsx)(eN.Z,{className:"mr-2 w-[1em]"}),(0,n.jsx)("span",{className:"flex-grow",children:"Track the change"})]})]},"context-menu")})})]})});ez.displayName="ContextMenu";var eR=l(66677),eF=l(42072);let eE=e=>{let t=(0,i.useRef)(e);return t.current=e,(0,i.useCallback)(function(){for(var e,l,n=arguments.length,s=Array(n),r=0;r<n;r++)s[r]=arguments[r];return s.length?null===(e=t.current)||void 0===e?void 0:e.call(t,...s):null===(l=t.current)||void 0===l?void 0:l.call(t)},[])};var eI=l(34036),eO=l(9249),eZ=l(57420),eM=l(9840),eP=l(62322),e_=l(44873);let eT=(e,t)=>{let l=(0,i.useRef)(e);return(0,i.useEffect)(()=>{t(e)&&(l.current=e)},[t,e]),l.current},eU=e=>{let t=null==e?void 0:e.v,l=null==e?void 0:e.t;if("Element"===l)return(0,i.createElement)("span",{className:"text-teal-600"},t);if("Date"===l||"Boolean"===l||"Error"===l||"Number"===l||"Symbol"===l)return t;if(null==e?void 0:e.n)return e.n;if((null==e?void 0:e.l)===!1)return"Array"===e.t||"Set"===e.t?"[…]":"Map"===e.t||"Object"===e.t?"{…}":"…";if(null!==t&&"object"==typeof t&&!Array.isArray(t)&&"function"==typeof t[window.Symbol.iterator])return"(…)";if(Array.isArray(t))return t.length>0?"[…]":"[]";if("Null"===l)return"null";if("Undefined"===l)return"undef";if("object"==typeof t)return Object.keys(t).length>0?"{…}":"{}";if("Function"===l)return(0,i.createElement)("span",{className:"text-teal-600"},"".concat(t.substr(0,10)+(t.length>10?"…":"")));if("string"!=typeof t)return t;else return"String"===l?'"'.concat(t.substr(0,10)+(t.length>10?"…":""),'"'):"".concat(t.substr(0,10)+(t.length>10?"…":""))};function eL(e,t){var l,n,s,r,a,o;let c=!0;if("Object"===e){let e=[],r=Object.keys(t);return(null==r||null===(s=r.slice)||void 0===s||null===(n=s.call(r,0,3))||void 0===n||null===(l=n.forEach)||void 0===l||l.call(n,l=>{let n=eU(t[l]);(0,i.isValidElement)(n)?(c=!1,e.push((0,i.createElement)(i.Fragment,{key:l},"".concat(l,": "),n))):e.push("".concat(l,": ").concat(n))}),r.length>3&&e.push("…"),c)?e.join(", "):e}if("Array"!==e)return e;{let e=[];return(null==t||null===(o=t.slice)||void 0===o||null===(a=o.call(t,0,4))||void 0===a||null===(r=a.forEach)||void 0===r||r.call(a,t=>{let l=eU(t);(0,i.isValidElement)(l)&&(c=!1),e.push(l)}),t.length>4&&e.push("…"),c)?e.join(", "):e}}var eq=l(12480),eV=l(92095),eD=l(3903),eK=l(25616),eG=l(20243),eW=l(7586);let{setUpdateState:eH,clear:eB}=l(79008).y.getActions(),e$=e=>{let{item:t,rootItem:l,parentItem:s,hookIndex:r,path:a,type:o,chunkId:c,children:u}=e,[m,x]=(0,i.useState)(""),[j,p]=(0,i.useState)(0),v=(0,i.useRef)(null),{isOpen:g,onClose:w,onOpenChange:y}=(0,h.q)();return(0,i.useEffect)(()=>{if(g){var e;x(String(t.v)),p((null===(e=v.current)||void 0===e?void 0:e.offsetWidth)||0)}},[g,t.v]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"cursor-pointer",children:["✨ ",u]}),(0,n.jsxs)(eq.j,{placement:"bottom",isOpen:g,backdrop:"opaque",triggerScaleOnOpen:!1,onOpenChange:y,children:[(0,n.jsx)(eV.b,{children:(0,n.jsx)("div",{ref:v,className:"absolute w-full h-full left-0 top-0 cursor-pointer"})}),(0,n.jsx)(eD.g,{children:(0,n.jsxs)("div",{className:"p-2 min-w-[200px]",style:{minWidth:null!=j?j:200},children:["Boolean"===t.t&&(0,n.jsx)(eK.i,{size:"sm",isSelected:"true"===m,onValueChange:()=>x("true"===m?"false":"true")}),"Number"===t.t&&(0,n.jsx)(eG.i,{variant:"bordered",disableAnimation:!0,size:"sm",value:+m,onValueChange:e=>x(e.toString())}),"String"===t.t&&(0,n.jsx)(eW.Y,{classNames:{input:"resize-y min-h-[40px]"},className:"font-code",variant:"bordered",disableAnimation:!0,disableAutosize:!0,size:"sm",value:m,onValueChange:e=>x(e)}),(0,n.jsx)(f.j,{className:"my-3"}),(0,n.jsxs)("div",{className:"flex justify-end",children:[(0,n.jsx)(d.A,{size:"sm",color:"danger",onPress:w,children:"Cancel"}),(0,n.jsx)(d.A,{size:"sm",className:"ml-2",color:"primary",onPress:()=>{m!==t.v&&(eH({id:t.i,rootId:null==l?void 0:l.i,parentId:null==s?void 0:s.i,oldVal:t.v,newVal:m,hookIndex:r,path:a,type:o}),w(),setTimeout(()=>{c&&e_.F.getActions().setLoading(c),eB()},60))},children:"Confirm"})]})]})})]})]})},{open:eJ,setId:eX,setType:eY,setSource:eQ,clear:e0}=eb.a.getActions(),e1=e=>{var t,l,s,r;let{name:a,item:o,rootItem:c,parentItem:d,prefix:u,editable:m,hookIndex:x,type:h,chunkId:j}=e,[p,v]=(0,i.useState)(!1),f=(0,i.useRef)(!1),g=e_.F.useShallowSelector(e=>{var t,l;return null===(l=e.data)||void 0===l?void 0:null===(t=l[(null==o?void 0:o.i)||""])||void 0===t?void 0:t.loaded}),w=null!==(t=null==o?void 0:o.v)&&void 0!==t?t:null==g?void 0:g.v,y=eT(w,e=>!!e),N=null!=w?w:y,b=null!==(l=null==g?void 0:g.n)&&void 0!==l?l:null==o?void 0:o.n,k=null!==(s=null==g?void 0:g.t)&&void 0!==s?s:null==o?void 0:o.t,S=null!==(r=null==g?void 0:g._t)&&void 0!==r?r:null==o?void 0:o._t,A=(0,i.useMemo)(()=>{let e=()=>{if(b)return b;if("Array"===k||"Set"===k||"Map"===k){let e=eL("Array",null!=N?N:[]);return"Set"===k||"Map"===k?Array.isArray(e)?(0,n.jsxs)(n.Fragment,{children:[k,"([",e.map((t,l)=>(0,n.jsxs)(i.Fragment,{children:[t,l<e.length-1?", ":""]},l)),"])"]}):"".concat(k,"([").concat(e,"])"):Array.isArray(e)?(0,n.jsxs)(n.Fragment,{children:["[",e.map((t,l)=>(0,n.jsxs)(i.Fragment,{children:[t,l<e.length-1?", ":""]},l)),"]"]}):"[".concat(e,"]")}if("Iterable"===k||"Object"===k||"Object"===S){let e=eL("Object",null!=N?N:{});return Array.isArray(e)?(0,n.jsxs)(n.Fragment,{children:["{",e.map((t,l)=>(0,n.jsxs)(i.Fragment,{children:[t,l<e.length-1?", ":""]},l)),"}"]}):"{".concat(e,"}")}};return S&&!b?"Object"===S?(0,n.jsxs)(n.Fragment,{children:["[object ",k," ",e(),"]"]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"pr-1",title:"reactivity-store, see https://github.com/MrWangJustToDo/reactivity-store",children:["Readonly"===S?(0,n.jsx)(eZ.Z,{className:"text-red-400 inline",width:"1em",height:"1em"}):(0,n.jsx)(eM.Z,{className:"text-green-400 inline",width:"1em",height:"1em"})," ",S]}),e()]}):e()},[k,b,N,S]);(0,i.useEffect)(()=>{p&&(null==o?void 0:o.l)===!1&&o.i&&(!g||g.i!==o.i)&&e_.F.getActions().setLoading(o.i),p&&(f.current=!0)},[g,p,null==o?void 0:o.i,null==o?void 0:o.l]),(0,i.useEffect)(()=>{p&&w&&(Array.isArray(w)?w.forEach(e=>{var t,l;!e||!e.e||!e.i||e.l||(null===(l=e_.F.getReadonlyState().data)||void 0===l?void 0:null===(t=l[e.i])||void 0===t?void 0:t.loaded)||e_.F.getActions().setLoading(e.i)}):Object.values(w).forEach(e=>{var t,l;!e||!e.e||!e.i||e.l||(null===(l=e_.F.getReadonlyState().data)||void 0===l?void 0:null===(t=l[e.i])||void 0===t?void 0:t.loaded)||e_.F.getActions().setLoading(e.i)}))},[w,p]);let C=e=>{if(!N||!o)return;e.preventDefault(),eJ({x:e.clientX,y:e.clientY}),eX(o.i),eY(o.t);let t=eI.W.getReadonlyState().enable,{setIndex:l}=ek.getActions();l("hook"===h&&"number"==typeof x&&t&&ek.getReadonlyState().state[x]?x:null)};if(!o)return null;let z=!1===o.l,R=(null==g?void 0:g.i)||o.i,F=o.e,E=(0,n.jsx)(O.Z,{fill:"currentColor",className:"origin-center ".concat(p?"rotate-90":""),width:"0.6em",height:"0.6em"});if(F)return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{"data-id":R,"data-chunk":z,className:"hook-value-view",children:[(0,n.jsxs)("div",{className:"flex w-full my-0.5 items-center",children:[(0,n.jsx)("span",{className:"text-gray-400 w-[1.5em] h-[1.5em] cursor-pointer inline-flex justify-center items-center hover:text-gray-700 shrink-0",onClick:()=>v(!p),children:E}),u,(0,n.jsxs)("div",{className:"max-w-full flex line-clamp-1 break-all",children:[(0,n.jsx)("span",{className:"flex-shrink-0 cursor-pointer select-none whitespace-nowrap",onClick:()=>v(!p),onContextMenu:C,children:a}),(0,n.jsx)("span",{className:"flex-shrink-0 pr-1",children:":"}),(0,n.jsx)("span",{className:"hook-value-placeholder line-clamp-1 break-all",children:N?A:(0,n.jsx)(eP.Z,{className:"inline-block font-sm",width:"1em",height:"1em"})})]})]}),(f.current||p)&&(0,n.jsx)("div",{className:"".concat(p?"block":"hidden"," ml-6 my-0.5"),children:N?Array.isArray(N)?(0,n.jsx)(n.Fragment,{children:N.map((e,t)=>(0,n.jsx)(e1,{name:t.toString(),item:e,type:h,rootItem:c||o,editable:m&&"Readonly"!==S&&"string"!=typeof b,chunkId:z?R:j,parentItem:o,hookIndex:x},t))}):(0,n.jsx)(n.Fragment,{children:Object.keys(N).sort().reverse().map(e=>(0,n.jsx)(e1,{name:e,item:N[e],type:h,rootItem:c||o,parentItem:o,editable:m&&"Readonly"!==S&&"string"!=typeof b,chunkId:z?R:j,hookIndex:x},e))}):(0,n.jsx)(ep.c,{size:"sm"})})]})});{let e="String"===o.t?'"'.concat(String(o.v),'"'):String(o.v),t="ReadError"===o.t,l="Element"===o.t,s="Function"===o.t||"AsyncFunction"===o.t||"GeneratorFunction"===o.t,r=(0,n.jsx)("span",{className:"hook-".concat(o.t," pl-1 ").concat(t?"text-red-300":""," ").concat(l||s?"text-teal-600":""),children:e}),i=m&&"Readonly"!==o._t&&((null==o?void 0:o.t)==="String"||(null==o?void 0:o.t)==="Number"||(null==o?void 0:o.t)==="Boolean");return(0,n.jsx)("div",{"data-id":R,"data-chunk":z,className:"hook-value-view",children:(0,n.jsxs)("div",{className:"flex w-full my-0.5 items-center",children:[(0,n.jsx)("span",{className:"text-transparent w-[1.5em] h-[1.5em] inline-block shrink-0",children:E}),u,(0,n.jsxs)("div",{className:"w-full relative flex pr-2 line-clamp-1 break-all",children:[(0,n.jsx)("span",{className:"flex-shrink-0 cursor-pointer select-none whitespace-nowrap",onContextMenu:C,children:a}),(0,n.jsx)("span",{className:"flex-shrink-0",children:":"}),i?(0,n.jsx)("span",{className:"hook-value-placeholder relative line-clamp-1 break-all",title:e,children:(0,n.jsx)(e$,{item:o,chunkId:j,hookIndex:x,path:a,type:h||"",rootItem:c,parentItem:d,children:r})}):(0,n.jsx)("span",{className:"hook-value-placeholder flex-grow line-clamp-1 break-all"+(s||l?" cursor-pointer node-item-hover rounded-[2px] overflow-hidden":""),onClick:async()=>{(s||l)&&(eX(R),eQ(),await new Promise(e=>setTimeout(e,100)),e0())},title:e,children:r})]})]})})}},{setKeys:e2,clear:e4}=eO.L.getActions(),e5=e=>{let{select:t,mode:l="vertical"}=e,s=(0,eI.W)(e=>e.triggerStatus),{layout:r,setLayout:a}=(0,eO.o)(),o=T.P.useShallowSelector(e=>{var l;return null===(l=e.state)||void 0===l?void 0:l[t]}),c=eE((e,t)=>{let{_keysToLinkHook:l,_nodesToLinkHook:s,...r}=t;return(0,n.jsx)("div",{className:"tree-wrapper cursor-pointer",onMouseEnter:()=>e2(l||[]),onMouseLeave:()=>e2([]),children:(0,n.jsx)(e1,{name:e.toString(),item:r})},e)}),u=o-9>=0?o-9:0,m=(null==s?void 0:s.length)>0;return((0,i.useEffect)(()=>e4,[]),r!==l)?null:m?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"node-trigger p-2 pb-0",children:[(0,n.jsxs)("div",{className:"flex items-center ",children:[(0,n.jsx)("span",{children:"trigger"}),(0,n.jsx)(d.A,{size:"sm",isIconOnly:!0,className:"ml-4",variant:"flat",onPress:()=>a("horizontal"===r?"vertical":"horizontal"),children:"horizontal"===r?(0,n.jsx)(eR.Z,{className:"w-[1.1em]"}):(0,n.jsx)(eF.Z,{className:"w-[1.1em]"})})]}),(0,n.jsx)(E.q,{y:1}),(0,n.jsx)("div",{className:"w-full font-code font-sm",children:null==s?void 0:s.map((e,t)=>c(u+t,e))})]}),"vertical"===l&&(0,n.jsx)(f.j,{})]}):null},e7=e=>{let{select:t}=e,l=(0,eI.W)(e=>e.hmrInternal);return l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"node-hmr p-2 pb-0",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsx)("span",{children:"hmr internal"})}),(0,n.jsx)(E.q,{y:1}),(0,n.jsx)("div",{className:"w-full font-code font-sm",children:(0,n.jsx)(e1,{name:"signature",item:l})})]}),(0,n.jsx)(f.j,{})]}):null},e6=e=>{let{select:t}=e,l=(0,eI.W)(e=>e.warnStatus),s=Z.R.useShallowSelector(e=>e.warn[t]),r=eE((e,t)=>(0,n.jsx)("div",{className:"tree-wrapper",children:(0,n.jsx)(e1,{name:e.toString(),item:t})},e)),a=s-9>=0?s-9:0;return(null==l?void 0:l.length)>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"node-warn p-2 pb-0",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsx)("span",{children:"warn"})}),(0,n.jsx)(E.q,{y:1}),(0,n.jsx)("div",{className:"w-full font-code font-sm",children:null==l?void 0:l.map((e,t)=>r(a+t,e))})]}),(0,n.jsx)(f.j,{})]}):null},e9=e=>{let{select:t}=e,l=(0,eI.W)(e=>e.errorStatus),s=Z.R.useShallowSelector(e=>e.error[t]),r=eE((e,t)=>(0,n.jsx)("div",{className:"tree-wrapper",children:(0,n.jsx)(e1,{name:e.toString(),item:t})},e)),a=s-9>=0?s-9:0;return(null==l?void 0:l.length)>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"node-error p-2 pb-0",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsx)("span",{children:"error"})}),(0,n.jsx)(E.q,{y:1}),(0,n.jsx)("div",{className:"w-full font-code font-sm",children:null==l?void 0:l.map((e,t)=>r(a+t,e))})]}),(0,n.jsx)(f.j,{})]}):null},e3=()=>{let e=(0,F.U)(e=>e.select);return(0,eI.W)(e=>e.enable)&&e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e5,{select:e}),(0,n.jsx)(e7,{select:e}),(0,n.jsx)(e6,{select:e}),(0,n.jsx)(e9,{select:e})]}):null},e8=e=>{let{mode:t}=e,l=(0,F.U)(e=>e.select);return l?(0,n.jsx)(e5,{select:l,mode:t}):null};var te=l(39958);let tt=e=>{let{children:t,onHeightChange:l,onAttachRef:s}=e,r=(0,i.useRef)(null),a=eE(l),o=eE(s);return(0,b.L)(()=>{let e=()=>{r.current&&a(r.current.clientHeight)},t=new ResizeObserver(e);return e(),o(r),r.current&&t.observe(r.current),()=>{t.disconnect()}},[]),(0,n.jsx)("div",{"data-auto-height-wrapper":!0,ref:r,children:t})},tl=e=>{let{left:t,right:l}=e,s=(0,i.useRef)(null),r=(0,i.useRef)(),a=()=>{if(s.current){var e;let t=Math.max(...(null===(e=r.current)||void 0===e?void 0:e.map(e=>{var t;return(null===(t=e.current)||void 0===t?void 0:t.clientHeight)||0}))||[]);s.current.style.height="".concat(t+2,"px")}},o=(0,i.useCallback)(e=>{r.current||(r.current=[]),r.current.push(e)},[]);return(0,n.jsx)("div",{ref:s,children:(0,n.jsxs)(te.oL,{children:[(0,n.jsx)(tt,{onHeightChange:a,onAttachRef:o,children:t}),(0,n.jsx)(tt,{onHeightChange:a,onAttachRef:o,children:l})]})})},tn=(0,i.memo)(()=>{let{state:e,open:t,toggle:l}=ek.useShallowSelector(e=>({state:e.state[e.index],open:e.open,toggle:e.toggleOpen}));return(0,n.jsx)(et.R,{isOpen:t&&!!e,onClose:l,size:"3xl",children:(0,n.jsxs)(el.A,{className:"max-h-[70%] overflow-auto",children:[(0,n.jsx)(en.k,{children:(0,n.jsx)("div",{className:"font-bold text-lg mb-2",children:"Hook Value Change"})}),(0,n.jsx)(es.I,{children:(0,n.jsx)(tl,{left:(0,n.jsx)(e1,{name:"old",item:null==e?void 0:e.old}),right:(0,n.jsx)(e1,{name:"new",item:null==e?void 0:e.new})})})]})})});tn.displayName="HookCompare";let ts=e=>{let{item:t,enableEdit:l}=e,s=eI.W.useShallowSelector(e=>{var l;return null===(l=e.hookUpdaterStatus)||void 0===l?void 0:l[t.i||""]}),r=t.v,a=t.i;(0,i.useEffect)(()=>{a&&s&&r&&s.i!==r.i&&(0,ek.getActions().setHookValue)(a,s,r)},[s,r,a]);let o=s&&r&&s.i!==r.i;return(0,n.jsx)(e1,{name:t.n,item:t.v,editable:t.e&&l,hookIndex:t.i,type:"hook",prefix:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.z,{classNames:{content:"p-0"},size:"sm",className:"rounded-sm text-center mr-1 flex-shrink-0 font-[300] !px-1 text-gray-800 dark:text-gray-200 !h-[1.4em] !max-w-[initial] !min-w-[initial]",children:t.i}),o&&(0,n.jsx)(eN.Z,{className:"text-red-400 mx-0.5",size:"1em"})]})})},tr=e=>{var t;let{item:l,enableEdit:s,hoverKeys:r}=e,[a,o]=(0,i.useState)(!1),c=l.h,d=(0,n.jsx)(O.Z,{fill:"currentColor",className:"origin-center ".concat(a?"rotate-90":""),width:"0.6em",height:"0.6em"}),u=(0,i.useMemo)(()=>null==r?void 0:r.some(e=>l.keys.includes(e)),[r,l.keys]);return c?(0,n.jsx)("div",{"data-hover-state-wrapper":!0,className:u?"hook-hover":"",children:(0,n.jsx)(ts,{item:l,enableEdit:s})}):(0,n.jsx)("div",{"data-hover-state-wrapper":!0,className:!a&&u?"hook-hover":"",children:(0,n.jsxs)("div",{className:"hook-stack-view",children:[(0,n.jsxs)("div",{className:"flex w-full my-0.5",children:[(0,n.jsx)("span",{className:"text-gray-400 w-[1.5em] h-[1.5em] cursor-pointer inline-flex justify-center items-center hover:text-gray-700",onClick:()=>o(!a),children:d}),(0,n.jsx)("div",{className:"max-w-full line-clamp-1 cursor-pointer ".concat("Anonymous"===l.n?"opacity-20":"opacity-40"),onClick:()=>o(!a),children:l.n}),"Anonymous"===l.n?null:":"]}),(0,n.jsx)("div",{className:"".concat(a?"block":"hidden"," ml-4 my-0.5"),children:null===(t=l.c)||void 0===t?void 0:t.map((e,t)=>(0,n.jsx)(tr,{item:e,enableEdit:s,hoverKeys:r},e.n+"-"+t))})]})})},ta=e=>{let{mode:t="vertical"}=e,l=(0,F.U)(e=>e.select),s=(0,R.K)(e=>e.nodes),r=(0,m.Z)(e=>e.state.enableEdit),a=(0,eO.L)(e=>e.keys),i=s.find(e=>e.i===l),o=null==i?void 0:i.i,c=(null==i?void 0:i._h)||[];return c.length>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"node-hooks p-2 pb-0",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsx)("span",{children:"hooks"})}),(0,n.jsx)(E.q,{y:1}),(0,n.jsx)("div",{className:"w-full font-code font-sm",children:c.map((e,t)=>(0,n.jsx)("div",{className:"tree-wrapper",children:(0,n.jsx)(tr,{item:e,enableEdit:r,hoverKeys:a})},o+"-"+t))})]}),"vertical"===t&&(0,n.jsx)(f.j,{})]}):null},ti=()=>{let e=(0,eO.o)(e=>e.layout);return(0,eI.W)(e=>e.enable)&&"horizontal"===e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tl,{left:(0,n.jsx)(ta,{mode:"horizontal"}),right:(0,n.jsx)(e8,{mode:"horizontal"})}),(0,n.jsx)(f.j,{})]}):(0,n.jsx)(ta,{})};var to=l(36821);let{storeFiber:tc,triggerFiber:td,scrollIntoView:tu,inspectComAction:tm,inspectDomAction:tx}=F.U.getActions(),th=()=>{let e=(0,F.U)(e=>e.select),t=(0,R.K)(e=>e.nodes).find(t=>t.i===e),l=(null==t?void 0:t.t)&k.NODE_TYPE.__class__||(null==t?void 0:t.t)&k.NODE_TYPE.__function__;return t?(0,n.jsxs)("div",{className:"sticky top-0 z-50",children:[(0,n.jsxs)("div",{className:"node-name p-2 pb-0 font-lg font-code bg-content1 transition-transform-background",children:[(0,n.jsx)(B,{node:t,withCollapse:!1,withSelect:!1,withKey:!1,withRunningCount:!0}),(0,n.jsxs)(p.g,{className:"absolute right-4 top-0",children:[(0,n.jsx)(v.e,{content:"force scroll to select",showArrow:!0,color:"foreground",placement:"bottom-end",children:(0,n.jsx)(d.A,{isIconOnly:!0,size:"sm",variant:"flat",onPress:tu,children:(0,n.jsx)(to.Z,{className:"w-[1.1em]"})})}),(0,n.jsx)(v.e,{content:"store fiber node",showArrow:!0,color:"foreground",placement:"bottom-end",children:(0,n.jsx)(d.A,{isIconOnly:!0,size:"sm",variant:"flat",onPress:tc,children:(0,n.jsx)(eg.Z,{className:"w-[1.1em]"})})}),(0,n.jsx)(v.e,{content:"force trigger",showArrow:!0,color:"foreground",placement:"bottom-end",children:(0,n.jsx)(d.A,{isIconOnly:!0,size:"sm",variant:"flat",onPress:td,children:(0,n.jsx)(O.Z,{className:"w-[1.1em]"})})}),(0,n.jsx)(v.e,{content:"inspect dom",showArrow:!0,color:"foreground",placement:"bottom-end",children:(0,n.jsx)(d.A,{isIconOnly:!0,size:"sm",variant:"flat",onPress:tx,children:(0,n.jsx)(ey.Z,{className:"w-[1.1em]"})})}),l>0&&(0,n.jsx)(v.e,{content:"inspect code",showArrow:!0,color:"foreground",placement:"bottom-end",children:(0,n.jsx)(d.A,{isIconOnly:!0,size:"sm",variant:"flat",onPress:tm,children:(0,n.jsx)(ew.Z,{className:"w-[1.1em]"})})})]})]}),(0,n.jsx)(f.j,{})]}):null},tj=()=>{var e;let t=(0,F.U)(e=>e.select),l=(0,R.K)(e=>e.nodes),s=(0,m.Z)(e=>e.state.enableEdit),r=l.find(e=>e.i===t),a=Object.keys((null==r?void 0:null===(e=r.p)||void 0===e?void 0:e.v)||{}),i=null==r?void 0:r.i,o=a.length>0,c=eE(e=>{var t,l;let o=a[e];return(0,n.jsx)("div",{className:"tree-wrapper",children:(0,n.jsx)(e1,{name:o,type:"props",editable:s,item:null==r?void 0:null===(l=r.p)||void 0===l?void 0:null===(t=l.v)||void 0===t?void 0:t[o]})},i+"-"+e)});return o?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"node-props p-2 pb-0",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsx)("span",{children:"props"})}),(0,n.jsx)(E.q,{y:1}),(0,n.jsx)("div",{className:"w-full font-code font-sm",children:a.map((e,t)=>c(t))})]}),(0,n.jsx)(f.j,{})]}):null};var tp=l(38410),tv=l(37417),tf=l(13934);let{scrollIntoView:tg}=F.U.getActions(),tw=()=>{let e=(0,F.U)(e=>e.select),t=(0,R.K)(e=>e.nodes).find(t=>t.i===e),l=null==t?void 0:t._t,s=null==t?void 0:t._t,r=(0,tv.k)(e=>e.filter),a=(0,i.useMemo)(()=>Array.from(r).map(e=>+e),[r]),o=(0,tp.p)(e=>e.list),c=null==s?void 0:s[(null==s?void 0:s.length)-1];(null==c?void 0:c.startsWith("$$ "))?(s=null==s?void 0:s.slice(0,-1),c=c.slice(3)):c=void 0;let d=null==s?void 0:s[(null==s?void 0:s.length)-1];(null==d?void 0:d.startsWith("$$ "))?(s=null==s?void 0:s.slice(0,-1),d=d.slice(3)):d=void 0;let u=(0,i.useMemo)(()=>null==s?void 0:s.map(e=>o.find(t=>t.i===e)),[o,s]),m=(0,i.useMemo)(()=>null==u?void 0:u.filter(e=>!(0,tf.VR)(e,a)),[a,u]),x=eE(e=>{let t=null==m?void 0:m[e];return t?(0,n.jsx)("div",{className:"ml-2",onClick:tg,children:(0,n.jsx)(B,{node:t,withCollapse:!1,withRunningCount:!0})},t.i):null});return(null==l?void 0:l.length)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"node-renders p-2 pb-0",children:[(0,n.jsx)("div",{children:"renders"}),(0,n.jsx)(E.q,{y:1}),(0,n.jsxs)("div",{className:"w-full font-code font-sm",children:[m.map((e,t)=>x(t)),d&&(0,n.jsx)("div",{className:"ml-2 px-[2px]",children:d}),(0,n.jsx)("div",{className:"ml-2 px-[2px]",children:c||"@my-react"})]})]}),(0,n.jsx)(f.j,{})]}):null},ty=()=>{let e=(0,F.U)(e=>e.select),t=(0,R.K)(e=>e.nodes).find(t=>t.i===e),l=null==t?void 0:t._s;return(null==l?void 0:l.value)?(0,n.jsxs)("div",{className:"node-source p-2 pb-0",children:[(0,n.jsx)("div",{children:"source"}),(0,n.jsx)(E.q,{y:1}),(0,n.jsx)("div",{className:"w-full font-code font-sm",children:(0,n.jsx)("div",{className:"ml-2 px-[2px] text-gray-600",children:l.value})})]}):null},tN=()=>{var e,t,l;let s=(0,F.U)(e=>e.select),r=(0,R.K)(e=>e.nodes),a=(0,m.Z)(e=>e.state.enableEdit),i=r.find(e=>e.i===s),o=Object.keys((null==i?void 0:null===(e=i.s)||void 0===e?void 0:e.t)!=="Null"&&(null==i?void 0:null===(t=i.s)||void 0===t?void 0:t.t)!=="Undefined"&&(null==i?void 0:null===(l=i.s)||void 0===l?void 0:l.v)||{}),c=null==i?void 0:i.i,d=o.length>0,u=eE(e=>{var t,l;let s=o[e];return(0,n.jsx)("div",{className:"tree-wrapper",children:(0,n.jsx)(e1,{name:s,type:"state",editable:a,item:null==i?void 0:null===(l=i.s)||void 0===l?void 0:null===(t=l.v)||void 0===t?void 0:t[s]})},c+"-"+e)});return d?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"node-states p-2 pb-0",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsx)("span",{children:"states"})}),(0,n.jsx)(E.q,{y:1}),(0,n.jsx)("div",{className:"w-full font-code font-sm",children:o.map((e,t)=>u(t))})]}),(0,n.jsx)(f.j,{})]}):null},tb=()=>{let{loading:e}=R.K.useShallowStableSelector(e=>({nodeList:e.nodes,loading:e.loading})),t=F.U.useShallowStableSelector(e=>e.select);return e?(0,n.jsx)("div",{className:"node-view h-full flex items-center justify-center",children:(0,n.jsx)(ep.c,{color:"primary"})}):(0,n.jsxs)("div",{className:"node-view h-full",children:[(0,n.jsxs)("div",{className:"group h-full overflow-auto",children:[(0,n.jsx)(th,{},t),(0,n.jsx)(tj,{},t),(0,n.jsx)(tN,{},t),(0,n.jsx)(ti,{},t),(0,n.jsx)(e3,{},t),(0,n.jsx)(tw,{},t),(0,n.jsx)(ty,{},t),(0,n.jsx)(ez,{},t)]}),(0,n.jsx)(tn,{})]})},tk=()=>{let e=c(e=>e.mode);return(0,n.jsxs)("div",{className:"detail-view h-full p-1",children:["node"===e&&(0,n.jsx)(tb,{}),"flameGraph"===e&&(0,n.jsx)(ej,{})]})};var tS=l(67345),tA=l(60127);let tC=()=>{let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=window.matchMedia("(max-width: 768px)");return e.addEventListener("change",e=>{t(e.matches)}),t(window.innerWidth<=768),()=>{e.removeEventListener("change",()=>{})}},[]),e},tz=e=>{let{left:t,right:l}=e,s=tC();return(0,n.jsx)(tS.w,{className:"w-full",radius:"sm",children:(0,n.jsx)(tA.G,{className:"w-full p-0",children:(0,n.jsxs)(te.oL,{vertical:s,children:[t,l]},s?"1":"2")})})};var tR=l(96593);let tF=()=>{let e=(0,i.useRef)();(0,i.useEffect)(()=>{let t=t=>{let l=F.U.getReadonlyState().select;if(!l)return null;if("ArrowDown"===t.key){let n=tp.p.getReadonlyState().list,s=n.findIndex(e=>e.i===l);return -1!==s&&s<n.length-1&&(e.current=n[s+1].i,t.preventDefault(),t.stopPropagation()),!1}if("ArrowUp"===t.key){let n=tp.p.getReadonlyState().list,s=n.findIndex(e=>e.i===l);return s>0&&(e.current=n[s-1].i,t.preventDefault(),t.stopPropagation()),!1}},l=t=>{("ArrowDown"===t.key||"ArrowUp"===t.key)&&e.current&&(F.U.getActions().setSelect(e.current),F.U.getActions().scrollIntoView(),e.current=void 0,t.preventDefault(),t.stopPropagation())};return window.addEventListener("keydown",t),window.addEventListener("keyup",l),()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",l)}},[])},tE=()=>{let e=(0,F.U)(e=>e.hover);return(0,n.jsx)(ec(),{id:"90b5507acfe48a25",dynamic:[e,e],children:'[data-indent="'.concat(e,'"]{display:block}[data-indent-next="').concat(e,'"]{display:block}')})};var tI=l(41115),tO=l(93231),tZ=l(57344),tM=l(25667),tP=l(30798),t_=l(17297),tT=l(61247),tU=l(63727),tL=l(28048),tq=l(15017),tV=l(64185),tD=l(77977),tK=l(64568),tG=l(72467),tW=l(12971),tH=l(58152),tB=l(99286),t$=l(36221),tJ=l(58752),tX=l(50956),tY=l(67927),tQ=l(65202),t0=l(85872),t1=l(76448);let{setSelect:t2}=F.U.getActions(),{toggleHoverOnBrowser:t4}=m.Z.getActions(),t5=(0,i.memo)(e=>{var t;let{handle:l}=e,[r,a]=(0,i.useState)(""),o=(0,tp.p)(e=>e.list),[c,u]=(0,i.useState)(0),[x,h]=(0,i.useState)([]),[j,f]=(0,i.useState)([]),g=(0,P.i)(e=>e.map),w=m.Z.useShallowStableSelector(e=>e.state.enableHoverOnBrowser),N=x[c],b=null===(t=j[N])||void 0===t?void 0:t.i;return(0,i.useEffect)(()=>{u(0),h([])},[r]),(0,i.useEffect)(()=>{void 0!==N&&(t2(b,!0),null==l||l.scrollToIndex({index:N,align:"center"}))},[N,l,b]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v.e,{content:"hover on the browser",showArrow:!0,color:"foreground",children:(0,n.jsx)(d.A,{isIconOnly:!0,variant:"flat",onPress:t4,children:(0,n.jsx)(tQ.Z,{className:w?"text-green-400 h-[1.2em]":"text-gray-400 h-[1.2em]"})})}),(0,n.jsx)(E.q,{x:2}),(0,n.jsx)("form",{onSubmit:e=>{var t;if(null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),r){u(0);let e=o.map(e=>({...e,_name:g[e.n]})),t=e.map((e,t)=>e._name.includes(r)?t:-1).filter(e=>-1!==e);f(e),h(t),0===t.length?(0,s.fz)({severity:"danger",description:"Can't find current name",title:"error",color:"danger"}):(0,s.fz)({severity:"success",description:"Find ".concat(t.length," items"),title:"success",color:"success"})}},children:(0,n.jsx)(tY.Y,{placeholder:"Search component",className:"w-full",value:r,variant:"flat",onChange:e=>a(e.target.value),endContent:(0,n.jsx)("button",{className:"focus:outline-none",type:"submit",children:(0,n.jsx)(t0.Z,{className:"text-black/50 h-[1em] dark:text-white/90 text-slate-400 flex-shrink-0"})})})}),x.length>1&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E.q,{x:2}),(0,n.jsxs)(p.g,{variant:"flat",children:[(0,n.jsx)(v.e,{content:"Total ".concat(x.length,", current ").concat(c+1),showArrow:!0,color:"foreground",children:(0,n.jsx)(d.A,{isIconOnly:!0,onPress:()=>u(e=>(e-1+x.length)%x.length),isDisabled:0===c,children:(0,n.jsx)(y.Z,{className:"w-[1.2em]"})})}),(0,n.jsx)(v.e,{content:"Total ".concat(x.length,", current ").concat(c+1),showArrow:!0,color:"foreground",children:(0,n.jsx)(d.A,{isIconOnly:!0,onPress:()=>u(e=>(e+1)%x.length),isDisabled:c===x.length-1,children:(0,n.jsx)(t1.Z,{className:"w-[1.2em]"})})})]})]})]})});t5.displayName="TreeViewSearch";let t7=tv.k.getActions().onChange,t6=eI.W.getActions().toggleEnable,t9=(0,i.memo)(e=>{let{handle:t}=e,{isOpen:l,onOpen:s,onClose:r,onOpenChange:a}=(0,h.q)(),{theme:i,setTheme:o}=(0,t$.F)(),{mode:u,toggleMode:x}=c(),{clearHMR:j}=M.m.getActions(),{clearTrigger:g}=T.P.getActions(),{clearMessage:w}=Z.R.getActions(),{state:y,setEnableHover:N,setEnableUpdate:b,toggleEnableRetrigger:S,setEnableEdit:A}=(0,m.Z)(),{state:C,setUISize:z}=(0,tX.Z)(),R=(0,eI.W)(e=>e.enable),{state:F,cb:I}=(0,tJ.$)(e=>({state:e.state,cb:e.cb})),O=(0,tv.k)(e=>e.filter);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"fixed top-3 right-3 z-10 flex",children:[(0,n.jsx)(t5,{handle:t}),(0,n.jsx)(E.q,{x:2}),(0,n.jsxs)(p.g,{variant:"flat",children:[(0,n.jsx)(v.e,{content:(0,n.jsx)("p",{className:F?"text-green-400":"text-red-400",children:F?"DevTool Connect":"DevTool DisConnect"}),showArrow:!0,children:(0,n.jsx)(d.A,{isIconOnly:!0,onPress:()=>null==I?void 0:I(),disabled:F,children:F?(0,n.jsx)(tU.Z,{className:"text-green-500 w-[1.2em]"}):(0,n.jsx)(tL.Z,{className:" text-red-500 w-[1.2em]"})})}),(0,n.jsx)(d.A,{isIconOnly:!0,onPress:()=>o("dark"===i?"light":"dark"),children:"dark"===i?(0,n.jsx)(tq.Z,{className:"text-gray-500 w-[1.2em]"}):(0,n.jsx)(tV.Z,{className:"text-orange-500 w-[1.2em]"})}),(0,n.jsx)(v.e,{content:"Detail mode",showArrow:!0,color:"foreground",children:(0,n.jsx)(d.A,{isIconOnly:!0,onPress:x,children:"node"===u?(0,n.jsx)(tD.Z,{className:"text-blue-600 w-[1.2em]"}):(0,n.jsx)(tK.Z,{className:"text-yellow-600 w-[1.2em]"})})}),(0,n.jsx)(v.e,{content:"Setting",showArrow:!0,color:"foreground",children:(0,n.jsx)(d.A,{isIconOnly:!0,onPress:s,children:(0,n.jsx)(tG.Z,{className:l?"text-green-500 w-[1.2em]":"text-gray-500 w-[1.2em]"})})})]})]}),(0,n.jsx)(et.R,{isOpen:l,backdrop:"blur",size:"2xl",onClose:r,onOpenChange:a,placement:"top",children:(0,n.jsxs)(el.A,{children:[(0,n.jsx)(en.k,{children:(0,n.jsxs)("h3",{className:"font-lg",children:["Setting - ",(0,n.jsx)(tI.z,{children:"@my-react/devtool"})]})}),(0,n.jsxs)(es.I,{children:[(0,n.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,n.jsxs)("p",{className:"whitespace-nowrap flex items-center text-foreground-500",children:[(0,n.jsx)(tW.Z,{className:"w-[1.2em] mr-2"}),"Filter Node:"]}),(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)(tO.g,{selectionMode:"multiple",placeholder:"Select a Type",variant:"bordered",selectedKeys:O,"aria-label":"Filter Node",className:"flex items-center",onChange:e=>{t7(new Set(e.target.value.split(",")))},children:k.typeKeys.map(e=>(0,n.jsx)(tZ.R,{children:(0,k.getTypeName)(e)},e))})})]}),(0,n.jsx)(f.j,{}),(0,n.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,n.jsxs)("p",{className:"whitespace-nowrap flex items-center text-foreground-500",children:[(0,n.jsx)(tH.Z,{className:"w-[1.2em] mr-2"}),"UI Size:"]}),(0,n.jsxs)(tM.X,{value:C,onValueChange:e=>z(e),orientation:"horizontal",classNames:{wrapper:"gap-x-6"},children:[(0,n.jsx)(tP.J,{value:tX.E.sm,children:"Small Size"}),(0,n.jsx)(tP.J,{value:tX.E.md,children:"Medium Size"}),(0,n.jsx)(tP.J,{value:tX.E.lg,children:"Large Size"})]})]}),(0,n.jsx)(f.j,{}),(0,n.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,n.jsxs)("p",{className:"whitespace-nowrap flex items-center  text-foreground-500",children:[(0,n.jsx)(tB.Z,{className:"w-[1.2em] mr-2"}),"Config:"]}),(0,n.jsx)(t_.K,{isSelected:y.enableUpdate,radius:"full",onValueChange:b,color:"primary",children:"Highlight Update"}),(0,n.jsx)(t_.K,{isSelected:y.enableHover,radius:"full",onValueChange:N,color:"secondary",children:"Hover Overlay"}),(0,n.jsx)(t_.K,{isSelected:y.enableRetrigger,radius:"full",onValueChange:S,color:"warning",children:"Retrigger Status"}),(0,n.jsx)(t_.K,{isSelected:R,radius:"full",onValueChange:t6,color:"default",children:"Extend Node Detail"}),(0,n.jsx)(t_.K,{isSelected:y.enableEdit,radius:"full",onValueChange:A,color:"success",children:"Edit Update"})]}),(0,n.jsx)(f.j,{}),(0,n.jsxs)("div",{className:"flex gap-x-2",children:[(0,n.jsx)(d.A,{size:"sm",color:"default",variant:"bordered",onPress:j,children:"Clear All HMR"}),(0,n.jsx)(d.A,{size:"sm",color:"default",variant:"bordered",onPress:g,children:"Clear All Trigger"}),(0,n.jsx)(d.A,{size:"sm",color:"default",variant:"bordered",onPress:w,children:"Clear All Message"})]})]}),(0,n.jsx)(E.q,{y:4})]}),(0,n.jsx)(tT.R,{children:(0,n.jsx)(d.A,{onPress:r,children:"Close"})})]})})]})});t9.displayName="TreeViewSetting";let t3=(0,k.debounce)((e,t,l)=>{let n=Array.from(e.querySelectorAll("[data-depth]")),s=e.clientWidth,r=t.current||12;for(let e of(s>l.current&&(r=12),l.current=s,n)){var a;let t=parseInt(e.getAttribute("data-depth")||"0",10)||0;0!==t&&(r=Math.min(r,Math.max(0,s-((null===(a=e.querySelector("[data-content]"))||void 0===a?void 0:a.clientWidth)||0)-6)/t))}t.current=r,e.style.setProperty("--indentation-size","".concat(r,"px")),e.style.setProperty("--width-size","".concat(s,"px")),e.style.opacity="1"},16),t8=(0,i.memo)(e=>{let{onScroll:t,data:l,onMount:s}=e,r=(0,i.useRef)(null),[a,o]=(0,i.useState)(0),c=(0,i.useRef)(!1),d=(0,i.useRef)(l);return d.current=l,(0,i.useEffect)(()=>{let e=()=>{var e,l;let n=F.U.getReadonlyState().select;if(null==n)return;let s=null===(e=d.current)||void 0===e?void 0:e.findIndex(e=>e.i===n);-1!==s&&(c.current?null===(l=r.current)||void 0===l||l.scrollIntoView({index:s,align:"center",done:t}):(c.current=!0,o(s)))},n=F.U.subscribe(e=>e.scroll,e);return l.length&&e(),n},[t,l.length]),(0,i.useEffect)(()=>{let e=setTimeout(()=>c.current=!0,1e3);return()=>clearTimeout(e)},[]),(0,i.useEffect)(()=>(s(r.current),()=>s()),[s,a]),(0,n.jsx)(tR.OO,{className:"font-code font-sm overflow-x-hidden",ref:r,increaseViewportBy:300,onScroll:t,initialTopMostItemIndex:{index:a,align:"center"},totalCount:l.length,itemContent:(e,t)=>{let s=l[e];return s?(0,n.jsx)(B,{node:s}):null}},a)});t8.displayName="TreeViewImpl";let le=(0,i.memo)(()=>{let e=(0,i.useRef)(null),t=tp.p.useShallowStableSelector(e=>e.list),{width:l,height:s}=z({ref:e}),[r,a]=(0,i.useState)(),o=(0,i.useRef)(12),c=(0,i.useRef)(l);tF();let d=(0,i.useCallback)(()=>{e.current&&t3(e.current,o,c)},[]);return(0,i.useEffect)(()=>{d()},[d,l,s,t.length]),(0,n.jsx)("div",{className:"tree-view h-full p-1",children:(0,n.jsxs)("div",{className:"group h-full transform-gpu",ref:e,style:{opacity:0},children:[(0,n.jsx)(tE,{}),t.length>0&&(0,n.jsx)(t8,{onScroll:d,data:t,onMount:a}),(0,n.jsx)(t9,{handle:r})]})})});function lt(){let e=(0,tJ.$)(e=>e.error);return(0,i.useEffect)(()=>{e&&(0,s.fz)({severity:"danger",description:e,title:"error",color:"danger"})},[e]),(0,n.jsxs)("main",{className:"flex p-1 h-screen",children:[(0,n.jsx)(a(),{children:(0,n.jsx)("title",{children:"@my-react devtools"})}),(0,n.jsx)(tz,{left:(0,n.jsx)(le,{}),right:(0,n.jsx)(tk,{})})]})}le.displayName="TreeView"}},function(e){e.O(0,[3039,9680,3385,2888,9774,179],function(){return e(e.s=48609)}),_N_E=e.O()}]);