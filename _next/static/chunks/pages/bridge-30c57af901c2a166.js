(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7869],{38713:function(e,o,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bridge",function(){return n(3583)}])},3583:function(e,o,n){"use strict";n.r(o),n.d(o,{default:function(){return c}});var t=n(10715),l=n(25567),d=n(89589),i=n(80683);let s=null,r=e=>{var o;null===(o=window.top)||void 0===o||o.postMessage({from:i.Dp,...e,source:t.DevToolSource},"*")},u=e=>{null==s||s.postMessage({...e,source:t.DevToolSource})},a=()=>{let{query:e}=(0,l.useRouter)();(0,d.useEffect)(()=>{if(window!==window.top&&window.top&&(null==e?void 0:e.token)){s=new BroadcastChannel("@my-react-"+(null==e?void 0:e.token));let o=e=>{var o;console.log("[Dev mode] bridge message to bridge",e.data),(null===(o=e.data)||void 0===o?void 0:o.source)===t.DevToolSource&&u(e.data)},n=e=>{var o;console.log("[Dev mode] bridge message to app",e.data),(null===(o=e.data)||void 0===o?void 0:o.source)===i.oo&&r(e.data)},l=()=>{console.log("[Dev mode] bridge disconnect"),window.removeEventListener("message",o),null==s||s.removeEventListener("message",n),null==s||s.close()};return console.log("[Dev mode] bridge connect"),window.addEventListener("message",o),null==s||s.addEventListener("message",n),r({type:"bridge-init"}),u({type:"bridge-init"}),()=>{l()}}},[null==e?void 0:e.token])};function c(){return a(),null}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=38713)}),_N_E=e.O()}]);