(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2374],{16010:function(e,l,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/devTool",function(){return n(31153)}])},31153:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return np}});var t=n(51202),s=n(83147),r=n(19681),i=n.n(r),a=n(93723),o=n(53791);let c=(0,o.eK)(()=>({mode:"node"}),{withActions:e=>({setMode:l=>{e.mode=l},toggleMode:()=>{e.mode="node"===e.mode?"flameGraph":"node"}}),withPersist:"useDetailMode",withDeepSelector:!1,withStableSelector:!0});var d=n(81835),u=n(67396),m=n(10708),h=n(84816),x=n(74865);let v=()=>{let[e,l]=(0,a.useState)(0),{isOpen:n,onOpen:t,onClose:s}=(0,x.q)();return(0,a.useEffect)(()=>{if(!n)return;let e=setInterval(()=>l(e=>e+1),1e3);return()=>clearInterval(e)},[n]),{count:e,onStart:t,onStop:(0,a.useCallback)(()=>{s(),l(0)},[s])}};var j=n(46629),p=n(99114),f=n(19222),g=n(72099),w=n(13122),y=n(1694),N=n(35292),b=n(54275),k=n(10715);let A=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,[n,t]=(0,a.useState)(e);return[n,(0,a.useMemo)(()=>(0,k.debounce)(t,l),[l])]},S=[],C={width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0};function F(e){let{ref:l,cssSelector:n,getEle:t,deps:s}=e,r=(0,a.useRef)(t);r.current=t;let[i,o]=A(C,100);return(0,b.L)(()=>{var e;let t=l?l.current:n?document.querySelector(n):(null===(e=r.current)||void 0===e?void 0:e.call(r))||null;if(t){if(window.ResizeObserver){let e=new ResizeObserver(()=>{o(t.getBoundingClientRect())});return e.observe(t),()=>e.disconnect()}{let e=()=>o(t.getBoundingClientRect());return e(),window.addEventListener("resize",e,{passive:!0}),()=>window.removeEventListener("resize",e)}}},[l,n,o,...s||S]),i}var z=n(34272),E=n(6011),I=n(34418),R=n(82346),O=n(20040),_=n(61892),Z=n(66492),M=n(10470),P=n(71473),T=n(43965);let{setSelect:L,setClose:q,setHover:U}=E.U.getActions(),D=(0,a.memo)(e=>{let{node:l}=e,n=(0,k.getFiberTag)(l);return(null==n?void 0:n.length)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.q,{x:1}),(0,t.jsx)("div",{className:"gap-x-[2px] flex items-center",children:n.map(e=>(0,t.jsx)(R.z,{size:"sm",color:e.includes("compiler")?"primary":void 0,radius:"none",className:"rounded-md capitalize text-[8px] h-[14px]",children:e},e))})]}):null});D.displayName="RenderTag";let G=(0,a.memo)(e=>{let{node:l}=e,n=(0,M.i)((0,a.useCallback)(e=>{var n;return null===(n=e.map)||void 0===n?void 0:n[l.k]},[l.k]));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.q,{x:1}),(0,t.jsxs)("div",{"data-key":!0,className:"flex items-center gap-x-[1px] text-[11px]",children:[(0,t.jsx)("div",{className:" text-[#40af2c]",children:"key"}),(0,t.jsx)("div",{className:" text-gray-400",children:"="}),(0,t.jsxs)("div",{className:"flex",children:['"',(0,t.jsx)(p.e,{content:(0,t.jsx)("div",{className:"max-w-[300px] max-h-[400px] overflow-y-auto whitespace-pre-wrap break-words",children:n}),delay:800,showArrow:!0,color:"foreground",children:(0,t.jsx)("div",{className:"text-gray-600 max-w-[200px] text-ellipsis overflow-hidden whitespace-nowrap",children:n})}),'"']})]})]})});G.displayName="RenderKey";let V=(0,a.memo)(e=>{let{node:l}=e,n=(0,T.P)((0,a.useCallback)(e=>{var n;return null===(n=e.state)||void 0===n?void 0:n[l.i]},[l.i]));return n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.q,{x:1}),(0,t.jsx)(p.e,{content:"trigger update",showArrow:!0,color:"primary",children:(0,t.jsx)(R.z,{size:"sm",radius:"none",color:"primary",className:"rounded-md capitalize text-[8px] h-[14px]",children:n})})]}):null});V.displayName="RenderTrigger";let K=(0,a.memo)(e=>{let{node:l}=e,n=(0,Z.m)((0,a.useCallback)(e=>{var n;return null===(n=e.state)||void 0===n?void 0:n[l.i]},[l.i]));return n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.q,{x:1}),(0,t.jsx)(p.e,{content:"hmr update",showArrow:!0,color:"success",children:(0,t.jsx)(R.z,{size:"sm",radius:"none",color:"success",className:"rounded-md capitalize text-[8px] h-[14px]",children:n})})]}):null});K.displayName="RenderHMR";let W=(0,a.memo)(e=>{let{node:l}=e,n=(0,P.L)((0,a.useCallback)(e=>{var n;return null===(n=e.state)||void 0===n?void 0:n[l.i]},[l.i]));return n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.q,{x:1}),(0,t.jsx)(p.e,{content:"running count",showArrow:!0,color:"secondary",children:(0,t.jsx)(R.z,{size:"sm",radius:"none",color:"secondary",className:"rounded-md capitalize text-[8px] h-[14px]",children:n})})]}):null});W.displayName="RenderRunningCount";let $=(0,a.memo)(e=>{let{node:l}=e,n=(0,_.R)((0,a.useCallback)(e=>{var n;return null===(n=e.state)||void 0===n?void 0:n[l.i]},[l.i]));return n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.q,{x:1}),(0,t.jsx)(R.z,{size:"sm",radius:"none",color:"warning",className:"rounded-md capitalize text-[8px] h-[14px]",children:n})]}):null});$.displayName="RenderHighlightType";let H=(0,a.memo)(e=>{let{node:l,className:n,withKey:s=!0,withTag:r=!0,withHMR:i=!0,withSelect:o=!0,withTrigger:c=!0,withCollapse:d=!0,withRunningCount:u=!1,withHighlightType:m=!0}=e,{error:h,warn:x}=_.R.useShallowSelector(e=>{var n,t;return{error:null===(n=e.error)||void 0===n?void 0:n[l.i],warn:null===(t=e.warn)||void 0===t?void 0:t[l.i]}},(e,l)=>e.error===l.error&&e.warn===l.warn),v=(0,M.i)((0,a.useCallback)(e=>e.map[l.n],[l.n])),{select:j,hasClose:f,hasSelect:g}=E.U.useShallowSelector(e=>{var n,t;return{select:e.select,hasClose:null===(n=e.closeList)||void 0===n?void 0:n[null==l?void 0:l.i],hasSelect:null===(t=e.selectList)||void 0===t?void 0:t[null==l?void 0:l.i]}},(e,l)=>e.select===l.select&&e.hasClose===l.hasClose&&e.hasSelect===l.hasSelect),w=o&&l.i===j,y=d&&f,N=(0,a.useMemo)(()=>o&&j&&!w&&g,[o,j,w,g]),b=Array.isArray(null==l?void 0:l.c),k=b?(0,t.jsx)(O.Z,{fill:"currentColor",className:"origin-center ".concat(y?"":"rotate-90"),width:"0.7em",height:"0.7em"}):null,A=l._d||0;return(0,t.jsx)("div",{id:"node-"+l.i.toString(),"data-depth":A,onClick:()=>{o&&L(l.i)},onMouseEnter:()=>{o&&U(l.i)},onMouseLeave:()=>{o&&U("")},className:"node-item w-full h-full cursor-pointer transition-transform-background rounded-sm select-none "+(n||"")+"".concat(o?N?" node-item-select-hover":" node-item-hover":"")+"".concat(N?" node-item-select":"")+"".concat(w?" node-item-selected":""),children:(0,t.jsxs)("div",{className:"flex items-center h-full w-full px-[2px] relative",children:[w&&(0,t.jsx)("div",{className:"absolute top-0 left-[1px] h-full border-l-2 border-blue-400 rounded-sm pointer-events-none"}),(0,t.jsx)("div",{className:"flex-grow",style:{transform:"translateX(calc(".concat(A," * var(--indentation-size))")},children:(0,t.jsxs)("div",{"data-content":!0,className:"flex items-center w-fit",children:[d&&(0,t.jsx)("span",{className:"text-gray-400 w-[1em]"+(b?" hover:text-gray-700":""),onClick:e=>{e.stopPropagation(),q(l.i)},children:b&&(0,t.jsx)(p.e,{content:y?"Toggle to open":"Toggle to close",delay:800,showArrow:!0,color:"foreground",children:k})}),(0,t.jsx)("p",{className:"node-name line-clamp-1",children:v}),r&&(0,t.jsx)(D,{node:l}),c&&(0,t.jsx)(V,{node:l}),i&&(0,t.jsx)(K,{node:l}),u&&(0,t.jsx)(W,{node:l}),m&&(0,t.jsx)($,{node:l}),x&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.q,{x:1}),(0,t.jsx)(R.z,{size:"sm",radius:"none",color:"warning",className:"rounded-md capitalize text-[8px] h-[14px]",children:x})]}),h&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.q,{x:1}),(0,t.jsx)(R.z,{size:"sm",radius:"none",color:"danger",className:"rounded-md capitalize text-[8px] h-[14px]",children:h})]}),s&&l.k&&(0,t.jsx)(G,{node:l})]})})]})})});H.displayName="TreeItem";let B=e=>{let{i:l,n,className:s,withKey:r=!0,withTag:i=!0,withHMR:a=!0,withSelect:o=!0,withTrigger:c=!0,withCollapse:d=!0,withFallback:u=!1}=e,m=(0,z.K)(e=>e.nodes),h=(0,M.i)(e=>e.map),x=m.find(e=>e.i===l);return x?(0,t.jsx)(H,{node:x,className:s,withCollapse:d,withTrigger:c,withSelect:o,withHMR:a,withTag:i,withKey:r}):u?(0,t.jsx)("div",{className:"node-item w-full h-full cursor-pointer transition-transform-background rounded-sm select-none",children:(0,t.jsx)("div",{className:"node-name line-clamp-1",children:h[n]})}):null},J=(0,a.memo)(()=>{let e=(0,E.U)(e=>e.select),l=(0,z.K)(e=>e.nodes).find(l=>l.i===e);return l?(0,t.jsx)(H,{node:l,withCollapse:!1,withSelect:!1,withKey:!1}):(0,t.jsx)("div",{className:"opacity-0",children:"1"})});J.displayName="FlameGraphName";var X=n(71606),Y=n(71089);let Q=e=>{let{parent:l,previous:n,current:s,isRoot:r,isSelect:i,isLegacy:o,isConCurrent:c,rootStack:d}=e,{setHover:u,setSelect:m}=E.U.getActions(),{setSelect:x,setRoot:v}=h.C.getActions(),j=(0,a.useMemo)(()=>M.i.getReadonlyState().map[s.n],[s.n]),p=(0,a.useMemo)(()=>Y.J.getReadonlyState().state[s.i],[s.i]),f=Math.floor(s.e-s.s),g=Math.floor(n?s.s-n.e:l?s.s-l.s:0);return g=0===f?g-1:g,f=0===f?1:f,(0,t.jsxs)(t.Fragment,{children:[!!(n||l)&&(0,t.jsx)("div",{className:"flameGraph-gap",style:{width:r?"1px":"calc(calc(var(--flameGraph-width-step)*".concat(g,"))"),height:"var(--flameGraph-height-step)"}}),(0,t.jsxs)("div",{className:"flameGraph-node-container cursor-pointer ".concat(r&&i&&'relative after:content-[""] after:absolute after:top-0 after:left-0 after:w-full after:h-full after:border-2 after:border-blue-400 after:rounded-sm after:pointer-events-none'),style:{width:"calc(calc(var(--flameGraph-width-step)*".concat(f,"))")},onMouseEnter:()=>{u(s.i)},onMouseLeave:()=>{u("")},children:[(0,t.jsxs)("div",{"data-id":"flameGraph-node-".concat(s.i),onClick:()=>{m(s.i),v(d)},onDoubleClick:()=>{m(s.i),x(s),v(d)},title:"".concat(j).concat(s.r?" +".concat(s.r):"").concat(o?" | Legacy update":"").concat(c?" | Concurrent update":""," | Duration: ").concat(Math.ceil(s.e-s.s)/1e3," ms"),className:"flameGraph-node-view py-0.5 rounded-sm opacity-50 hover:opacity-100 shadow-[inset_0_0_0_1px_rgb(142,192,254)] dark:shadow-[inset_0_0_0_1px_rgb(52,80,164)] line-clamp-1 font-ssm bg-blue-200 dark:bg-blue-950 ".concat(o?"bg-orange-200 dark:bg-orange-800":""," ").concat(p?"bg-red-200 dark:bg-red-950":""),children:[j,s.r?" +".concat(s.r):""]}),(0,t.jsx)("div",{className:"flex",children:s.c&&s.c.length>0&&s.c.map((e,l)=>{if(!e||!e.e)return;let n=l>0?s.c[l-1]:void 0;return(0,t.jsx)(Q,{parent:s,previous:n,current:e,isLegacy:o,rootStack:d},e.i)})})]})]})},ee=(0,a.memo)(e=>{let{list:l,item:n}=e,s=l.find(e=>e.stack===n),r=(0,X.IU)((0,h.C)(e=>e.root));return n?(0,t.jsx)(Q,{isRoot:!0,parent:void 0,previous:void 0,current:n,isLegacy:s&&"legacy"===s.mode,isConCurrent:s&&"concurrent"===s.mode}):(0,t.jsx)(t.Fragment,{children:l.map((e,n)=>{let s=n>0?l[n-1]:void 0,i=r&&r===(0,X.IU)(e);return(0,t.jsx)(Q,{isRoot:!0,parent:void 0,isSelect:i,isLegacy:"legacy"===e.mode,isConCurrent:"concurrent"===e.mode,previous:s?s.stack:void 0,current:e.stack,rootStack:e},n)})})});ee.displayName="FlameGraphNodeRender";var el=n(55619),en=n(4660),et=n(65370),es=n(31387),er=n(64001),ei=n(61806),ea=n(97082),eo=n(50420),ec=n(57420),ed=n(9840),eu=n(62322),em=n(50042),eh=n(23895);let ex=(e,l)=>{let n=(0,a.useRef)(e);return(0,a.useEffect)(()=>{l(e)&&(n.current=e)},[l,e]),n.current},ev=e=>{let l=null==e?void 0:e.v,n=null==e?void 0:e.t;if("Element"===n)return(0,a.createElement)("span",{className:"text-teal-600"},l);if("Date"===n||"Boolean"===n||"Error"===n||"Number"===n||"Symbol"===n)return l;if(null==e?void 0:e.n)return e.n;if((null==e?void 0:e.l)===!1)return"Array"===e.t||"Set"===e.t?"[…]":"Map"===e.t||"Object"===e.t?"{…}":"…";if(null!==l&&"object"==typeof l&&!Array.isArray(l)&&"function"==typeof l[window.Symbol.iterator])return"(…)";if(Array.isArray(l))return l.length>0?"[…]":"[]";if("Null"===n)return"null";if("Undefined"===n)return"undef";if("object"==typeof l)return Object.keys(l).length>0?"{…}":"{}";if("Function"===n)return(0,a.createElement)("span",{className:"text-teal-600"},"".concat(l.substr(0,10)+(l.length>10?"…":"")));if("string"!=typeof l)return l;else return"String"===n?'"'.concat(l.substr(0,10)+(l.length>10?"…":""),'"'):"".concat(l.substr(0,10)+(l.length>10?"…":""))};function ej(e,l){var n,t,s,r,i,o;let c=!0;if("Object"===e){let e=[],r=Object.keys(l);return(null==r||null===(s=r.slice)||void 0===s||null===(t=s.call(r,0,3))||void 0===t||null===(n=t.forEach)||void 0===n||n.call(t,n=>{let t=ev(l[n]);(0,a.isValidElement)(t)?(c=!1,e.push((0,a.createElement)(a.Fragment,{key:n},"".concat(n,": "),t))):e.push("".concat(n,": ").concat(t))}),r.length>3&&e.push("…"),c)?e.join(", "):e}if("Array"!==e)return e;{let e=[];return(null==l||null===(o=l.slice)||void 0===o||null===(i=o.call(l,0,4))||void 0===i||null===(r=i.forEach)||void 0===r||r.call(i,l=>{let n=ev(l);(0,a.isValidElement)(n)&&(c=!1),e.push(n)}),l.length>4&&e.push("…"),c)?e.join(", "):e}}var ep=n(61277),ef=n(29257),eg=n(14478),ew=n(32630),ey=n(21139),eN=n(45034);let{setUpdateState:eb,clear:ek}=n(58980).y.getActions(),eA=e=>{let{item:l,rootItem:n,parentItem:s,hookIndex:r,path:i,type:o,chunkId:c,children:u}=e,[m,h]=(0,a.useState)(""),[v,j]=(0,a.useState)(0),p=(0,a.useRef)(null),{isOpen:g,onClose:w,onOpenChange:y}=(0,x.q)();return(0,a.useEffect)(()=>{if(g){var e;h(String(l.v)),j((null===(e=p.current)||void 0===e?void 0:e.offsetWidth)||0)}},[g,l.v]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"cursor-pointer",children:["✨ ",u]}),(0,t.jsxs)(ep.j,{placement:"bottom",isOpen:g,backdrop:"opaque",triggerScaleOnOpen:!1,onOpenChange:y,children:[(0,t.jsx)(ef.b,{children:(0,t.jsx)("div",{ref:p,className:"absolute w-full h-full left-0 top-0 cursor-pointer"})}),(0,t.jsx)(eg.g,{children:(0,t.jsxs)("div",{className:"p-2 min-w-[200px]",style:{minWidth:null!=v?v:200},children:["Boolean"===l.t&&(0,t.jsx)(ew.i,{size:"sm",isSelected:"true"===m,onValueChange:()=>h("true"===m?"false":"true")}),"Number"===l.t&&(0,t.jsx)(ey.i,{variant:"bordered",disableAnimation:!0,size:"sm",value:+m,onValueChange:e=>h(e.toString())}),"String"===l.t&&(0,t.jsx)(eN.Y,{classNames:{input:"resize-y min-h-[40px]"},className:"font-code",variant:"bordered",disableAnimation:!0,disableAutosize:!0,size:"sm",value:m,onValueChange:e=>h(e)}),(0,t.jsx)(f.j,{className:"my-3"}),(0,t.jsxs)("div",{className:"flex justify-end",children:[(0,t.jsx)(d.A,{size:"sm",color:"danger",onPress:w,children:"Cancel"}),(0,t.jsx)(d.A,{size:"sm",className:"ml-2",color:"primary",onPress:()=>{m!==l.v&&(eb({id:l.i,rootId:null==n?void 0:n.i,parentId:null==s?void 0:s.i,oldVal:l.v,newVal:m,hookIndex:r,path:i,type:o}),w(),setTimeout(()=>{c&&em.F.getActions().setLoading(c),ek()},60))},children:"Confirm"})]})]})})]})]})},{open:eS,setId:eC,setType:eF,setSource:ez,clear:eE}=eh.a.getActions(),eI=e=>{var l,n,s,r;let{name:i,item:o,rootItem:c,parentItem:d,prefix:u,editable:m,hookIndex:h,type:x,chunkId:v}=e,[j,p]=(0,a.useState)(!1),f=(0,a.useRef)(!1),g=em.F.useShallowSelector(e=>{var l,n;return null===(n=e.data)||void 0===n?void 0:null===(l=n[(null==o?void 0:o.i)||""])||void 0===l?void 0:l.loaded}),w=null!==(l=null==o?void 0:o.v)&&void 0!==l?l:null==g?void 0:g.v,y=ex(w,e=>!!e),N=null!=w?w:y,b=null!==(n=null==g?void 0:g.n)&&void 0!==n?n:null==o?void 0:o.n,k=null!==(s=null==g?void 0:g.t)&&void 0!==s?s:null==o?void 0:o.t,A=null!==(r=null==g?void 0:g._t)&&void 0!==r?r:null==o?void 0:o._t,S=(0,a.useMemo)(()=>{let e=()=>{if(b)return b;if("Array"===k||"Set"===k||"Map"===k){let e=ej("Array",null!=N?N:[]);return"Set"===k||"Map"===k?Array.isArray(e)?(0,t.jsxs)(t.Fragment,{children:[k,"([",e.map((l,n)=>(0,t.jsxs)(a.Fragment,{children:[l,n<e.length-1?", ":""]},n)),"])"]}):"".concat(k,"([").concat(e,"])"):Array.isArray(e)?(0,t.jsxs)(t.Fragment,{children:["[",e.map((l,n)=>(0,t.jsxs)(a.Fragment,{children:[l,n<e.length-1?", ":""]},n)),"]"]}):"[".concat(e,"]")}if("Iterable"===k||"Object"===k||"Object"===A){let e=ej("Object",null!=N?N:{});return Array.isArray(e)?(0,t.jsxs)(t.Fragment,{children:["{",e.map((l,n)=>(0,t.jsxs)(a.Fragment,{children:[l,n<e.length-1?", ":""]},n)),"}"]}):"{".concat(e,"}")}};return A&&!b?"Object"===A?(0,t.jsxs)(t.Fragment,{children:["[object ",k," ",e(),"]"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"pr-1",title:"reactivity-store, see https://github.com/MrWangJustToDo/reactivity-store",children:["Readonly"===A?(0,t.jsx)(ec.Z,{className:"text-red-400 inline",width:"1em",height:"1em"}):(0,t.jsx)(ed.Z,{className:"text-green-400 inline",width:"1em",height:"1em"})," ",A]}),e()]}):e()},[k,b,N,A]);(0,a.useEffect)(()=>{j&&(null==o?void 0:o.l)===!1&&o.i&&(!g||g.i!==o.i)&&em.F.getActions().setLoading(o.i),j&&(f.current=!0)},[g,j,null==o?void 0:o.i,null==o?void 0:o.l]),(0,a.useEffect)(()=>{j&&w&&(Array.isArray(w)?w.forEach(e=>{var l,n;!e||!e.e||!e.i||e.l||(null===(n=em.F.getReadonlyState().data)||void 0===n?void 0:null===(l=n[e.i])||void 0===l?void 0:l.loaded)||em.F.getActions().setLoading(e.i)}):Object.values(w).forEach(e=>{var l,n;!e||!e.e||!e.i||e.l||(null===(n=em.F.getReadonlyState().data)||void 0===n?void 0:null===(l=n[e.i])||void 0===l?void 0:l.loaded)||em.F.getActions().setLoading(e.i)}))},[w,j]);let C=e=>{N&&o&&(e.preventDefault(),eS({x:e.clientX,y:e.clientY}),eC(o.i),eF(o.t))};if(!o)return null;let F=!1===o.l,z=(null==g?void 0:g.i)||o.i,E=o.e,I=(0,t.jsx)(O.Z,{fill:"currentColor",className:"origin-center ".concat(j?"rotate-90":""),width:"0.6em",height:"0.6em"});if(E)return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{"data-id":z,"data-chunk":F,className:"hook-value-view",children:[(0,t.jsxs)("div",{className:"flex w-full my-0.5 items-center",children:[(0,t.jsx)("span",{className:"text-gray-400 w-[1.5em] h-[1.5em] cursor-pointer inline-flex justify-center items-center hover:text-gray-700 shrink-0",onClick:()=>p(!j),children:I}),u,(0,t.jsxs)("div",{className:"max-w-full flex line-clamp-1 break-all",children:[(0,t.jsx)("span",{className:"flex-shrink-0 cursor-pointer select-none whitespace-nowrap",onClick:()=>p(!j),onContextMenu:C,children:i}),(0,t.jsx)("span",{className:"flex-shrink-0 pr-1",children:":"}),(0,t.jsx)("span",{className:"hook-value-placeholder line-clamp-1 break-all",children:N?S:(0,t.jsx)(eu.Z,{className:"inline-block font-sm",width:"1em",height:"1em"})})]})]}),(f.current||j)&&(0,t.jsx)("div",{className:"".concat(j?"block":"hidden"," ml-6 my-0.5"),children:N?Array.isArray(N)?(0,t.jsx)(t.Fragment,{children:N.map((e,l)=>(0,t.jsx)(eI,{name:l.toString(),item:e,type:x,rootItem:c||o,editable:m&&"Readonly"!==A&&"string"!=typeof b,chunkId:F?z:v,parentItem:o,hookIndex:h},l))}):(0,t.jsx)(t.Fragment,{children:Object.keys(N).sort().reverse().map(e=>(0,t.jsx)(eI,{name:e,item:N[e],type:x,rootItem:c||o,parentItem:o,editable:m&&"Readonly"!==A&&"string"!=typeof b,chunkId:F?z:v,hookIndex:h},e))}):(0,t.jsx)(eo.c,{size:"sm"})})]})});{let e="String"===o.t?'"'.concat(String(o.v),'"'):String(o.v),l="ReadError"===o.t,n="Element"===o.t,s="Function"===o.t||"AsyncFunction"===o.t||"GeneratorFunction"===o.t,r=(0,t.jsx)("span",{className:"hook-".concat(o.t," pl-1 ").concat(l?"text-red-300":""," ").concat(n||s?"text-teal-600":""),children:e}),a=m&&"Readonly"!==o._t&&((null==o?void 0:o.t)==="String"||(null==o?void 0:o.t)==="Number"||(null==o?void 0:o.t)==="Boolean");return(0,t.jsx)("div",{"data-id":z,"data-chunk":F,className:"hook-value-view",children:(0,t.jsxs)("div",{className:"flex w-full my-0.5 items-center",children:[(0,t.jsx)("span",{className:"text-transparent w-[1.5em] h-[1.5em] inline-block shrink-0",children:I}),u,(0,t.jsxs)("div",{className:"w-full relative flex pr-2 line-clamp-1 break-all",children:[(0,t.jsx)("span",{className:"flex-shrink-0 cursor-pointer select-none whitespace-nowrap",onContextMenu:C,children:i}),(0,t.jsx)("span",{className:"flex-shrink-0",children:":"}),a?(0,t.jsx)("span",{className:"hook-value-placeholder relative line-clamp-1 break-all",title:e,children:(0,t.jsx)(eA,{item:o,chunkId:v,hookIndex:h,path:i,type:x||"",rootItem:c,parentItem:d,children:r})}):(0,t.jsx)("span",{className:"hook-value-placeholder flex-grow line-clamp-1 break-all"+(s||n?" cursor-pointer node-item-hover rounded-[2px] overflow-hidden":""),onClick:async()=>{(s||n)&&(eC(z),ez(),await new Promise(e=>setTimeout(e,100)),eE())},title:e,children:r})]})]})})}};var eR=n(22266);let eO=(0,o.eK)(()=>({expand:{},lIds:{},rIds:{}}),{withActions:e=>({toggleExpand:l=>{e.expand[l]=!e.expand[l]},setLId:(l,n)=>{e.lIds[l]=n},setRId:(l,n)=>{e.rIds[l]=n},reset:()=>{e.expand={},e.lIds={},e.rIds={}}}),withDeepSelector:!1,withStableSelector:!0}),{open:e_,setId:eZ,setType:eM,setSource:eP,clear:eT}=eh.a.getActions(),{toggleExpand:eL,setLId:eq,setRId:eU}=eO.getActions(),eD=e=>{var l,n,s,r;let{prevName:i,name:o,item:c,side:d,prefix:u,chunkId:m}=e,h=i+"_$_$_"+o,{expand:x,lId:v,rId:j}=eO.useShallowSelector(e=>({expand:e.expand[h],lId:e.lIds[h],rId:e.rIds[h]})),p=(0,a.useRef)(!1),f=em.F.useShallowSelector(e=>{var l,n;return null===(n=e.data)||void 0===n?void 0:null===(l=n[(null==c?void 0:c.i)||""])||void 0===l?void 0:l.loaded}),g=null!==(l=null==c?void 0:c.v)&&void 0!==l?l:null==f?void 0:f.v,w=ex(g,e=>!!e),y=null!=g?g:w,N=null!==(n=null==f?void 0:f.n)&&void 0!==n?n:null==c?void 0:c.n,b=null!==(s=null==f?void 0:f.t)&&void 0!==s?s:null==c?void 0:c.t,k=null!==(r=null==f?void 0:f._t)&&void 0!==r?r:null==c?void 0:c._t,A=(null==f?void 0:f.i)||(null==c?void 0:c.i),S=(0,a.useMemo)(()=>{let e=()=>{if(N)return N;if("Array"===b||"Set"===b||"Map"===b){let e=ej("Array",null!=y?y:[]);return"Set"===b||"Map"===b?Array.isArray(e)?(0,t.jsxs)(t.Fragment,{children:[b,"([",e.map((l,n)=>(0,t.jsxs)(a.Fragment,{children:[l,n<e.length-1?", ":""]},n)),"])"]}):"".concat(b,"([").concat(e,"])"):Array.isArray(e)?(0,t.jsxs)(t.Fragment,{children:["[",e.map((l,n)=>(0,t.jsxs)(a.Fragment,{children:[l,n<e.length-1?", ":""]},n)),"]"]}):"[".concat(e,"]")}if("Iterable"===b||"Object"===b||"Object"===k){let e=ej("Object",null!=y?y:{});return Array.isArray(e)?(0,t.jsxs)(t.Fragment,{children:["{",e.map((l,n)=>(0,t.jsxs)(a.Fragment,{children:[l,n<e.length-1?", ":""]},n)),"}"]}):"{".concat(e,"}")}};return k&&!N?"Object"===k?(0,t.jsxs)(t.Fragment,{children:["[object ",b," ",e(),"]"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"pr-1",title:"reactivity-store, see https://github.com/MrWangJustToDo/reactivity-store",children:["Readonly"===k?(0,t.jsx)(ec.Z,{className:"text-red-400 inline",width:"1em",height:"1em"}):(0,t.jsx)(ed.Z,{className:"text-green-400 inline",width:"1em",height:"1em"})," ",k]}),e()]}):e()},[b,N,y,k]);(0,a.useEffect)(()=>{x&&(null==c?void 0:c.l)===!1&&c.i&&(!f||f.i!==c.i)&&em.F.getActions().setLoading(c.i),x&&(p.current=!0)},[f,x,null==c?void 0:c.i,null==c?void 0:c.l]),(0,a.useEffect)(()=>{x&&g&&(Array.isArray(g)?g.forEach(e=>{var l,n;!e||!e.e||!e.i||e.l||(null===(n=em.F.getReadonlyState().data)||void 0===n?void 0:null===(l=n[e.i])||void 0===l?void 0:l.loaded)||em.F.getActions().setLoading(e.i)}):Object.values(g).forEach(e=>{var l,n;!e||!e.e||!e.i||e.l||(null===(n=em.F.getReadonlyState().data)||void 0===n?void 0:null===(l=n[e.i])||void 0===l?void 0:l.loaded)||em.F.getActions().setLoading(e.i)}))},[g,x]),(0,a.useEffect)(()=>{"l"===d?eq(h,A||""):eU(h,A||"")},[A,d,h]);let C=e=>{y&&c&&(e.preventDefault(),e_({x:e.clientX,y:e.clientY}),eZ(c.i),eM(c.t))},F=v&&j&&v!==j;if(!c||!A)return null;let z=!1===c.l,E=c.e,I=(0,t.jsx)(O.Z,{fill:"currentColor",className:"origin-center ".concat(x?"rotate-90":""),width:"0.6em",height:"0.6em"});if(E)return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{"data-id":A,"data-chunk":z,className:"hook-value-view",children:[(0,t.jsxs)("div",{className:"flex w-full my-0.5 items-center",children:[(0,t.jsx)("span",{className:"text-gray-400 w-[1.5em] h-[1.5em] cursor-pointer inline-flex justify-center items-center hover:text-gray-700 shrink-0",onClick:()=>eL(h),children:I}),u,F&&(0,t.jsx)(eR.Z,{size:"1em",className:"mr-0.5 shrink-0 text-red-400"}),(0,t.jsxs)("div",{className:"max-w-full flex line-clamp-1 break-all",children:[(0,t.jsx)("span",{className:"flex-shrink-0 cursor-pointer select-none whitespace-nowrap",onClick:()=>eL(h),onContextMenu:C,children:o}),(0,t.jsx)("span",{className:"flex-shrink-0 pr-1",children:":"}),(0,t.jsx)("span",{className:"hook-value-placeholder line-clamp-1 break-all",children:y?S:(0,t.jsx)(eu.Z,{className:"inline-block font-sm",width:"1em",height:"1em"})})]})]}),(p.current||x)&&(0,t.jsx)("div",{className:"".concat(x?"block":"hidden"," ml-6 my-0.5"),children:y?Array.isArray(y)?(0,t.jsx)(t.Fragment,{children:y.map((e,l)=>(0,t.jsx)(eD,{side:d,prevName:h,name:l.toString(),item:e,chunkId:z?A:m},l))}):(0,t.jsx)(t.Fragment,{children:Object.keys(y).sort().reverse().map(e=>(0,t.jsx)(eD,{side:d,prevName:h,name:e,item:y[e],chunkId:z?A:m},e))}):(0,t.jsx)(eo.c,{size:"sm"})})]})});{let e="String"===c.t?'"'.concat(String(c.v),'"'):String(c.v),l="ReadError"===c.t,n="Element"===c.t,s="Function"===c.t||"AsyncFunction"===c.t||"GeneratorFunction"===c.t,r=(0,t.jsx)("span",{className:"hook-".concat(c.t," pl-1 ").concat(l?"text-red-300":""," ").concat(n||s?"text-teal-600":""),children:e});return(0,t.jsx)("div",{"data-id":A,"data-chunk":z,className:"hook-value-view",children:(0,t.jsxs)("div",{className:"flex w-full my-0.5 items-center",children:[(0,t.jsx)("span",{className:"text-transparent w-[1.5em] h-[1.5em] inline-block shrink-0",children:I}),u,F&&(0,t.jsx)(eR.Z,{size:"1em",className:"mr-0.5 shrink-0 text-red-400"}),(0,t.jsxs)("div",{className:"w-full relative flex pr-2 line-clamp-1 break-all",children:[(0,t.jsx)("span",{className:"flex-shrink-0 cursor-pointer select-none whitespace-nowrap",onContextMenu:C,children:o}),(0,t.jsx)("span",{className:"flex-shrink-0",children:":"}),(0,t.jsx)("span",{className:"hook-value-placeholder flex-grow line-clamp-1 break-all"+(s||n?" cursor-pointer node-item-hover rounded-[2px] overflow-hidden":""),onClick:async()=>{(s||n)&&(eZ(A),eP(),await new Promise(e=>setTimeout(e,100)),eT())},title:e,children:r})]})]})})}},eG=()=>{let{isOpen:e,onOpen:l,onClose:n,onOpenChange:s}=(0,x.q)(),r=(0,h.C)(e=>e.root);return r&&r.list&&0!==r.list.length?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.A,{size:"sm",isIconOnly:!0,onPress:l,children:(0,t.jsx)(ea.Z,{className:"w-[1.2em]"})}),(0,t.jsx)(el.R,{isOpen:e,backdrop:"blur",size:"2xl",onClose:n,onOpenChange:s,placement:"top",children:(0,t.jsxs)(en.A,{children:[(0,t.jsx)(et.k,{children:(0,t.jsx)("h3",{children:"Trigger fiber"})}),(0,t.jsx)(es.I,{className:"p-4",children:(0,t.jsx)(er.d,{children:r.list.map(e=>(0,t.jsx)(ei.G,{title:(0,t.jsx)(B,{i:e.i,n:e.n,withCollapse:!1,withSelect:!1,withFallback:!0},e.i),children:e.updater.map((e,l)=>(0,t.jsx)("div",{className:"font-code",children:(0,t.jsx)(eI,{name:l.toString(),item:e})},l))},e.i))})})]})})]}):null},eV=()=>{let{state:e,record:l}=(0,h.C)(e=>({state:e.state,record:e.select})),{clearSelect:n}=h.C.getActions(),[s,r]=(0,a.useState)(0),i=(0,a.useRef)(null),{width:o}=F({ref:i}),c=0===s?e.length>4:e.length-4*s>4,u=s>0,m=e.slice(4*s,4*s+4),x=Math.ceil((0,a.useMemo)(()=>l?l.e-l.s:m.reduce((e,l)=>{var n,t;return e+((null==l?void 0:null===(n=l.stack)||void 0===n?void 0:n.e)||0)-((null==l?void 0:null===(t=l.stack)||void 0===t?void 0:t.s)||0)},0),[m,l]));return(0,t.jsxs)("div",{className:"w-full h-full overflow-auto",ref:i,style:{"--flameGraph-width-step":"calc(".concat(o-m.length,"px/").concat(x,")"),"--flameGraph-height-step":"20px"},children:[(0,t.jsxs)("div",{className:"sticky top-0 z-50",children:[(0,t.jsxs)("div",{className:"flex node-name p-2 pb-0 font-lg font-code bg-content1 transition-transform-background",children:[(0,t.jsx)(J,{}),(0,t.jsxs)("div",{className:"ml-auto flex gap-x-2 absolute right-4 top-0",children:[(u||c)&&(0,t.jsxs)(j.g,{size:"sm",children:[u&&(0,t.jsx)(d.A,{onPress:()=>{u&&(r(e=>e-1),n())},isIconOnly:!0,children:(0,t.jsx)(g.Z,{className:"w-[1.2em]"})}),c&&(0,t.jsx)(d.A,{onPress:()=>{c&&(r(e=>e+1),n())},isIconOnly:!0,children:(0,t.jsx)(w.Z,{className:"w-[1.2em]"})})]}),l&&(0,t.jsx)(d.A,{size:"sm",isIconOnly:!0,onPress:n,children:(0,t.jsx)(y.Z,{className:"w-[1.2em]"})}),(0,t.jsx)(eG,{}),(0,t.jsx)(p.e,{content:"Clear Recorded Data",showArrow:!0,placement:"bottom-end",children:(0,t.jsx)(d.A,{isIconOnly:!0,size:"sm",onPress:()=>{h.C.getActions().clearStack(),r(0)},children:(0,t.jsx)(N.Z,{className:"w-[1.2em]"})})})]})]}),(0,t.jsx)(f.j,{})]}),(0,t.jsx)("div",{className:"flex mt-1",children:(0,t.jsx)(ee,{item:l,list:m})})]})};var eK=n(78196),eW=n.n(eK);let e$=()=>{let e=(0,E.U)(e=>e.select);return(0,a.useEffect)(()=>{e&&E.U.getActions().scrollIntoView()},[e]),(0,t.jsx)(eW(),{id:"acdf72cf34e5424c",dynamic:[e],children:'[data-id="flameGraph-node-'.concat(e,'"]{opacity:1}')})},{startLoading:eH,stopLoading:eB,startProcessing:eJ,clearStack:eX}=h.C.getActions(),eY=()=>{let e=(0,m.Z)(e=>e.state.supportRecord),{loading:l,processing:n,state:s}=(0,h.C)(e=>({loading:e.loading,processing:e.processing,state:e.state})),{count:r,onStart:i,onStop:a}=v();return e?0===s.length?(0,t.jsxs)("div",{className:"flameGraph-view h-full flex flex-col items-center justify-center",children:[!l&&(0,t.jsx)(u.Z,{className:"mb-2"}),!l&&(0,t.jsx)("p",{className:"text-lg mb-2",children:"No recorded data. Please start recording to see the flameGraph."}),(0,t.jsx)(d.A,{onPress:()=>{l?(eX(),eB(),a(),eJ()):(eH(),i())},size:"sm",isLoading:n,children:n?"Processing":"".concat(l?"Stop":"Start"," Record ").concat(l?"(".concat(r,"s)"):"")})]}):(0,t.jsxs)("div",{className:"flameGraph-view h-full",children:[(0,t.jsx)(e$,{}),(0,t.jsx)(eV,{})]}):(0,t.jsx)("div",{className:"flameGraph-view h-full flex flex-col items-center justify-center",children:(0,t.jsx)("p",{className:"p-4",children:"FlameGraph recording is not supported in this environment."})})};var eQ=n(83571),e0=n(9680),e1=n(57727),e2=n(30030),e4=n(84925);let{close:e5,setStore:e6,setSource:e7}=eh.a.getActions(),e8=(0,a.memo)(()=>{let{state:e,position:l,type:n}=(0,eh.a)(e=>e);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{"data-context-cover":!0,className:"fixed w-screen h-screen top-0 left-0 z-[99999]",onContextMenu:e=>{e.preventDefault(),e5()},style:{display:e?"block":"none"},onClick:e5}),(0,t.jsx)("div",{"data-context-content":!0,className:"fixed z-[999999] font-sans",style:{top:l.y+4,left:l.x+4},children:(0,t.jsx)(eQ.M,{initial:!1,mode:"wait",children:e&&(0,t.jsxs)(e0.E.div,{className:"context-menu font-sm bg-content1 border rounded shadow-md py-1",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,t.jsxs)("div",{className:"context-menu-item px-2 cursor-pointer select-none flex justify-center items-center node-item-hover",onClick:async()=>{e6(),await new Promise(e=>setTimeout(e,100)),e5()},children:[(0,t.jsx)(e1.Z,{className:"mr-2 w-[1em]"}),(0,t.jsx)("span",{className:"flex-grow",children:"Store as global variable"})]}),("Function"===n||"AsyncFunction"===n||"GeneratorFunction"===n||"Element"===n)&&(0,t.jsxs)("div",{className:"context-menu-item px-2 cursor-pointer select-none flex justify-center items-center node-item-hover",onClick:async()=>{e7(),await new Promise(e=>setTimeout(e,100)),e5()},children:[("Function"===n||"AsyncFunction"===n||"GeneratorFunction"===n)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e2.Z,{className:"mr-2 w-[1em]"}),(0,t.jsx)("span",{className:"flex-grow",children:"Inspect Function source"})]}),"Element"===n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e4.Z,{className:"mr-2 w-[1em]"}),(0,t.jsx)("span",{className:"flex-grow",children:"Inspect Element node"})]})]})]},"context-menu")})})]})});e8.displayName="ContextMenu";var e3=n(66677),e9=n(42072);let le=e=>{let l=(0,a.useRef)(e);return l.current=e,(0,a.useCallback)(function(){for(var e,n,t=arguments.length,s=Array(t),r=0;r<t;r++)s[r]=arguments[r];return s.length?null===(e=l.current)||void 0===e?void 0:e.call(l,...s):null===(n=l.current)||void 0===n?void 0:n.call(l)},[])};var ll=n(82842),ln=n(16230);let{setKeys:lt,clear:ls}=ln.L.getActions(),lr=e=>{let{select:l,mode:n="vertical"}=e,s=(0,ll.W)(e=>e.triggerStatus),{layout:r,setLayout:i}=(0,ln.o)(),o=T.P.useShallowSelector(e=>{var n;return null===(n=e.state)||void 0===n?void 0:n[l]}),c=le((e,l)=>{let{_keysToLinkHook:n,...s}=l;return(0,t.jsx)("div",{className:"tree-wrapper cursor-pointer",onMouseEnter:()=>lt(n||[]),onMouseLeave:()=>lt([]),children:(0,t.jsx)(eI,{name:e.toString(),item:s})},e)}),u=o-9>=0?o-9:0,m=(null==s?void 0:s.length)>0;return((0,a.useEffect)(()=>ls,[]),r!==n)?null:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"node-trigger p-2 pb-0",children:[(0,t.jsxs)("div",{className:"flex items-center ",children:[(0,t.jsx)("span",{children:"trigger"}),(0,t.jsx)(d.A,{size:"sm",isIconOnly:!0,className:"ml-4",variant:"flat",onPress:()=>i("horizontal"===r?"vertical":"horizontal"),children:"horizontal"===r?(0,t.jsx)(e3.Z,{className:"w-[1.1em]"}):(0,t.jsx)(e9.Z,{className:"w-[1.1em]"})})]}),(0,t.jsx)(I.q,{y:1}),(0,t.jsx)("div",{className:"w-full font-code font-sm",children:null==s?void 0:s.map((e,l)=>c(u+l,e))})]}),"vertical"===n&&(0,t.jsx)(f.j,{})]}):null},li=e=>{let{select:l}=e,n=(0,ll.W)(e=>e.hmrInternal);return n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"node-hmr p-2 pb-0",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("span",{children:"hmr internal"})}),(0,t.jsx)(I.q,{y:1}),(0,t.jsx)("div",{className:"w-full font-code font-sm",children:(0,t.jsx)(eI,{name:"signature",item:n})})]}),(0,t.jsx)(f.j,{})]}):null},la=e=>{let{select:l}=e,n=(0,ll.W)(e=>e.warnStatus),s=_.R.useShallowSelector(e=>e.warn[l]),r=le((e,l)=>(0,t.jsx)("div",{className:"tree-wrapper",children:(0,t.jsx)(eI,{name:e.toString(),item:l})},e)),i=s-9>=0?s-9:0;return(null==n?void 0:n.length)>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"node-warn p-2 pb-0",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("span",{children:"warn"})}),(0,t.jsx)(I.q,{y:1}),(0,t.jsx)("div",{className:"w-full font-code font-sm",children:null==n?void 0:n.map((e,l)=>r(i+l,e))})]}),(0,t.jsx)(f.j,{})]}):null},lo=e=>{let{select:l}=e,n=(0,ll.W)(e=>e.errorStatus),s=_.R.useShallowSelector(e=>e.error[l]),r=le((e,l)=>(0,t.jsx)("div",{className:"tree-wrapper",children:(0,t.jsx)(eI,{name:e.toString(),item:l})},e)),i=s-9>=0?s-9:0;return(null==n?void 0:n.length)>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"node-error p-2 pb-0",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("span",{children:"error"})}),(0,t.jsx)(I.q,{y:1}),(0,t.jsx)("div",{className:"w-full font-code font-sm",children:null==n?void 0:n.map((e,l)=>r(i+l,e))})]}),(0,t.jsx)(f.j,{})]}):null},lc=()=>{let e=(0,E.U)(e=>e.select);return(0,ll.W)(e=>e.enable)&&e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(lr,{select:e}),(0,t.jsx)(li,{select:e}),(0,t.jsx)(la,{select:e}),(0,t.jsx)(lo,{select:e})]}):null},ld=e=>{let{mode:l}=e,n=(0,E.U)(e=>e.select);return n?(0,t.jsx)(lr,{select:n,mode:l}):null};var lu=n(30868);let lm=e=>{let{children:l,onHeightChange:n,onAttachRef:s}=e,r=(0,a.useRef)(null),i=le(n),o=le(s);return(0,b.L)(()=>{let e=()=>{r.current&&i(r.current.clientHeight)},l=new ResizeObserver(e);return e(),o(r),r.current&&l.observe(r.current),()=>{l.disconnect()}},[]),(0,t.jsx)("div",{"data-auto-height-wrapper":!0,ref:r,children:l})},lh=e=>{let{left:l,right:n}=e,s=(0,a.useRef)(null),r=(0,a.useRef)(),i=()=>{if(s.current){var e;let l=Math.max(...(null===(e=r.current)||void 0===e?void 0:e.map(e=>{var l;return(null===(l=e.current)||void 0===l?void 0:l.clientHeight)||0}))||[]);s.current.style.height="".concat(l+2,"px")}},o=(0,a.useCallback)(e=>{r.current||(r.current=[]),r.current.push(e)},[]);return(0,t.jsx)("div",{ref:s,children:(0,t.jsxs)(lu.oL,{children:[(0,t.jsx)(lm,{onHeightChange:i,onAttachRef:o,children:l}),(0,t.jsx)(lm,{onHeightChange:i,onAttachRef:o,children:n})]})})},{toggleExpand:lx}=eO.getActions(),lv=e=>{var l;let{item:n,enableEdit:s,hoverKeys:r}=e,[i,o]=(0,a.useState)(!1),c=n.h,d=(0,t.jsx)(O.Z,{fill:"currentColor",className:"origin-center ".concat(i?"rotate-90":""),width:"0.6em",height:"0.6em"}),u=(0,a.useMemo)(()=>null==r?void 0:r.some(e=>n.keys.includes(e)),[r,n.keys]);return c?(0,t.jsx)("div",{"data-hover-state-wrapper":!0,className:u?"hook-hover":"",children:(0,t.jsx)(eI,{name:n.n,item:n.v,editable:n.e&&s,hookIndex:n.i,type:"hook",prefix:(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(R.z,{classNames:{content:"p-0"},size:"sm",className:"rounded-sm text-center mr-1 flex-shrink-0 font-[300] !px-1 text-gray-800 dark:text-gray-200 !h-[1.4em] !max-w-[initial] !min-w-[initial]",children:n.i})})})}):(0,t.jsx)("div",{"data-hover-state-wrapper":!0,className:!i&&u?"hook-hover":"",children:(0,t.jsxs)("div",{className:"hook-stack-view",children:[(0,t.jsxs)("div",{className:"flex w-full my-0.5",children:[(0,t.jsx)("span",{className:"text-gray-400 w-[1.5em] h-[1.5em] cursor-pointer inline-flex justify-center items-center hover:text-gray-700",onClick:()=>o(!i),children:d}),(0,t.jsx)("div",{className:"max-w-full line-clamp-1 cursor-pointer ".concat("Anonymous"===n.n?"opacity-20":"opacity-40"),onClick:()=>o(!i),children:n.n}),"Anonymous"===n.n?null:":"]}),(0,t.jsx)("div",{className:"".concat(i?"block":"hidden"," ml-4 my-0.5"),children:null===(l=n.c)||void 0===l?void 0:l.map((e,l)=>(0,t.jsx)(lv,{item:e,enableEdit:s,hoverKeys:r},e.n+"-"+l))})]})})},lj=e=>{var l;let{prevName:n,item:s,side:r}=e,i=n+"_$_$_"+s.n,a=s.h,o=eO.useShallowSelector(e=>e.expand[i]),c=(0,t.jsx)(O.Z,{fill:"currentColor",className:"origin-center ".concat(o?"rotate-90":""),width:"0.6em",height:"0.6em"});return a?(0,t.jsx)(eD,{name:s.n,prevName:i,item:s.v,side:r,prefix:(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(R.z,{classNames:{content:"p-0"},size:"sm",className:"rounded-sm text-center mr-1 flex-shrink-0 font-[300] !px-1 text-gray-800 dark:text-gray-200 !h-[1.4em] !max-w-[initial] !min-w-[initial]",children:s.i})})}):(0,t.jsxs)("div",{className:"hook-stack-view",children:[(0,t.jsxs)("div",{className:"flex w-full my-0.5",children:[(0,t.jsx)("span",{className:"text-gray-400 w-[1.5em] h-[1.5em] cursor-pointer inline-flex justify-center items-center hover:text-gray-700",onClick:()=>lx(i),children:c}),(0,t.jsx)("div",{className:"max-w-full line-clamp-1 cursor-pointer ".concat("Anonymous"===s.n?"opacity-20":"opacity-40"),onClick:()=>lx(i),children:s.n}),"Anonymous"===s.n?null:":"]}),(0,t.jsx)("div",{className:"".concat(o?"block":"hidden"," ml-4 my-0.5"),children:null===(l=s.c)||void 0===l?void 0:l.map((e,l)=>(0,t.jsx)(lj,{side:r,item:e,prevName:i+"_$_$_"+l},e.n+"-"+l))})]})},lp=e=>{let{mode:l="vertical",node:n,editable:s=!0}=e,r=(0,m.Z)(e=>e.state.enableEdit),i=(0,ln.L)(e=>e.keys),a=null==n?void 0:n.i,o=(null==n?void 0:n._h)||[];return o.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"node-hooks p-2 pb-0",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("span",{children:"hooks"})}),(0,t.jsx)(I.q,{y:1}),(0,t.jsx)("div",{className:"w-full font-code font-sm",children:o.map((e,l)=>(0,t.jsx)("div",{className:"tree-wrapper",children:(0,t.jsx)(lv,{item:e,enableEdit:s&&r,hoverKeys:i})},a+"-"+l))})]}),"vertical"===l&&(0,t.jsx)(f.j,{})]}):null},lf=e=>{let{node:l}=e,n=(0,ln.o)(e=>e.layout);return(0,ll.W)(e=>e.enable)&&"horizontal"===n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(lh,{left:(0,t.jsx)(lp,{mode:"horizontal",node:l}),right:(0,t.jsx)(ld,{mode:"horizontal"})}),(0,t.jsx)(f.j,{})]}):(0,t.jsx)(lp,{node:l})},lg=e=>{let{node:l,side:n}=e,s=null==l?void 0:l.i,r=(null==l?void 0:l._h)||[];return r.length>0?(0,t.jsxs)("div",{className:"node-hooks p-2 pb-0",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("span",{children:"hooks"})}),(0,t.jsx)(I.q,{y:1}),(0,t.jsx)("div",{className:"w-full font-code font-sm",children:r.map((e,l)=>(0,t.jsx)("div",{className:"tree-wrapper",children:(0,t.jsx)(lj,{prevName:"hook_$_$_"+l,item:e,side:n})},s+"-"+l))})]}):null};var lw=n(36821),ly=n(7873);let lN=e=>{var l;let{node:n,editable:s=!0}=e,r=(0,m.Z)(e=>e.state.enableEdit),i=Object.keys((null==n?void 0:null===(l=n.p)||void 0===l?void 0:l.v)||{}),a=null==n?void 0:n.i,o=i.length>0,c=le(e=>{var l,o;let c=i[e],d=null==n?void 0:null===(o=n.p)||void 0===o?void 0:null===(l=o.v)||void 0===l?void 0:l[c];return(0,t.jsx)("div",{className:"tree-wrapper",children:(0,t.jsx)(eI,{name:c,type:"props",editable:s&&r,item:d})},a+"-"+e)});return o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"node-props p-2 pb-0",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("span",{children:"props"})}),(0,t.jsx)(I.q,{y:1}),(0,t.jsx)("div",{className:"w-full font-code font-sm",children:i.map((e,l)=>c(l))})]}),(0,t.jsx)(f.j,{})]}):null},lb=e=>{var l;let{node:n,side:s}=e,r=Object.keys((null==n?void 0:null===(l=n.p)||void 0===l?void 0:l.v)||{}),i=null==n?void 0:n.i,a=r.length>0,o=le(e=>{var l,a;let o=r[e],c=null==n?void 0:null===(a=n.p)||void 0===a?void 0:null===(l=a.v)||void 0===l?void 0:l[o];return(0,t.jsx)("div",{className:"tree-wrapper",children:(0,t.jsx)(eD,{name:o,side:s,prevName:"props",item:c})},i+"-"+e)});return a?(0,t.jsxs)("div",{className:"node-props p-2 pb-0",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("span",{children:"props"})}),(0,t.jsx)(I.q,{y:1}),(0,t.jsx)("div",{className:"w-full font-code font-sm",children:r.map((e,l)=>o(l))})]}):null},lk=e=>{var l,n,s;let{node:r,editable:i=!0}=e,a=(0,m.Z)(e=>e.state.enableEdit),o=Object.keys((null==r?void 0:null===(l=r.s)||void 0===l?void 0:l.t)!=="Null"&&(null==r?void 0:null===(n=r.s)||void 0===n?void 0:n.t)!=="Undefined"&&(null==r?void 0:null===(s=r.s)||void 0===s?void 0:s.v)||{}),c=null==r?void 0:r.i,d=o.length>0,u=le(e=>{var l,n;let s=o[e];return(0,t.jsx)("div",{className:"tree-wrapper",children:(0,t.jsx)(eI,{name:s,type:"state",editable:i&&a,item:null==r?void 0:null===(n=r.s)||void 0===n?void 0:null===(l=n.v)||void 0===l?void 0:l[s]})},c+"-"+e)});return d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"node-states p-2 pb-0",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("span",{children:"states"})}),(0,t.jsx)(I.q,{y:1}),(0,t.jsx)("div",{className:"w-full font-code font-sm",children:o.map((e,l)=>u(l))})]}),(0,t.jsx)(f.j,{})]}):null},lA=e=>{var l,n,s;let{node:r,side:i}=e,a=Object.keys((null==r?void 0:null===(l=r.s)||void 0===l?void 0:l.t)!=="Null"&&(null==r?void 0:null===(n=r.s)||void 0===n?void 0:n.t)!=="Undefined"&&(null==r?void 0:null===(s=r.s)||void 0===s?void 0:s.v)||{}),o=null==r?void 0:r.i,c=a.length>0,d=le(e=>{var l,n;let s=a[e];return(0,t.jsx)("div",{className:"tree-wrapper",children:(0,t.jsx)(eD,{name:s,side:i,prevName:"state",item:null==r?void 0:null===(n=r.s)||void 0===n?void 0:null===(l=n.v)||void 0===l?void 0:l[s]})},o+"-"+e)});return c?(0,t.jsxs)("div",{className:"node-states p-2 pb-0",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("span",{children:"states"})}),(0,t.jsx)(I.q,{y:1}),(0,t.jsx)("div",{className:"w-full font-code font-sm",children:a.map((e,l)=>d(l))})]}):null},lS=e=>{let{node:l,side:n}=e;return(0,t.jsxs)("div",{className:"group h-full overflow-auto w-[50%]",children:[(0,t.jsx)(lb,{node:l,side:n},null==l?void 0:l.i),(0,t.jsx)(lA,{node:l,side:n},null==l?void 0:l.i),(0,t.jsx)(lg,{node:l,side:n},null==l?void 0:l.i)]})},{storeFiber:lC,triggerFiber:lF,scrollIntoView:lz,inspectComAction:lE,inspectDomAction:lI}=E.U.getActions(),lR=e=>{let{node:l}=e,[n,s]=(0,a.useState)(0),r=z.K.useShallowStableSelector(e=>e.prevNode),{isOpen:i,onOpen:o,onClose:c,onOpenChange:u}=(0,x.q)(),m=l&&((null==l?void 0:l.t)&k.NODE_TYPE.__class__||(null==l?void 0:l.t)&k.NODE_TYPE.__function__);return((0,a.useEffect)(()=>{s(e=>e+1)},[r]),(0,a.useEffect)(()=>eO.getActions().reset,[]),l)?(0,t.jsxs)("div",{className:"sticky top-0 z-50",children:[(0,t.jsxs)("div",{className:"node-name p-2 pb-0 font-lg font-code bg-content1 transition-transform-background",children:[(0,t.jsx)(H,{node:l,withCollapse:!1,withSelect:!1,withKey:!1,withRunningCount:!0}),(0,t.jsxs)(j.g,{className:"absolute right-4 top-0",children:[(0,t.jsx)(p.e,{content:"force scroll to select",showArrow:!0,color:"foreground",placement:"bottom-end",children:(0,t.jsx)(d.A,{isIconOnly:!0,size:"sm",variant:"flat",onPress:lz,children:(0,t.jsx)(lw.Z,{className:"w-[1.1em]"})})}),(0,t.jsx)(p.e,{content:"store fiber node",showArrow:!0,color:"foreground",placement:"bottom-end",children:(0,t.jsx)(d.A,{isIconOnly:!0,size:"sm",variant:"flat",onPress:lC,children:(0,t.jsx)(e1.Z,{className:"w-[1.1em]"})})}),(0,t.jsx)(p.e,{content:"force trigger",showArrow:!0,color:"foreground",placement:"bottom-end",children:(0,t.jsx)(d.A,{isIconOnly:!0,size:"sm",variant:"flat",onPress:lF,children:(0,t.jsx)(O.Z,{className:"w-[1.1em]"})})}),(0,t.jsx)(p.e,{content:"inspect dom",showArrow:!0,color:"foreground",placement:"bottom-end",children:(0,t.jsx)(d.A,{isIconOnly:!0,size:"sm",variant:"flat",onPress:lI,children:(0,t.jsx)(e4.Z,{className:"w-[1.1em]"})})}),!!m&&(0,t.jsx)(p.e,{content:"inspect code",showArrow:!0,color:"foreground",placement:"bottom-end",children:(0,t.jsx)(d.A,{isIconOnly:!0,size:"sm",variant:"flat",onPress:lE,children:(0,t.jsx)(e2.Z,{className:"w-[1.1em]"})})}),r&&l&&(0,t.jsx)(p.e,{content:"compare with previous node",showArrow:!0,color:"foreground",placement:"bottom-end",children:(0,t.jsx)(d.A,{isIconOnly:!0,size:"sm",variant:"flat",onPress:o,children:(0,t.jsx)(ly.Z,{className:"w-[1.1em] rotate-180"})})})]})]}),(0,t.jsx)(f.j,{}),(0,t.jsx)(el.R,{isOpen:i,scrollBehavior:"inside",size:"4xl",onClose:c,onOpenChange:u,children:(0,t.jsxs)(en.A,{children:[(0,t.jsx)(et.k,{children:(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("h2",{children:["Compare Node (+",n,")"]})})}),(0,t.jsx)(es.I,{className:"font-sm",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(lS,{node:r,side:"l"}),(0,t.jsx)(f.j,{className:"h-auto",orientation:"vertical"}),(0,t.jsx)(lS,{node:l,side:"r"})]})})]})})]}):null};var lO=n(86332),l_=n(24001),lZ=n(75777);let{scrollIntoView:lM}=E.U.getActions(),lP=e=>{let{node:l}=e,n=null==l?void 0:l._t,s=null==l?void 0:l._t,r=(0,l_.k)(e=>e.filter),i=(0,a.useMemo)(()=>Array.from(r).map(e=>+e),[r]),o=(0,lO.p)(e=>e.list),c=null==s?void 0:s[(null==s?void 0:s.length)-1];(null==c?void 0:c.startsWith("$$ "))?(s=null==s?void 0:s.slice(0,-1),c=c.slice(3)):c=void 0;let d=null==s?void 0:s[(null==s?void 0:s.length)-1];(null==d?void 0:d.startsWith("$$ "))?(s=null==s?void 0:s.slice(0,-1),d=d.slice(3)):d=void 0;let u=(0,a.useMemo)(()=>null==s?void 0:s.map(e=>o.find(l=>l.i===e)),[o,s]),m=(0,a.useMemo)(()=>null==u?void 0:u.filter(e=>!(0,lZ.VR)(e,i)),[i,u]),h=le(e=>{let l=null==m?void 0:m[e];return l?(0,t.jsx)("div",{className:"ml-2",onClick:lM,children:(0,t.jsx)(H,{node:l,withCollapse:!1,withRunningCount:!0})},l.i):null});return(null==n?void 0:n.length)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"node-renders p-2 pb-0",children:[(0,t.jsx)("div",{children:"renders"}),(0,t.jsx)(I.q,{y:1}),(0,t.jsxs)("div",{className:"w-full font-code font-sm",children:[m.map((e,l)=>h(l)),d&&(0,t.jsx)("div",{className:"ml-2 px-[2px]",children:d}),(0,t.jsx)("div",{className:"ml-2 px-[2px]",children:c||"@my-react"})]})]}),(0,t.jsx)(f.j,{})]}):null},lT=e=>{let{node:l}=e,n=null==l?void 0:l._s;return(null==n?void 0:n.value)?(0,t.jsxs)("div",{className:"node-source p-2 pb-0",children:[(0,t.jsx)("div",{children:"source"}),(0,t.jsx)(I.q,{y:1}),(0,t.jsx)("div",{className:"w-full font-code font-sm",children:(0,t.jsx)("div",{className:"ml-2 px-[2px] text-gray-600",children:n.value})})]}):null},lL=()=>{let e=E.U.useShallowStableSelector(e=>e.select),{loading:l,node:n}=z.K.useShallowSelector(l=>{var n;return{node:null===(n=l.nodes)||void 0===n?void 0:n.find(l=>l.i===e),loading:l.loading}});return l?(0,t.jsx)("div",{className:"node-view h-full flex items-center justify-center",children:(0,t.jsx)(eo.c,{color:"primary"})}):(0,t.jsx)("div",{className:"node-view h-full",children:(0,t.jsxs)("div",{className:"group h-full overflow-auto",children:[(0,t.jsx)(lR,{node:n},e),(0,t.jsx)(lN,{node:n},e),(0,t.jsx)(lk,{node:n},e),(0,t.jsx)(lf,{node:n},e),(0,t.jsx)(lc,{},e),(0,t.jsx)(lP,{node:n},e),(0,t.jsx)(lT,{node:n},e),(0,t.jsx)(e8,{},e)]})})},lq=()=>{let e=c(e=>e.mode);return(0,t.jsxs)("div",{className:"detail-view h-full p-1",children:["node"===e&&(0,t.jsx)(lL,{}),"flameGraph"===e&&(0,t.jsx)(eY,{})]})};var lU=n(5384),lD=n(80758);let lG=()=>{let[e,l]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=window.matchMedia("(max-width: 768px)");return e.addEventListener("change",e=>{l(e.matches)}),l(window.innerWidth<=768),()=>{e.removeEventListener("change",()=>{})}},[]),e},lV=e=>{let{left:l,right:n}=e,s=lG();return(0,t.jsx)(lU.w,{className:"w-full",radius:"sm",children:(0,t.jsx)(lD.G,{className:"w-full p-0",children:(0,t.jsxs)(lu.oL,{vertical:s,children:[l,n]},s?"1":"2")})})};var lK=n(26277);let lW=()=>{let e=(0,a.useRef)();(0,a.useEffect)(()=>{let l=l=>{let n=E.U.getReadonlyState().select;if(!n)return null;if("ArrowDown"===l.key){let t=lO.p.getReadonlyState().list,s=t.findIndex(e=>e.i===n);return -1!==s&&s<t.length-1&&(e.current=t[s+1].i,l.preventDefault(),l.stopPropagation()),!1}if("ArrowUp"===l.key){let t=lO.p.getReadonlyState().list,s=t.findIndex(e=>e.i===n);return s>0&&(e.current=t[s-1].i,l.preventDefault(),l.stopPropagation()),!1}},n=l=>{("ArrowDown"===l.key||"ArrowUp"===l.key)&&e.current&&(E.U.getActions().setSelect(e.current),E.U.getActions().scrollIntoView(),e.current=void 0,l.preventDefault(),l.stopPropagation())};return window.addEventListener("keydown",l),window.addEventListener("keyup",n),()=>{window.removeEventListener("keydown",l),window.removeEventListener("keyup",n)}},[])},l$=()=>{let e=(0,E.U)(e=>e.hover);return(0,t.jsx)(eW(),{id:"90b5507acfe48a25",dynamic:[e,e],children:'[data-indent="'.concat(e,'"]{display:block}[data-indent-next="').concat(e,'"]{display:block}')})};var lH=n(90510),lB=n(64613),lJ=n(45338),lX=n(56229),lY=n(82663),lQ=n(40799),l0=n(71625),l1=n(63727),l2=n(28048),l4=n(15017),l5=n(64185),l6=n(77977),l7=n(64568),l8=n(72467),l3=n(12971),l9=n(58152),ne=n(99286),nl=n(36221),nn=n(29053),nt=n(85618),ns=n(38622),nr=n(65202),ni=n(85872),na=n(76448);let{setSelect:no}=E.U.getActions(),{toggleHoverOnBrowser:nc}=m.Z.getActions(),nd=(0,a.memo)(e=>{var l;let{handle:n}=e,[r,i]=(0,a.useState)(""),o=(0,lO.p)(e=>e.list),[c,u]=(0,a.useState)(0),[h,x]=(0,a.useState)([]),[v,f]=(0,a.useState)([]),g=(0,M.i)(e=>e.map),w=m.Z.useShallowStableSelector(e=>e.state.enableHoverOnBrowser),N=h[c],b=null===(l=v[N])||void 0===l?void 0:l.i;return(0,a.useEffect)(()=>{u(0),x([])},[r]),(0,a.useEffect)(()=>{void 0!==N&&(no(b,!0),null==n||n.scrollToIndex({index:N,align:"center"}))},[N,n,b]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.e,{content:"hover on the browser",showArrow:!0,color:"foreground",children:(0,t.jsx)(d.A,{isIconOnly:!0,variant:"flat",onPress:nc,children:(0,t.jsx)(nr.Z,{className:w?"text-green-400 h-[1.2em]":"text-gray-400 h-[1.2em]"})})}),(0,t.jsx)(I.q,{x:2}),(0,t.jsx)("form",{onSubmit:e=>{var l;if(null==e||null===(l=e.preventDefault)||void 0===l||l.call(e),r){u(0);let e=o.map(e=>({...e,_name:g[e.n]})),l=e.map((e,l)=>e._name.includes(r)?l:-1).filter(e=>-1!==e);f(e),x(l),0===l.length?(0,s.fz)({severity:"danger",description:"Can't find current name",title:"error",color:"danger"}):(0,s.fz)({severity:"success",description:"Find ".concat(l.length," items"),title:"success",color:"success"})}},children:(0,t.jsx)(ns.Y,{placeholder:"Search component",className:"w-full",value:r,variant:"flat",onChange:e=>i(e.target.value),endContent:(0,t.jsx)("button",{className:"focus:outline-none",type:"submit",children:(0,t.jsx)(ni.Z,{className:"text-black/50 h-[1em] dark:text-white/90 text-slate-400 flex-shrink-0"})})})}),h.length>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.q,{x:2}),(0,t.jsxs)(j.g,{variant:"flat",children:[(0,t.jsx)(p.e,{content:"Total ".concat(h.length,", current ").concat(c+1),showArrow:!0,color:"foreground",children:(0,t.jsx)(d.A,{isIconOnly:!0,onPress:()=>u(e=>(e-1+h.length)%h.length),isDisabled:0===c,children:(0,t.jsx)(y.Z,{className:"w-[1.2em]"})})}),(0,t.jsx)(p.e,{content:"Total ".concat(h.length,", current ").concat(c+1),showArrow:!0,color:"foreground",children:(0,t.jsx)(d.A,{isIconOnly:!0,onPress:()=>u(e=>(e+1)%h.length),isDisabled:c===h.length-1,children:(0,t.jsx)(na.Z,{className:"w-[1.2em]"})})})]})]})]})});nd.displayName="TreeViewSearch";let nu=l_.k.getActions().onChange,nm=ll.W.getActions().toggleEnable,nh=(0,a.memo)(e=>{let{handle:l}=e,{isOpen:n,onOpen:s,onClose:r,onOpenChange:i}=(0,x.q)(),{theme:a,setTheme:o}=(0,nl.F)(),{mode:u,toggleMode:h}=c(),{clearHMR:v}=Z.m.getActions(),{clearTrigger:g}=T.P.getActions(),{clearMessage:w}=_.R.getActions(),{state:y,setEnableHover:N,setEnableUpdate:b,toggleEnableRetrigger:A,setEnableEdit:S}=(0,m.Z)(),{state:C,setUISize:F}=(0,nt.Z)(),z=(0,ll.W)(e=>e.enable),{state:E,cb:R}=(0,nn.$)(e=>({state:e.state,cb:e.cb})),O=(0,l_.k)(e=>e.filter);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"fixed top-3 right-3 z-10 flex",children:[(0,t.jsx)(nd,{handle:l}),(0,t.jsx)(I.q,{x:2}),(0,t.jsxs)(j.g,{variant:"flat",children:[(0,t.jsx)(p.e,{content:(0,t.jsx)("p",{className:E?"text-green-400":"text-red-400",children:E?"DevTool Connect":"DevTool DisConnect"}),showArrow:!0,children:(0,t.jsx)(d.A,{isIconOnly:!0,onPress:()=>null==R?void 0:R(),disabled:E,children:E?(0,t.jsx)(l1.Z,{className:"text-green-500 w-[1.2em]"}):(0,t.jsx)(l2.Z,{className:" text-red-500 w-[1.2em]"})})}),(0,t.jsx)(d.A,{isIconOnly:!0,onPress:()=>o("dark"===a?"light":"dark"),children:"dark"===a?(0,t.jsx)(l4.Z,{className:"text-gray-500 w-[1.2em]"}):(0,t.jsx)(l5.Z,{className:"text-orange-500 w-[1.2em]"})}),(0,t.jsx)(p.e,{content:"Detail mode",showArrow:!0,color:"foreground",children:(0,t.jsx)(d.A,{isIconOnly:!0,onPress:h,children:"node"===u?(0,t.jsx)(l6.Z,{className:"text-blue-600 w-[1.2em]"}):(0,t.jsx)(l7.Z,{className:"text-yellow-600 w-[1.2em]"})})}),(0,t.jsx)(p.e,{content:"Setting",showArrow:!0,color:"foreground",children:(0,t.jsx)(d.A,{isIconOnly:!0,onPress:s,children:(0,t.jsx)(l8.Z,{className:n?"text-green-500 w-[1.2em]":"text-gray-500 w-[1.2em]"})})})]})]}),(0,t.jsx)(el.R,{isOpen:n,backdrop:"blur",size:"2xl",onClose:r,onOpenChange:i,placement:"top",children:(0,t.jsxs)(en.A,{children:[(0,t.jsx)(et.k,{children:(0,t.jsxs)("h3",{className:"font-lg",children:["Setting - ",(0,t.jsx)(lH.z,{children:"@my-react/devtool"})]})}),(0,t.jsxs)(es.I,{children:[(0,t.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,t.jsxs)("p",{className:"whitespace-nowrap flex items-center text-foreground-500",children:[(0,t.jsx)(l3.Z,{className:"w-[1.2em] mr-2"}),"Filter Node:"]}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)(lB.g,{selectionMode:"multiple",placeholder:"Select a Type",variant:"bordered",selectedKeys:O,"aria-label":"Filter Node",className:"flex items-center",onChange:e=>{nu(new Set(e.target.value.split(",")))},children:k.typeKeys.map(e=>(0,t.jsx)(lJ.R,{children:(0,k.getTypeName)(e)},e))})})]}),(0,t.jsx)(f.j,{}),(0,t.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,t.jsxs)("p",{className:"whitespace-nowrap flex items-center text-foreground-500",children:[(0,t.jsx)(l9.Z,{className:"w-[1.2em] mr-2"}),"UI Size:"]}),(0,t.jsxs)(lX.X,{value:C,onValueChange:e=>F(e),orientation:"horizontal",classNames:{wrapper:"gap-x-6"},children:[(0,t.jsx)(lY.J,{value:nt.E.sm,children:"Small Size"}),(0,t.jsx)(lY.J,{value:nt.E.md,children:"Medium Size"}),(0,t.jsx)(lY.J,{value:nt.E.lg,children:"Large Size"})]})]}),(0,t.jsx)(f.j,{}),(0,t.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,t.jsxs)("p",{className:"whitespace-nowrap flex items-center  text-foreground-500",children:[(0,t.jsx)(ne.Z,{className:"w-[1.2em] mr-2"}),"Config:"]}),(0,t.jsx)(lQ.K,{isSelected:y.enableUpdate,radius:"full",onValueChange:b,color:"primary",children:"Highlight Update"}),(0,t.jsx)(lQ.K,{isSelected:y.enableHover,radius:"full",onValueChange:N,color:"secondary",children:"Hover Overlay"}),(0,t.jsx)(lQ.K,{isSelected:y.enableRetrigger,radius:"full",onValueChange:A,color:"warning",children:"Retrigger Status"}),(0,t.jsx)(lQ.K,{isSelected:z,radius:"full",onValueChange:nm,color:"default",children:"Extend Node Detail"}),(0,t.jsx)(lQ.K,{isSelected:y.enableEdit,radius:"full",onValueChange:S,color:"success",children:"Edit Update"})]}),(0,t.jsx)(f.j,{}),(0,t.jsxs)("div",{className:"flex gap-x-2",children:[(0,t.jsx)(d.A,{size:"sm",color:"default",variant:"bordered",onPress:v,children:"Clear All HMR"}),(0,t.jsx)(d.A,{size:"sm",color:"default",variant:"bordered",onPress:g,children:"Clear All Trigger"}),(0,t.jsx)(d.A,{size:"sm",color:"default",variant:"bordered",onPress:w,children:"Clear All Message"})]})]}),(0,t.jsx)(I.q,{y:4})]}),(0,t.jsx)(l0.R,{children:(0,t.jsx)(d.A,{onPress:r,children:"Close"})})]})})]})});nh.displayName="TreeViewSetting";let nx=(0,k.debounce)((e,l,n)=>{let t=Array.from(e.querySelectorAll("[data-depth]")),s=e.clientWidth,r=l.current||12;for(let e of(s>n.current&&(r=12),n.current=s,t)){var i;let l=parseInt(e.getAttribute("data-depth")||"0",10)||0;0!==l&&(r=Math.min(r,Math.max(0,s-((null===(i=e.querySelector("[data-content]"))||void 0===i?void 0:i.clientWidth)||0)-6)/l))}l.current=r,e.style.setProperty("--indentation-size","".concat(r,"px")),e.style.setProperty("--width-size","".concat(s,"px")),e.style.opacity="1"},16),nv=(0,a.memo)(e=>{let{onScroll:l,data:n,onMount:s}=e,r=(0,a.useRef)(null),[i,o]=(0,a.useState)(0),c=(0,a.useRef)(!1),d=(0,a.useRef)(n);return d.current=n,(0,a.useEffect)(()=>{let e=()=>{var e,n;let t=E.U.getReadonlyState().select;if(null==t)return;let s=null===(e=d.current)||void 0===e?void 0:e.findIndex(e=>e.i===t);-1!==s&&(c.current?null===(n=r.current)||void 0===n||n.scrollIntoView({index:s,align:"center",done:l}):(c.current=!0,o(s)))},t=E.U.subscribe(e=>e.scroll,e);return n.length&&e(),t},[l,n.length]),(0,a.useEffect)(()=>{let e=setTimeout(()=>c.current=!0,1e3);return()=>clearTimeout(e)},[]),(0,a.useEffect)(()=>(s(r.current),()=>s()),[s,i]),(0,t.jsx)(lK.OO,{className:"font-code font-sm overflow-x-hidden",ref:r,increaseViewportBy:300,onScroll:l,initialTopMostItemIndex:{index:i,align:"center"},totalCount:n.length,itemContent:(e,l)=>{let s=n[e];return s?(0,t.jsx)(H,{node:s}):null}},i)});nv.displayName="TreeViewImpl";let nj=(0,a.memo)(()=>{let e=(0,a.useRef)(null),l=lO.p.useShallowStableSelector(e=>e.list),{width:n,height:s}=F({ref:e}),[r,i]=(0,a.useState)(),o=(0,a.useRef)(12),c=(0,a.useRef)(n);lW();let d=(0,a.useCallback)(()=>{e.current&&nx(e.current,o,c)},[]);return(0,a.useEffect)(()=>{d()},[d,n,s,l.length]),(0,t.jsx)("div",{className:"tree-view h-full p-1",children:(0,t.jsxs)("div",{className:"group h-full transform-gpu",ref:e,style:{opacity:0},children:[(0,t.jsx)(l$,{}),l.length>0&&(0,t.jsx)(nv,{onScroll:d,data:l,onMount:i}),(0,t.jsx)(nh,{handle:r})]})})});function np(){let e=(0,nn.$)(e=>e.error);return(0,a.useEffect)(()=>{e&&(0,s.fz)({severity:"danger",description:e,title:"error",color:"danger"})},[e]),(0,t.jsxs)("main",{className:"flex p-1 h-screen",children:[(0,t.jsx)(i(),{children:(0,t.jsx)("title",{children:"@my-react devtools"})}),(0,t.jsx)(lV,{left:(0,t.jsx)(nj,{}),right:(0,t.jsx)(lq,{})})]})}nj.displayName="TreeView"}},function(e){e.O(0,[3039,8762,7191,2888,9774,179],function(){return e(e.s=16010)}),_N_E=e.O()}]);