(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7869],{83685:function(e,o,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bridge",function(){return n(73234)}])},73234:function(e,o,n){"use strict";n.r(o),n.d(o,{default:function(){return v}});var t=n(30282),r=n(44283),s=n(3403),i=n(93723),l=n(90188);let u=null,d=e=>{var o;null===(o=window.top)||void 0===o||o.postMessage({from:t.sourceFrom.iframe,to:t.sourceFrom.hook,...e,source:r.DevToolSource},"*")},a=e=>{null==u||u.postMessage({from:t.sourceFrom.iframe,...e,source:r.DevToolSource})},c=()=>{let{query:e}=(0,s.useRouter)();(0,i.useEffect)(()=>{if(window!==window.top&&window.top&&(null==e?void 0:e.token)){u=new BroadcastChannel("@my-react-"+(null==e?void 0:e.token));let o=e=>{var o;console.log("[Dev mode] bridge message to bridge",e.data),(null===(o=e.data)||void 0===o?void 0:o.source)===r.DevToolSource&&a(e.data)},n=e=>{var o;console.log("[Dev mode] bridge message to app",e.data),(null===(o=e.data)||void 0===o?void 0:o.source)===l.o&&d(e.data)},t=()=>{console.log("[Dev mode] bridge disconnect"),window.removeEventListener("message",o),null==u||u.removeEventListener("message",n),null==u||u.close()};return console.log("[Dev mode] bridge connect"),window.addEventListener("message",o),null==u||u.addEventListener("message",n),d({type:"bridge-init"}),a({type:"bridge-init"}),()=>{t()}}},[null==e?void 0:e.token])};function v(){return c(),null}}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=83685)}),_N_E=e.O()}]);