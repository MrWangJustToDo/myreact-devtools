(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7869],{38713:function(e,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bridge",function(){return o(3583)}])},3583:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return c}});var t=o(25567),d=o(89589),i=o(80683),s=o(27160);let l=null,r=e=>{var n;null===(n=window.top)||void 0===n||n.postMessage({from:i.Dp,...e,source:s.$6},"*")},u=e=>{null==l||l.postMessage({...e,source:s.$6})},a=()=>{let{query:e}=(0,t.useRouter)();(0,d.useEffect)(()=>{if(window!==window.top&&window.top&&(null==e?void 0:e.token)){l=new BroadcastChannel("@my-react-"+(null==e?void 0:e.token));let n=e=>{var n;console.log("[Dev mode] bridge message to bridge",e.data),(null===(n=e.data)||void 0===n?void 0:n.source)===s.$6&&u(e.data)},o=e=>{var n;console.log("[Dev mode] bridge message to app",e.data),(null===(n=e.data)||void 0===n?void 0:n.source)===i.oo&&r(e.data)},t=()=>{console.log("[Dev mode] bridge disconnect"),window.removeEventListener("message",n),null==l||l.removeEventListener("message",o),null==l||l.close()};return console.log("[Dev mode] bridge connect"),window.addEventListener("message",n),null==l||l.addEventListener("message",o),r({type:"bridge-init"}),u({type:"bridge-init"}),()=>{t()}}},[null==e?void 0:e.token])};function c(){return a(),null}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=38713)}),_N_E=e.O()}]);